/*! For license information please see 2.82309f4e.chunk.js.LICENSE.txt */
(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[2],[function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function f(e){return this instanceof f?(this.v=e,this):new f(e)}function h(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof f?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}Object.create},function(e,t,n){"use strict";e.exports=n(371)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(338);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==t&&n.call(b,a)&&(m=b);var y=v.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function i(o,a,s,c){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Object(r.a)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,c)}),(function(e){i("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,c)}))}c(u.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=v,u(y,"constructor",v),u(v,"constructor",p),p.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(y),u(y,c,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Ae})),n.d(t,"b",(function(){return De})),n.d(t,"c",(function(){return be})),n.d(t,"e",(function(){return Ne}));var r=n(171),i=n(1),o=n.n(i),a=n(341),s=n.n(a),c=n(342),u=n(343),l=n(173),d=n(54),f=n.n(d);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},m=Object.freeze([]),g=Object.freeze({});function b(e){return"function"==typeof e}function y(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var S="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",k="undefined"!=typeof window&&"HTMLElement"in window,C=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),O={};function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&x(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),_=new Map,T=new Map,I=1,A=function(e){if(_.has(e))return _.get(e);for(;T.has(I);)I++;var t=I++;return _.set(e,t),T.set(t,e),t},M=function(e){return T.get(e)},P=function(e,t){t>=I&&(I=t+1),_.set(e,t),T.set(t,e)},j="style["+S+'][data-styled-version="5.3.5"]',R=new RegExp("^"+S+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},N=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(R);if(s){var c=0|parseInt(s[1],10),u=s[2];0!==c&&(P(u,c),D(e,u,s[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(a)}}},L=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(S))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(S,"active"),r.setAttribute("data-styled-version","5.3.5");var a=L();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},U=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}x(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),B=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),z=k,H={isServer:!k,useCSSOMInjection:!C},W=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=h({},H,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&k&&z&&(z=!1,function(e){for(var t=document.querySelectorAll(j),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(S)&&(N(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return A(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(h({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new V(i):r?new U(i):new B(i),new E(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(A(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(A(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(A(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=M(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var c=S+".g"+i+'[id="'+o+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+c+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),q=/(a)(d)/gi,K=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=K(t%52)+n;return(K(t%52)+n).replace(q,"$1-$2")}var J=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$=function(e){return J(5381,e)};function Y(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(b(n)&&!w(n))return!1}return!0}var Q=$("5.3.5"),Z=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Y(e),this.componentId=t,this.baseHash=J(Q,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=me(this.rules,e,t,n).join(""),a=G(J(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,u=J(this.baseHash,n.hash),l="",d=0;d<c;d++){var f=this.rules[d];if("string"==typeof f)l+=f;else if(f){var h=me(f,e,t,n),p=Array.isArray(h)?h.join(""):h;u=J(u,p+d),l+=p}}if(l){var v=G(u>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),X=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,o=void 0===e?g:e,a=o.options,s=void 0===a?g:a,u=o.plugins,l=void 0===u?m:u,d=new c.a(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,c,u,l,d){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,o){return 0===r&&-1!==ee.indexOf(o[n.length])||o.match(i)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var c=e.replace(X,""),u=o&&a?a+" "+o+" { "+c+" }":c;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),d(a||!o?"":o,u)}return d.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||x(15),J(e,t.name)}),5381).toString():"",v}var ne=o.a.createContext(),re=(ne.Consumer,o.a.createContext()),ie=(re.Consumer,new W),oe=te();function ae(){return Object(i.useContext)(ne)||ie}function se(){return Object(i.useContext)(re)||oe}function ce(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ae(),c=Object(i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=Object(i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(ne.Provider,{value:c},o.a.createElement(re.Provider,{value:u},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return x(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),le=/([A-Z])/,de=/([A-Z])/g,fe=/^ms-/,he=function(e){return"-"+e.toLowerCase()};function pe(e){return le.test(e)?e.replace(de,he).replace(fe,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=me(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ve(e)?"":w(e)?"."+e.styledComponentId:b(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof ue?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!ve(t[a])&&(Array.isArray(t[a])&&t[a].isCss||b(t[a])?o.push(pe(a)+":",t[a],";"):v(t[a])?o.push.apply(o,e(t[a],a)):o.push(pe(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var c}var ge=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return b(e)||v(e)?ge(me(p(m,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(me(p(e,n)))}new Set;var ye=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},we=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Se=/(^-|-$)/g;function ke(e){return e.replace(we,"-").replace(Se,"")}var Ce=function(e){return G($(e)>>>0)};function Oe(e){return"string"==typeof e&&!0}var xe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function _e(e,t,n){var r=e[n];xe(t)&&xe(r)?Te(r,t):e[n]=t}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(xe(a))for(var s in a)Ee(s)&&_e(e,a[s],s)}return e}var Ie=o.a.createContext();Ie.Consumer;function Ae(e){var t=Object(i.useContext)(Ie),n=Object(i.useMemo)((function(){return function(e,t){return e?b(e)?e(t):Array.isArray(e)||"object"!=typeof e?x(8):t?h({},t,{},e):e:x(14)}(e.theme,t)}),[e.theme,t]);return e.children?o.a.createElement(Ie.Provider,{value:n},e.children):null}var Me={};function Pe(e,t,n){var r=w(e),a=!Oe(e),s=t.attrs,c=void 0===s?m:s,u=t.componentId,d=void 0===u?function(e,t){var n="string"!=typeof e?"sc":ke(e);Me[n]=(Me[n]||0)+1;var r=n+"-"+Ce("5.3.5"+n+Me[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,p=t.displayName,v=void 0===p?function(e){return Oe(e)?"styled."+e:"Styled("+y(e)+")"}(e):p,S=t.displayName&&t.componentId?ke(t.displayName)+"-"+t.componentId:t.componentId||d,k=r&&e.attrs?Array.prototype.concat(e.attrs,c).filter(Boolean):c,C=t.shouldForwardProp;r&&e.shouldForwardProp&&(C=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var O,x=new Z(n,S,r?e.componentStyle:void 0),E=x.isStatic&&0===c.length,_=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,c=e.foldedComponentIds,u=e.shouldForwardProp,d=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=g);var r=h({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in b(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(ye(t,Object(i.useContext)(Ie),s)||g,t,o),v=p[0],m=p[1],y=function(e,t,n,r){var i=ae(),o=se();return t?e.generateAndInjectStyles(g,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,v),w=n,S=m.$as||t.$as||m.as||t.as||f,k=Oe(S),C=m!==t?h({},t,{},m):t,O={};for(var x in C)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?O.as=C[x]:(u?u(x,l.a,S):!k||Object(l.a)(x))&&(O[x]=C[x]));return t.style&&m.style!==t.style&&(O.style=h({},t.style,{},m.style)),O.className=Array.prototype.concat(c,d,y!==d?y:null,t.className,m.className).filter(Boolean).join(" "),O.ref=w,Object(i.createElement)(S,O)}(O,e,t,E)};return _.displayName=v,(O=o.a.forwardRef(_)).attrs=k,O.componentStyle=x,O.displayName=v,O.shouldForwardProp=C,O.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,O.styledComponentId=S,O.target=r?e.target:e,O.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Oe(e)?e:ke(y(e)));return Pe(e,h({},i,{attrs:k,componentId:o}),n)},Object.defineProperty(O,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Te({},e.defaultProps,t):t}}),O.toString=function(){return"."+O.styledComponentId},a&&f()(O,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),O}var je=function(e){return function e(t,n,i){if(void 0===i&&(i=g),!Object(r.isValidElementType)(n))return x(1,String(n));var o=function(){return t(n,i,be.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,h({},i,{},r))},o.attrs=function(r){return e(t,n,h({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Pe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){je[e]=je(e)}));var Re=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Y(e),W.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=be.apply(void 0,[e].concat(n)),s="sc-global-"+Ce(JSON.stringify(a)),c=new Re(a,s);function u(e){var t=ae(),n=se(),r=Object(i.useContext)(Ie),o=Object(i.useRef)(t.allocateGSInstance(s)).current;return t.server&&l(o,e,t,r,n),Object(i.useLayoutEffect)((function(){if(!t.server)return l(o,e,t,r,n),function(){return c.removeStyles(o,t)}}),[o,e,t,r,n]),null}function l(e,t,n,r,i){if(c.isStatic)c.renderStyles(e,O,n,i);else{var o=h({},t,{theme:ye(t,r,u.defaultProps)});c.renderStyles(e,o,n,i)}}return o.a.memo(u)}function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=be.apply(void 0,[e].concat(n)).join(""),o=Ce(i);return new ue(o,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=L();return"<style "+[n&&'nonce="'+n+'"',S+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?x(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return x(2);var n=((t={})[S]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[o.a.createElement("style",h({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?x(2):o.a.createElement(ce,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return x(3)}}();t.d=je}).call(this,n(72))},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(133).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=d;var h={};function p(){}function v(){}function m(){}var g={};l(g,s,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(_([])));y&&y!==n&&o.call(y,s)&&(g=y);var w=m.prototype=p.prototype=Object.create(g);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,a,s,c){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=m,l(w,"constructor",m),l(m,"constructor",v),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},S(k.prototype),l(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(81);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){var r=n(105);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(43),i=n(178),o=n(378);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(132);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventController=t.DefaultDevicePixelRatioMonitor=t.DefaultDeviceController=t.DefaultContentShareController=t.DefaultBrowserBehavior=t.DefaultAudioVideoFacade=t.DefaultAudioVideoController=t.DefaultAudioMixController=t.DefaultActiveSpeakerPolicy=t.DefaultActiveSpeakerDetector=t.DataMessage=t.CreateSDPTask=t.CreatePeerConnectionTask=t.ContentShareMediaStreamBroker=t.ContentShareConstants=t.ConsoleLogger=t.ConnectionHealthPolicyConfiguration=t.ConnectionHealthData=t.ClientVideoStreamReceivingReport=t.ClientMetricReportMediaType=t.ClientMetricReportDirection=t.ClientMetricReport=t.CleanStoppedSessionTask=t.CleanRestartedSessionTask=t.CheckVideoInputFeedback=t.CheckVideoConnectivityFeedback=t.CheckNetworkUDPConnectivityFeedback=t.CheckNetworkTCPConnectivityFeedback=t.CheckContentShareConnectivityFeedback=t.CheckCameraResolutionFeedback=t.CheckAudioOutputFeedback=t.CheckAudioInputFeedback=t.CheckAudioConnectivityFeedback=t.CanvasVideoFrameBuffer=t.CSPMonitor=t.BitrateParameters=t.BaseTask=t.BaseConnectionHealthPolicy=t.BackgroundReplacementVideoFrameProcessor=t.BackgroundFilterVideoFrameProcessor=t.BackgroundBlurVideoFrameProcessor=t.BackgroundBlurStrength=t.AudioVideoControllerState=t.AudioProfile=t.AudioLogEvent=t.Attendee=t.AttachMediaInputTask=t.AsyncScheduler=t.ApplicationMetadata=t.AllHighestVideoBandwidthPolicy=void 0,t.MeetingSessionCredentials=t.MeetingSessionConfiguration=t.MeetingReadinessCheckerConfiguration=t.MeetingEventsClientConfiguration=t.MediaDeviceProxyHandler=t.Maybe=t.LogLevel=t.Log=t.ListenForVolumeIndicatorsTask=t.LeaveAndReceiveLeaveAckTask=t.JoinAndReceiveIndexTask=t.IntervalScheduler=t.InMemoryJSONEventBuffer=t.GlobalMetricReport=t.GetUserMediaError=t.FullJitterLimitedBackoff=t.FullJitterBackoffFactory=t.FullJitterBackoff=t.FinishGatheringICECandidatesTask=t.EventIngestionConfiguration=t.EventBufferConfiguration=t.DeviceSelection=t.DevicePixelRatioWindowSource=t.DefaultWebSocketAdapter=t.DefaultVolumeIndicatorAdapter=t.DefaultVideoTransformDevice=t.DefaultVideoTileFactory=t.DefaultVideoTileController=t.DefaultVideoTile=t.DefaultVideoStreamIndex=t.DefaultVideoStreamIdSet=t.DefaultVideoFrameProcessorPipeline=t.DefaultVideoCaptureAndEncodeParameter=t.DefaultUserAgentParser=t.DefaultTranscriptionController=t.DefaultTransceiverController=t.DefaultSimulcastUplinkPolicyForContentShare=t.DefaultSimulcastUplinkPolicy=t.DefaultSignalingClient=t.DefaultSigV4=t.DefaultSessionStateController=t.DefaultReconnectController=t.DefaultRealtimeController=t.DefaultPingPong=t.DefaultModality=t.DefaultMessagingSession=t.DefaultMeetingSession=t.DefaultMeetingReadinessChecker=t.DefaultMeetingEventReporter=t.DefaultMediaDeviceFactory=void 0,t.SDPMediaSection=t.SDPCandidateType=t.SDP=t.RunnableTask=t.ReconnectionHealthPolicy=t.ReceiveVideoStreamIndexTask=t.ReceiveVideoInputTask=t.ReceiveTURNCredentialsTask=t.ReceiveAudioInputTask=t.RealtimeVolumeIndicator=t.RealtimeState=t.RealtimeAttendeePositionInFrame=t.PromoteToPrimaryMeetingTask=t.PromiseQueue=t.PrefetchSortBy=t.PrefetchOn=t.PermissionDeniedError=t.ParallelGroupTask=t.POSTLogger=t.OverconstrainedError=t.OpenSignalingConnectionTask=t.OnceTask=t.NotReadableError=t.NotFoundError=t.None=t.NoVideoUplinkBandwidthPolicy=t.NoVideoDownlinkBandwidthPolicy=t.NoOpVideoFrameProcessor=t.NoOpVideoElementFactory=t.NoOpTask=t.NoOpMediaStreamBroker=t.NoOpLogger=t.NoOpEventReporter=t.NoOpDeviceController=t.NoOpDebugLogger=t.NoOpAudioVideoController=t.NScaleVideoUplinkBandwidthPolicy=t.MutableVideoPreferences=t.MultiLogger=t.MonitorTask=t.ModelSpecBuilder=t.MessagingSessionConfiguration=t.Message=t.MeetingSessionVideoAvailability=t.MeetingSessionURLs=t.MeetingSessionTURNCredentials=t.MeetingSessionStatusCode=t.MeetingSessionStatus=t.MeetingSessionLifecycleEventCondition=t.MeetingSessionLifecycleEvent=void 0,t.VideoQualitySettings=t.VideoPriorityBasedPolicyConfig=t.VideoPriorityBasedPolicy=t.VideoPreferences=t.VideoPreference=t.VideoOnlyTransceiverController=t.VideoLogEvent=t.VideoCodecCapability=t.VideoAdaptiveProbePolicy=t.Versioning=t.UnusableAudioWarningConnectionHealthPolicy=t.TypeError=t.TranscriptionStatusType=t.TranscriptionStatus=t.TranscriptResult=t.TranscriptLanguageWithScore=t.TranscriptItemType=t.TranscriptItem=t.TranscriptEntity=t.TranscriptAlternative=t.Transcript=t.TimeoutTask=t.TimeoutScheduler=t.TaskStatus=t.TargetDisplaySize=t.SubscribeAndReceiveSubscribeAckTask=t.StreamMetricReport=t.Some=t.SingleNodeAudioTransformDevice=t.SimulcastVideoStreamIndex=t.SimulcastTransceiverController=t.SimulcastLayers=t.SimulcastContentShareTransceiverController=t.SignalingClientVideoSubscriptionConfiguration=t.SignalingClientSubscribe=t.SignalingClientJoin=t.SignalingClientEventType=t.SignalingClientEvent=t.SignalingClientConnectionRequest=t.SignalingAndMetricsConnectionMonitor=t.SetRemoteDescriptionTask=t.SetLocalDescriptionTask=t.SessionStateControllerTransitionResult=t.SessionStateControllerState=t.SessionStateControllerDeferPriority=t.SessionStateControllerAction=t.ServerSideNetworkAdaption=t.SerialGroupTask=t.SendingAudioFailureConnectionHealthPolicy=t.SendAndReceiveDataMessagesTask=void 0,t.isVideoTransformDevice=t.isDestroyable=t.isAudioTransformDevice=t.ZLIBTextCompressor=t.WebSocketReadyState=t.WaitForAttendeePresenceTask=t.VoiceFocusTransformDevice=t.VoiceFocusDeviceTransformer=t.VideoTileState=t.VideoStreamDescription=t.VideoSource=void 0;var r=n(176);t.AllHighestVideoBandwidthPolicy=r.default;var i=n(377);t.ApplicationMetadata=i.default;var o=n(47);t.AsyncScheduler=o.default;var a=n(179);t.AttachMediaInputTask=a.default;var s=n(379);t.Attendee=s.default;var c=n(136);t.AudioLogEvent=c.default;var u=n(181);t.AudioProfile=u.default;var l=n(182);t.AudioVideoControllerState=l.default;var d=n(106);t.BackgroundBlurStrength=d.default;var f=n(380);t.BackgroundBlurVideoFrameProcessor=f.default;var h=n(137);t.BackgroundFilterVideoFrameProcessor=h.default;var p=n(387);t.BackgroundReplacementVideoFrameProcessor=p.default;var v=n(107);t.BaseConnectionHealthPolicy=v.default;var m=n(19);t.BaseTask=m.default;var g=n(189);t.BitrateParameters=g.default;var b=n(141);t.CSPMonitor=b.default;var y=n(140);t.CanvasVideoFrameBuffer=y.default;var w=n(190);t.CheckAudioConnectivityFeedback=w.default;var S=n(191);t.CheckAudioInputFeedback=S.default;var k=n(192);t.CheckAudioOutputFeedback=k.default;var C=n(193);t.CheckCameraResolutionFeedback=C.default;var O=n(194);t.CheckContentShareConnectivityFeedback=O.default;var x=n(195);t.CheckNetworkTCPConnectivityFeedback=x.default;var E=n(196);t.CheckNetworkUDPConnectivityFeedback=E.default;var _=n(197);t.CheckVideoConnectivityFeedback=_.default;var T=n(198);t.CheckVideoInputFeedback=T.default;var I=n(199);t.CleanRestartedSessionTask=I.default;var A=n(200);t.CleanStoppedSessionTask=A.default;var M=n(201);t.ClientMetricReport=M.default;var P=n(92);t.ClientMetricReportDirection=P.default;var j=n(93);t.ClientMetricReportMediaType=j.default;var R=n(205);t.ClientVideoStreamReceivingReport=R.default;var D=n(206);t.ConnectionHealthData=D.default;var N=n(207);t.ConnectionHealthPolicyConfiguration=N.default;var L=n(138);t.ConsoleLogger=L.default;var F=n(94);t.ContentShareConstants=F.default;var U=n(208);t.ContentShareMediaStreamBroker=U.default;var B=n(220);t.CreatePeerConnectionTask=B.default;var V=n(221);t.CreateSDPTask=V.default;var z=n(224);t.DataMessage=z.default;var H=n(225);t.DefaultActiveSpeakerDetector=H.default;var W=n(414);t.DefaultActiveSpeakerPolicy=W.default;var q=n(146);t.DefaultAudioMixController=q.default;var K=n(147);t.DefaultAudioVideoController=K.default;var G=n(282);t.DefaultAudioVideoFacade=G.default;var J=n(31);t.DefaultBrowserBehavior=J.default;var $=n(283);t.DefaultContentShareController=$.default;var Y=n(142);t.DefaultDeviceController=Y.default;var Q=n(275);t.DefaultDevicePixelRatioMonitor=Q.default;var Z=n(163);t.DefaultEventController=Z.default;var X=n(209);t.DefaultMediaDeviceFactory=X.default;var ee=n(288);t.DefaultMeetingEventReporter=ee.default;var te=n(421);t.DefaultMeetingReadinessChecker=te.default;var ne=n(422);t.DefaultMeetingSession=ne.default;var re=n(423);t.DefaultMessagingSession=re.default;var ie=n(63);t.DefaultModality=ie.default;var oe=n(227);t.DefaultPingPong=oe.default;var ae=n(228);t.DefaultRealtimeController=ae.default;var se=n(115);t.DefaultReconnectController=se.default;var ce=n(237);t.DefaultSessionStateController=ce.default;var ue=n(301);t.DefaultSigV4=ue.default;var le=n(239);t.DefaultSignalingClient=le.default;var de=n(278);t.DefaultSimulcastUplinkPolicy=de.default;var fe=n(284);t.DefaultSimulcastUplinkPolicyForContentShare=fe.default;var he=n(110);t.DefaultTransceiverController=he.default;var pe=n(229);t.DefaultTranscriptionController=pe.default;var ve=n(290);t.DefaultUserAgentParser=ve.default;var me=n(95);t.DefaultVideoCaptureAndEncodeParameter=me.default;var ge=n(305);t.DefaultVideoFrameProcessorPipeline=ge.default;var be=n(73);t.DefaultVideoStreamIdSet=be.default;var ye=n(158);t.DefaultVideoStreamIndex=ye.default;var we=n(108);t.DefaultVideoTile=we.default;var Se=n(274);t.DefaultVideoTileController=Se.default;var ke=n(277);t.DefaultVideoTileFactory=ke.default;var Ce=n(454);t.DefaultVideoTransformDevice=Ce.default;var Oe=n(281);t.DefaultVolumeIndicatorAdapter=Oe.default;var xe=n(116);t.DefaultWebSocketAdapter=xe.default;var Ee=n(276);t.DevicePixelRatioWindowSource=Ee.default;var _e=n(214);t.DeviceSelection=_e.default;var Te=n(287);t.EventBufferConfiguration=Te.default;var Ie=n(286);t.EventIngestionConfiguration=Ie.default;var Ae=n(244);t.FinishGatheringICECandidatesTask=Ae.default;var Me=n(66);t.FullJitterBackoff=Me.default;var Pe=n(455);t.FullJitterBackoffFactory=Pe.default;var je=n(306);t.FullJitterLimitedBackoff=je.default;var Re=n(64);t.GetUserMediaError=Re.default;var De=n(204);t.GlobalMetricReport=De.default;var Ne=n(289);t.InMemoryJSONEventBuffer=Ne.default;var Le=n(62);t.IntervalScheduler=Le.default;var Fe=n(245);t.JoinAndReceiveIndexTask=Fe.default;var Ue=n(247);t.LeaveAndReceiveLeaveAckTask=Ue.default;var Be=n(248);t.ListenForVolumeIndicatorsTask=Be.default;var Ve=n(307);t.Log=Ve.default;var ze=n(48);t.LogLevel=ze.default;var He=n(210);t.MediaDeviceProxyHandler=He.default;var We=n(291);t.MeetingEventsClientConfiguration=We.default;var qe=n(292);t.MeetingReadinessCheckerConfiguration=qe.default;var Ke=n(160);t.MeetingSessionConfiguration=Ke.default;var Ge=n(113);t.MeetingSessionCredentials=Ge.default;var Je=n(242);t.MeetingSessionLifecycleEvent=Je.default;var $e=n(243);t.MeetingSessionLifecycleEventCondition=$e.default;var Ye=n(77);t.MeetingSessionStatus=Ye.default;var Qe=n(45);t.MeetingSessionStatusCode=Qe.default;var Ze=n(153);t.MeetingSessionTURNCredentials=Ze.default;var Xe=n(162);t.MeetingSessionURLs=Xe.default;var et=n(148);t.MeetingSessionVideoAvailability=et.default;var tt=n(300);t.Message=tt.default;var nt=n(456);t.MessagingSessionConfiguration=nt.default;var rt=n(185);t.ModelSpecBuilder=rt.default;var it=n(249);t.MonitorTask=it.default;var ot=n(457);t.MultiLogger=ot.default;var at=n(280);t.NScaleVideoUplinkBandwidthPolicy=at.default;var st=n(458);t.NoOpAudioVideoController=st.default;var ct=n(308);t.NoOpDebugLogger=ct.default;var ut=n(459);t.NoOpDeviceController=ut.default;var lt=n(460);t.NoOpEventReporter=lt.default;var dt=n(309);t.NoOpLogger=dt.default;var ft=n(165);t.NoOpMediaStreamBroker=ft.default;var ht=n(461);t.NoOpTask=ht.default;var pt=n(462);t.NoOpVideoElementFactory=pt.default;var vt=n(139);t.NoOpVideoFrameProcessor=vt.default;var mt=n(463);t.NoVideoDownlinkBandwidthPolicy=mt.default;var gt=n(464);t.NoVideoUplinkBandwidthPolicy=gt.default;var bt=n(215);t.NotFoundError=bt.default;var yt=n(216);t.NotReadableError=yt.default;var wt=n(180);t.OnceTask=wt.default;var St=n(253);t.OpenSignalingConnectionTask=St.default;var kt=n(217);t.OverconstrainedError=kt.default;var Ct=n(465);t.POSTLogger=Ct.default;var Ot=n(255);t.ParallelGroupTask=Ot.default;var xt=n(143);t.PermissionDeniedError=xt.default;var Et=n(304);t.PrefetchOn=Et.default;var _t=n(466);t.PrefetchSortBy=_t.default;var Tt=n(211);t.PromiseQueue=Tt.default;var It=n(256);t.PromoteToPrimaryMeetingTask=It.default;var At=n(467);t.RealtimeAttendeePositionInFrame=At.default;var Mt=n(235);t.RealtimeState=Mt.default;var Pt=n(236);t.RealtimeVolumeIndicator=Pt.default;var jt=n(257);t.ReceiveAudioInputTask=jt.default;var Rt=n(258);t.ReceiveTURNCredentialsTask=Rt.default;var Dt=n(259);t.ReceiveVideoInputTask=Dt.default;var Nt=n(260);t.ReceiveVideoStreamIndexTask=Nt.default;var Lt=n(250);t.ReconnectionHealthPolicy=Lt.default;var Ft=n(468);t.RunnableTask=Ft.default;var Ut=n(75);t.SDP=Ut.default;var Bt=n(222);t.SDPCandidateType=Bt.default;var Vt=n(223);t.SDPMediaSection=Vt.default;var zt=n(261);t.SendAndReceiveDataMessagesTask=zt.default;var Ht=n(251);t.SendingAudioFailureConnectionHealthPolicy=Ht.default;var Wt=n(262);t.SerialGroupTask=Wt.default;var qt=n(65);t.ServerSideNetworkAdaption=qt.default;var Kt=n(149);t.SessionStateControllerAction=Kt.default;var Gt=n(238);t.SessionStateControllerDeferPriority=Gt.default;var Jt=n(150);t.SessionStateControllerState=Jt.default;var $t=n(151);t.SessionStateControllerTransitionResult=$t.default;var Yt=n(263);t.SetLocalDescriptionTask=Yt.default;var Qt=n(264);t.SetRemoteDescriptionTask=Qt.default;var Zt=n(226);t.SignalingAndMetricsConnectionMonitor=Zt.default;var Xt=n(254);t.SignalingClientConnectionRequest=Xt.default;var en=n(240);t.SignalingClientEvent=en.default;var tn=n(29);t.SignalingClientEventType=tn.default;var nn=n(246);t.SignalingClientJoin=nn.default;var rn=n(267);t.SignalingClientSubscribe=rn.default;var on=n(152);t.SignalingClientVideoSubscriptionConfiguration=on.default;var an=n(155);t.SimulcastContentShareTransceiverController=an.default;var sn=n(279);t.SimulcastLayers=sn.default;var cn=n(111);t.SimulcastTransceiverController=cn.default;var un=n(273);t.SimulcastVideoStreamIndex=un.default;var ln=n(469);t.SingleNodeAudioTransformDevice=ln.default;var dn=n(241);t.StreamMetricReport=dn.default;var fn=n(265);t.SubscribeAndReceiveSubscribeAckTask=fn.default;var hn=n(157);t.TargetDisplaySize=hn.default;var pn=n(135);t.TaskStatus=pn.default;var vn=n(90);t.TimeoutScheduler=vn.default;var mn=n(154);t.TimeoutTask=mn.default;var gn=n(231);t.Transcript=gn.default;var bn=n(470);t.TranscriptAlternative=bn.default;var yn=n(471);t.TranscriptEntity=yn.default;var wn=n(472);t.TranscriptItem=wn.default;var Sn=n(234);t.TranscriptItemType=Sn.default;var kn=n(473);t.TranscriptLanguageWithScore=kn.default;var Cn=n(474);t.TranscriptResult=Cn.default;var On=n(232);t.TranscriptionStatus=On.default;var xn=n(233);t.TranscriptionStatusType=xn.default;var En=n(218);t.TypeError=En.default;var _n=n(252);t.UnusableAudioWarningConnectionHealthPolicy=_n.default;var Tn=n(52);t.Versioning=Tn.default;var In=n(270);t.VideoAdaptiveProbePolicy=In.default;var An=n(145);t.VideoCodecCapability=An.default;var Mn=n(134);t.VideoLogEvent=Mn.default;var Pn=n(269);t.VideoOnlyTransceiverController=Pn.default;var jn=n(156);t.VideoPreference=jn.default;var Rn=n(112);t.VideoPreferences=Rn.default;var Dn=n(271);t.VideoPriorityBasedPolicy=Dn.default;var Nn=n(272);t.VideoPriorityBasedPolicyConfig=Nn.default;var Ln=n(219);t.VideoQualitySettings=Ln.default;var Fn=n(475);t.VideoSource=Fn.default;var Un=n(159);t.VideoStreamDescription=Un.default;var Bn=n(212);t.VideoTileState=Bn.default;var Vn=n(476);t.VoiceFocusDeviceTransformer=Vn.default;var zn=n(310);t.VoiceFocusTransformDevice=zn.default;var Hn=n(268);t.WaitForAttendeePresenceTask=Hn.default;var Wn=n(109);t.WebSocketReadyState=Wn.default;var qn=n(266);t.ZLIBTextCompressor=qn.default;var Kn=n(112);Object.defineProperty(t,"MutableVideoPreferences",{enumerable:!0,get:function(){return Kn.MutableVideoPreferences}});var Gn=n(44);Object.defineProperty(t,"Some",{enumerable:!0,get:function(){return Gn.Some}}),Object.defineProperty(t,"None",{enumerable:!0,get:function(){return Gn.None}}),Object.defineProperty(t,"Maybe",{enumerable:!0,get:function(){return Gn.Maybe}});var Jn=n(213);Object.defineProperty(t,"isAudioTransformDevice",{enumerable:!0,get:function(){return Jn.isAudioTransformDevice}});var $n=n(114);Object.defineProperty(t,"isDestroyable",{enumerable:!0,get:function(){return $n.isDestroyable}});var Yn=n(144);Object.defineProperty(t,"isVideoTransformDevice",{enumerable:!0,get:function(){return Yn.isVideoTransformDevice}})},function(e,t,n){"use strict";var r,i,o;function a(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function s(e){return e&&!!["customProvider"].find((function(t){return e.hasOwnProperty(t)}))}function c(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}function u(e){return void 0!==e.redirectSignIn}function l(e){return!!e.username}n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return l})),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(r||(r={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(i||(i={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(o||(o={}))},function(e,t,n){"use strict";(function(e){var r=n(427),i=n(428),o=n(429);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return H(V(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return S(e,t,n,r)}function C(e,t,n,r){return H(z(t),e,n,r)}function O(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128===(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=_));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),d=0;d<s;++d)if(u[d]!==l[d]){o=u[d],a=l[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:V(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(34))},function(e,t,n){"use strict";e.exports=n(494)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return is})),n.d(t,"b",(function(){return os})),n.d(t,"c",(function(){return $o})),n.d(t,"d",(function(){return hn})),n.d(t,"e",(function(){return Ci})),n.d(t,"f",(function(){return Ea})),n.d(t,"g",(function(){return _i})),n.d(t,"h",(function(){return Ho})),n.d(t,"i",(function(){return Ui})),n.d(t,"j",(function(){return qt})),n.d(t,"k",(function(){return Kt})),n.d(t,"l",(function(){return Ba})),n.d(t,"m",(function(){return Oa})),n.d(t,"n",(function(){return $t})),n.d(t,"o",(function(){return as})),n.d(t,"p",(function(){return vs})),n.d(t,"q",(function(){return Ls})),n.d(t,"r",(function(){return Wa})),n.d(t,"s",(function(){return Ma})),n.d(t,"t",(function(){return Va})),n.d(t,"u",(function(){return gs}));var r,i,o,a,s,c,u,l,d,f,h,p,v,m,g,b,y,w,S,k,C,O,x,E,_,T,I,A,M,P,j,R,D,N,L,F,U,B,V,z,H,W,q,K,G,J,$,Y,Q,Z,X,ee,te,ne,re,ie,oe,ae,se,ce,ue,le,de,fe,he,pe,ve,me,ge,be,ye,we,Se,ke,Ce,Oe,xe,Ee,_e,Te,Ie,Ae,Me,Pe,je,Re,De,Ne,Le,Fe,Ue,Be,Ve,ze,He,We,qe,Ke,Ge,Je=n(70),$e=n(169),Ye=n(170),Qe=n(4),Ze=n(46),Xe=n(87),et=n(8),tt=n(6),nt=n(1),rt=n.n(nt),it=n(5),ot=n(130),at=n(122),st=n.n(at),ct=n(13),ut=n(355);function lt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function dt(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}var ft=function(e){var t=e.css;return t?"@media { ".concat(t," };"):""},ht=function(e){return Object(ot.b)(e)},pt=(it.d.span(r||(r=Object(tt.a)(["\n  ","\n  display: inline-block;\n  padding: ",";\n  border-radius: 0.5rem;\n  line-height: ",";\n  color: ",";\n  font-size: 0.65rem;\n  background-color: ",";\n\n  ",";\n  ","\n"])),(function(e){if("object"===typeof e.value){var t=e.value,n=t.props&&t.props.width||"1rem";return"width: ".concat(n,";")}return null}),(function(e){return"object"===typeof e.value?"0":"0.1rem 0.4rem 0.125rem"}),(function(e){return"object"===typeof e.value?"1":"1.43"}),(function(e){return e.theme.colors.greys.white}),(function(e){return"alert"===e.status?e.theme.colors.error.primary:e.theme.colors.greys.grey60}),ht,ft),Object(it.c)(i||(i=Object(tt.a)(["\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  position: absolute !important;\n"])))),vt=Object(it.c)(o||(o=Object(tt.a)(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),mt=Object(it.c)(a||(a=Object(tt.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),gt=function(e){return/^#[0-9A-F]{6}$/i.test(e)},bt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!gt(e))return"";var r=null===(t=e.match(/\w\w/g))||void 0===t?void 0:t.map((function(e){return parseInt(e,16)})),i=Object(et.a)(r,3),o=i[0],a=i[1],s=i[2];return"rgba(".concat(o,", ").concat(a,", ").concat(s,", ").concat(n||1,")")},yt=it.d.button(s||(s=Object(tt.a)(["\n  border-radius: ",";\n  font-size: ",";\n  padding: 0.5rem 1rem;\n  border-color: transparent;\n  transition: background-color 0.1s ease;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  .ch-icon {\n    width: ",";\n    height: ",";\n    margin-right: 0.25rem;\n  }\n\n  /* variant styles */\n  ","\n  ","\n  ","\n\n  ","\n  ","\n"])),(function(e){return e.theme.radii.default}),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.iconButtonSizes[e.iconSize||"sm"]}),(function(e){return e.theme.iconButtonSizes[e.iconSize||"sm"]}),(function(e){return"primary"===e.variant&&wt}),(function(e){return"secondary"===e.variant&&St}),(function(e){return"icon"===e.variant&&Ct}),ht,ft),wt=Object(it.c)(c||(c=Object(tt.a)(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  box-shadow: ",";\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:focus:hover {\n    box-shadow: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(e){return e.selected?e.theme.buttons.primary.selected.bgd:e.theme.buttons.primary.static.bgd}),(function(e){return e.selected?e.theme.buttons.primary.selected.text:e.theme.buttons.primary.static.text}),(function(e){return e.selected?e.theme.buttons.primary.selected.border:e.theme.buttons.primary.static.border}),(function(e){return e.theme.buttons.primary.static.shadow}),(function(e){return e.theme.buttons.primary.focus.bgd}),(function(e){return e.theme.buttons.primary.focus.border}),(function(e){return e.theme.buttons.primary.focus.text}),(function(e){return e.theme.buttons.primary.focus.shadow}),(function(e){return e.theme.buttons.primary.hover.bgd}),(function(e){return e.theme.buttons.primary.hover.border}),(function(e){return e.theme.buttons.primary.hover.text}),(function(e){return e.theme.buttons.primary.hover.shadow}),(function(e){return e.theme.buttons.primary.focus.shadow}),(function(e){return e.theme.buttons.primary.active.bgd}),(function(e){return e.theme.buttons.primary.active.border}),(function(e){return e.theme.buttons.primary.active.text}),(function(e){return e.theme.buttons.primary.active.shadow}),(function(e){return e.theme.buttons.primary.disabled.bgd}),(function(e){return e.theme.buttons.primary.disabled.border}),(function(e){return e.theme.buttons.primary.disabled.text})),St=Object(it.c)(u||(u=Object(tt.a)(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  box-shadow: ",";\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:focus:hover {\n    box-shadow: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(e){return e.selected?e.theme.buttons.secondary.selected.bgd:e.theme.buttons.secondary.static.bgd}),(function(e){return e.selected?e.theme.buttons.secondary.selected.text:e.theme.buttons.secondary.static.text}),(function(e){return e.selected?e.theme.buttons.secondary.selected.border:e.theme.buttons.secondary.static.border}),(function(e){return e.theme.buttons.secondary.shadow}),(function(e){return e.theme.buttons.secondary.focus.bgd}),(function(e){return e.theme.buttons.secondary.focus.border}),(function(e){return e.theme.buttons.secondary.focus.text}),(function(e){return e.theme.buttons.secondary.focus.shadow}),(function(e){return e.theme.buttons.secondary.hover.bgd}),(function(e){return e.theme.buttons.secondary.hover.border}),(function(e){return e.theme.buttons.secondary.hover.text}),(function(e){return e.theme.buttons.secondary.hover.shadow}),(function(e){return e.theme.buttons.secondary.focus.shadow}),(function(e){return e.theme.buttons.secondary.active.bgd}),(function(e){return e.theme.buttons.secondary.active.border}),(function(e){return e.theme.buttons.secondary.active.text}),(function(e){return e.theme.buttons.secondary.focus.shadow}),(function(e){return e.theme.buttons.secondary.disabled.bgd}),(function(e){return e.theme.buttons.secondary.disabled.border}),(function(e){return e.theme.buttons.secondary.disabled.text})),kt={sm:Object(it.c)(l||(l=Object(tt.a)(["\n    top: -15%;\n    left: 76%;\n  "]))),md:Object(it.c)(d||(d=Object(tt.a)(["\n    top: 4%;\n    left: 76%;\n  "]))),lg:Object(it.c)(f||(f=Object(tt.a)(["\n    top: 10%;\n    left: 76%;\n  "])))},Ct=Object(it.c)(h||(h=Object(tt.a)(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  border-radius: ",";\n  padding: 0.1875rem;\n  position: relative;\n\n  > .ch-label {\n    ",";\n  }\n\n  > .ch-icon {\n    width: ",";\n    height: ",";\n    margin: 0;\n  }\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n\n  + * {\n    position: absolute;\n    font-size: 0.55rem;\n    z-index: 1;\n    ","\n  }\n"])),(function(e){return e.selected?e.theme.buttons.icon.selected.bgd:e.theme.buttons.icon.static.bgd}),(function(e){return e.selected?e.theme.buttons.icon.selected.text:e.theme.buttons.icon.static.text}),(function(e){return e.selected?e.theme.buttons.icon.selected.border:e.theme.buttons.icon.static.border}),(function(e){return e.theme.radii.circle}),pt,(function(e){return e.theme.iconButtonSizes[e.iconSize||"sm"]}),(function(e){return e.theme.iconButtonSizes[e.iconSize||"sm"]}),(function(e){var t=e.theme;return e.selected?t.buttons.icon.selected.bgd:t.buttons.icon.static.bgd}),(function(e){return e.theme.buttons.icon.focus.border}),(function(e){return e.theme.buttons.icon.focus.text}),(function(e){var t=e.theme;return e.selected?t.buttons.icon.selected.text:t.buttons.icon.static.text}),(function(e){return e.theme.buttons.icon.focus.shadow}),(function(e){return e.theme.buttons.icon.hover.bgd}),(function(e){return e.theme.buttons.icon.hover.border}),(function(e){return e.theme.buttons.icon.hover.text}),(function(e){return e.theme.buttons.icon.active.bgd}),(function(e){return e.theme.buttons.icon.active.border}),(function(e){return e.theme.buttons.icon.active.text}),(function(e){return e.theme.buttons.icon.disabled.bgd}),(function(e){return e.theme.buttons.icon.disabled.border}),(function(e){return e.theme.buttons.icon.disabled.text}),(function(e){var t=e.iconSize;return t?kt[t]:kt.sm})),Ot=it.d.span(p||(p=Object(tt.a)(["\n  display: inline-block;\n  position: relative;\n"]))),xt=Object(nt.forwardRef)((function(e,t){return rt.a.createElement(yt,Object.assign({},e,{className:e.className||"",as:e.tag,ref:t,"aria-label":e.label,"data-testid":"button",disabled:e.disabled}),e.icon&&rt.a.createElement("span",{className:"ch-icon","data-testid":"button-icon"},e.icon),rt.a.createElement("span",{className:"ch-label","data-testid":"button-label"},e.label))})),Et=(Object(nt.forwardRef)((function(e,t){return rt.a.createElement(xt,Object.assign({variant:"primary"},e))})),Object(nt.forwardRef)((function(e,t){return rt.a.createElement(xt,Object.assign({variant:"secondary"},e))}))),_t=Object(nt.forwardRef)((function(e,t){return rt.a.createElement(Ot,null,rt.a.createElement(xt,Object.assign({ref:t,variant:"icon"},e)),e.badge)})),Tt=function(e){var t=e.className,n=e.children,r=e.viewBox,i=void 0===r?"0 0 24 24":r,o=e.xmlns,a=void 0===o?"http://www.w3.org/2000/svg":o,s=e.width,c=e.height,u=e.title,l=lt(e,["className","children","viewBox","xmlns","width","height","title"]),d={width:s,height:c};return rt.a.createElement("svg",Object.assign({xmlns:a,className:"Svg ".concat(t||""),height:c,style:d,viewBox:i,width:s},l),u&&rt.a.createElement("title",null,u),rt.a.createElement("g",{fillRule:"evenodd",fill:"currentColor"},n))},It={up:"0",right:"90",down:"180",left:"270"},At=(Object(it.d)(Tt)(v||(v=Object(tt.a)(["\n  transform: ",";\n"])),(function(e){var t=e.direction;return"rotate(".concat(It[t||"up"],"deg)")})),function(e){var t=e.disabled,n=void 0!==t&&t,r=lt(e,["disabled"]);return rt.a.createElement(Tt,Object.assign({},r),n?rt.a.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M4.146 4.146c.196-.195.512-.195.708 0L7.707 7h.007l1 1h-.007L15 14.293v-.007l.894.894-.001.006 3.961 3.96c.195.196.195.512 0 .708-.098.097-.226.146-.354.146-.128 0-.256-.049-.354-.146l-3.747-3.748c-.459.542-1.134.894-1.899.894h-7C5.121 17 4 15.879 4 14.5v-5c0-1.314 1.022-2.383 2.312-2.481L4.146 4.854c-.195-.196-.195-.512 0-.708zM7.293 8H6.5C5.673 8 5 8.673 5 9.5v5c0 .827.673 1.5 1.5 1.5h7c.488 0 .919-.238 1.192-.601L7.293 8zM13.5 7C14.879 7 16 8.121 16 9.5v.566l1.813-1.303c.426-.306.983-.349 1.456-.107.451.231.731.684.731 1.181v4.326c0 .497-.28.95-.731 1.181-.205.104-.424.156-.642.156-.287 0-.571-.089-.814-.263l-1.592-1.144L15 12.873V9.5c0-.827-.673-1.5-1.5-1.5h-3.372l-1-1zm5.313 2.546c-.051-.026-.233-.1-.416.03l-2.256 1.621c-.089.064-.141.16-.141.262v1.082c0 .102.051.197.141.262l2.256 1.622c.182.131.365.054.416.03.055-.029.187-.116.187-.292V9.837c0-.176-.132-.263-.187-.29z"}):rt.a.createElement("path",{d:"M19 14.164c0 .176-.131.262-.187.29-.052.027-.234.1-.416-.028l-2.256-1.622v-.001c-.09-.064-.141-.16-.141-.262v-1.082c0-.102.051-.197.141-.262l2.255-1.622c.081-.057.159-.075.227-.075.09 0 .16.03.19.046.056.029.187.115.187.29v4.328zm-4 .336c0 .828-.673 1.5-1.5 1.5h-7c-.827 0-1.5-.672-1.5-1.5v-5C5 8.673 5.673 8 6.5 8h7c.827 0 1.5.673 1.5 1.5v5zm4.27-5.843c-.471-.242-1.028-.202-1.457.106L16 10.066V9.5C16 8.122 14.879 7 13.5 7h-7C5.121 7 4 8.122 4 9.5v5C4 15.879 5.121 17 6.5 17h7c1.379 0 2.5-1.121 2.5-2.5v-.566l1.814 1.304c.243.174.527.262.813.262.219 0 .438-.051.643-.156.45-.231.73-.683.73-1.18V9.837c0-.497-.28-.95-.73-1.18z"}))});At.displayName="Camera";var Mt={up:"0",right:"90",down:"180",left:"270"},Pt=Object(it.d)(Tt)(m||(m=Object(tt.a)(["\n  transform: ",";\n"])),(function(e){var t=e.direction;return"rotate(".concat(Mt[t||"up"],"deg)")})),jt=function(e){var t=e.direction,n=void 0===t?"up":t,r=lt(e,["direction"]);return rt.a.createElement(Pt,Object.assign({direction:n},r),rt.a.createElement("path",{"transform-origin":"center",d:"M8.824 13.88c-.21.18-.526.154-.705-.056-.159-.187-.156-.457-.006-.64l.063-.065 3.523-3c.165-.14.397-.156.577-.05l.074.052 3.477 3c.209.18.232.497.052.706-.16.185-.428.224-.632.104l-.074-.052-3.151-2.72-3.198 2.722z"}))};jt.displayName="Caret";var Rt={default:Object(it.c)(g||(g=Object(tt.a)(["\n  .ch-caution-background {\n    fill: transparent;\n  }\n"]))),"fill-warning":Object(it.c)(b||(b=Object(tt.a)(["\n  .ch-caution-background {\n    fill: ",";\n  }\n\n  .ch-caution-exclamation {\n    fill: ",";\n  }\n\n  .ch-caution-border {\n    fill: ",";\n  }\n"])),(function(e){return e.theme.colors.warning.primary}),(function(e){return e.theme.colors.greys.white}),(function(e){return e.theme.colors.warning.primary})),"fill-error":Object(it.c)(y||(y=Object(tt.a)(["\n  .ch-caution-background {\n    fill: ",";\n  }\n\n  .ch-caution-exclamation {\n    fill: ",";\n  }\n\n  .ch-caution-border {\n    fill: ",";\n  }\n"])),(function(e){return e.theme.colors.error.primary}),(function(e){return e.theme.colors.greys.white}),(function(e){return e.theme.colors.error.primary}))},Dt=it.d.g(w||(w=Object(tt.a)(["\n  ",";\n"])),(function(e){return Rt[e.variant||"default"]})),Nt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement(Dt,{fill:"currentColor",variant:e.variant},rt.a.createElement("path",{className:"ch-caution-background",d:"M18.728 15.186l-5.085-8.281C13.293 6.338 12.68 6 12 6c-.68 0-1.294.338-1.642.905l-5.085 8.281c-.351.571-.365 1.258-.04 1.841.336.6.98.972 1.68.972h10.17c.704 0 1.348-.372 1.683-.972.326-.583.312-1.27-.04-1.841"}),rt.a.createElement("path",{className:"ch-caution-exclamation",d:"M12.572 14.609v1.219h-1.166v-1.219h1.166zm.023-5.388v1.83l-.288 2.727h-.597l-.305-2.727V9.22h1.19z"}),rt.a.createElement("path",{className:"ch-caution-border",d:"M17.894 16.539c-.161.288-.463.46-.81.46H6.915c-.343 0-.645-.172-.806-.46-.15-.266-.143-.568.017-.829l5.085-8.281c.33-.536 1.25-.538 1.58 0l5.086 8.281c.16.261.167.563.018.829m.834-1.353l-5.085-8.281C13.293 6.338 12.68 6 12 6c-.68 0-1.294.338-1.642.905l-5.085 8.281c-.351.571-.365 1.258-.04 1.841.336.6.98.972 1.68.972h10.17c.704 0 1.348-.372 1.683-.972.326-.583.312-1.27-.04-1.841"})))};Nt.displayName="Caution";var Lt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M16.834 9.178c-.18-.21-.494-.238-.705-.061l-5.912 4.975-2.33-2.846c-.175-.214-.491-.245-.703-.07-.214.175-.246.49-.071.703l2.652 3.238.004.006c.037.044.085.073.132.1.015.01.026.025.04.032.068.03.138.046.21.046.056 0 .113-.01.166-.028.038-.013.07-.037.106-.06.015-.01.03-.014.045-.025v-.001l.006-.003 6.299-5.301c.21-.178.239-.493.06-.705"}))};Lt.displayName="Check";var Ft=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.86 0-7 3.141-7 7s3.14 7 7 7 7-3.141 7-7-3.14-7-7-7zm3.493 4.873c.211-.179.526-.15.705.061.177.211.15.527-.061.705l-4.476 3.764-.003.002v.001c-.029.024-.061.035-.091.051-.02.011-.039.027-.061.035-.054.019-.11.028-.166.028-.072 0-.143-.015-.209-.045-.016-.007-.027-.023-.042-.032-.047-.028-.095-.056-.132-.1l-.001-.002-.003-.004-1.84-2.246c-.175-.213-.143-.529.07-.703.213-.177.529-.145.704.07l1.518 1.853z"}))};Ft.displayName="CheckRound";var Ut=function(e){return rt.a.createElement(Tt,Object.assign({},e,{title:"Clear"}),rt.a.createElement("path",{d:"M12 5c3.866 0 7 3.134 7 7s-3.134 7-7 7-7-3.134-7-7 3.134-7 7-7zM9.172 9.17c-.196.196-.196.513 0 .708L11.293 12l-2.12 2.12c-.197.197-.197.513 0 .708.096.098.224.147.352.147.128 0 .256-.05.354-.147L12 12.707l2.121 2.12c.098.099.226.148.353.148.128 0 .256-.05.354-.147.195-.195.195-.511 0-.707L12.708 12l2.12-2.122c.195-.195.195-.512 0-.707-.195-.195-.512-.195-.707 0l-2.12 2.12-2.122-2.12c-.196-.195-.512-.195-.707 0z"}))};Ut.displayName="Clear";var Bt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.859 0-7 3.141-7 7s3.141 7 7 7 7-3.141 7-7-3.141-7-7-7zm0 2.559c.276 0 .5.223.5.5V11.5h3c.276 0 .5.224.5.5s-.224.5-.5.5H12c-.276 0-.5-.224-.5-.5V8.059c0-.277.224-.5.5-.5z"}))};Bt.displayName="Clock";var Vt=function(e){var t=e.title,n=void 0===t?"Screen share":t,r=lt(e,["title"]);return rt.a.createElement(Tt,Object.assign({},r,{title:n}),rt.a.createElement("path",{d:"M15.5 17c.276 0 .5.224.5.5s-.224.5-.5.5h-7c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zM18 6c1.103 0 2 .897 2 2v6c0 1.103-.897 2-2 2H6c-1.103 0-2-.897-2-2V8c0-1.103.897-2 2-2zm0 1H6c-.552 0-1 .449-1 1v6c0 .551.448 1 1 1h12c.552 0 1-.449 1-1V8c0-.551-.448-1-1-1z"}))};Vt.displayName="ScreenShare";var zt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M12 4c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1c-3.86 0-7 3.14-7 7 0 3.859 3.14 7 7 7 3.859 0 7-3.141 7-7 0-3.86-3.141-7-7-7zm-3 6c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1zm6 0c.553 0 1 .448 1 1s-.447 1-1 1c-.553 0-1-.448-1-1s.447-1 1-1zm-3 0c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1z"}))};zt.displayName="Dots";var Ht=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M16.042 18H7.959C7.43 18 7 17.57 7 17.042V6.959C7 6.431 7.43 6 7.959 6h5.461v2.131c0 .899.732 1.632 1.632 1.632H17v7.279c0 .528-.43.958-.958.958zm.63-9.293c.014.017.019.038.033.056h-1.653c-.348 0-.632-.284-.632-.632V6.2c.125.074.243.163.34.277l1.912 2.23zm.759-.65L15.52 5.826C15.069 5.301 14.416 5 13.725 5H7.959C6.878 5 6 5.879 6 6.959v10.083C6 18.122 6.878 19 7.959 19h8.083c1.08 0 1.958-.878 1.958-1.958V9.595c0-.564-.202-1.11-.569-1.538z"}))};Ht.displayName="Document";it.d.circle(S||(S=Object(tt.a)(["\n  fill: ",";\n"])),(function(e){return e.theme.colors.primary.main}));var Wt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.859 0-7 3.141-7 7s3.141 7 7 7 7-3.141 7-7-3.141-7-7-7zm.016 6.476c.276 0 .5.224.5.5v2.498c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-2.498c0-.276.224-.5.5-.5zM12 8.709c.414 0 .75.335.75.75 0 .414-.336.75-.75.75s-.75-.336-.75-.75c0-.415.336-.75.75-.75z"}))};Wt.displayName="Information";var qt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M14.407 5c2.405 0 4.384 1.91 4.495 4.289l.005.211v5c0 2.405-1.91 4.384-4.29 4.495l-.21.005h-2c-1.372 0-2.647-.625-3.498-1.676-.174-.215-.14-.53.074-.704.215-.173.53-.14.703.074.62.765 1.524 1.24 2.509 1.3l.212.006h2c1.86 0 3.394-1.473 3.494-3.309l.006-.191v-5c0-1.86-1.473-3.395-3.31-3.495L14.408 6h-2c-.936 0-1.817.374-2.472 1.029-.195.195-.512.195-.707 0-.195-.196-.195-.513 0-.708.785-.783 1.825-1.255 2.939-1.315l.24-.006h2zM8.682 8.843c.174.173.193.443.058.637l-.058.07-1.976 1.974h6.658c.276 0 .5.224.5.5 0 .246-.177.45-.41.492l-.09.008H6.707L8.682 14.5c.195.195.195.511 0 .707-.174.173-.443.193-.638.058l-.07-.058-2.828-2.83-.013-.013-.032-.038.045.052c-.027-.027-.05-.056-.07-.087l-.02-.035-.019-.041-.006-.016-.007-.019-.008-.03-.005-.02-.006-.032c-.003-.02-.005-.041-.005-.062v-.022c0-.022.002-.043.005-.064L5 12.024c0-.036.004-.071.01-.105l.013-.045c.004-.015.01-.03.016-.044l.006-.014.01-.023.013-.021.007-.012.013-.02.013-.018.032-.038.013-.013 2.829-2.829c.195-.195.512-.195.707 0z"}))};qt.displayName="LeaveMeeting";var Kt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M12 14c.276 0 .5.224.5.5 0 .277-.224.5-.5.5-1.103 0-2 .897-2 2s.897 2 2 2c.806 0 1.529-.48 1.844-1.221.107-.256.398-.372.655-.266.254.108.373.4.265.655C14.293 19.28 13.208 20 12 20c-1.654 0-3-1.345-3-3 0-1.654 1.346-3 3-3zm5.504-4.5c.106-.256.398-.375.654-.269 1.12.47 1.842 1.556 1.842 2.77 0 1.653-1.346 3-3 3-1.655 0-3-1.347-3-3 0-.278.223-.5.5-.5.276 0 .5.222.5.5 0 1.102.897 2 2 2 1.102 0 2-.898 2-2 0-.81-.483-1.535-1.229-1.847-.255-.107-.374-.4-.267-.655zM7 9c1.654 0 3 1.346 3 3 0 .276-.224.5-.5.5S9 12.276 9 12c0-1.103-.897-2-2-2s-2 .897-2 2c0 .872.557 1.637 1.385 1.903.262.085.407.367.322.63-.068.212-.265.346-.476.346-.05 0-.102-.007-.153-.024C4.835 14.455 4 13.308 4 12c0-1.654 1.346-3 3-3zm5-5c1.654 0 3 1.346 3 3s-1.346 3-3 3c-.277 0-.5-.224-.5-.5 0-.277.223-.5.5-.5 1.102 0 2-.897 2-2s-.898-2-2-2c-.825 0-1.577.517-1.87 1.287-.099.26-.389.388-.646.29-.258-.1-.387-.389-.288-.647C9.636 4.776 10.763 4 12 4z"}))};Kt.displayName="Meeting";var Gt=Object(it.d)((function(e){var t=lt(e,["poorConnection","muted"]);return rt.a.createElement(Tt,Object.assign({},t))}))(k||(k=Object(tt.a)(["\n  ","\n"])),(function(e){return e.poorConnection?"color: ".concat(e.theme.colors.error.light):""}));var Jt=function(e){var t=e.muted,n=void 0!==t&&t,r=e.poorConnection,i=void 0!==r&&r,o=e.mutedTitle,a=void 0===o?"Muted microphone":o,s=e.unmutedTitle,c=void 0===s?"Microphone":s,u=lt(e,["muted","poorConnection","mutedTitle","unmutedTitle"]),l=function(e,t){return e?t?"M4.146 4.146c.196-.195.513-.195.708 0L9.168 8.46h.018l.813.815v.018l5.854 5.854c.002-.005.005-.008.008-.01l.724.724-.008.01 3.276 3.275c.195.195.195.512 0 .707-.098.098-.226.147-.354.147-.127 0-.255-.049-.352-.146l-3.281-3.281C14.82 17.459 13.475 18 11.998 18c-3.308 0-6-2.691-6-6 0-.277.224-.5.5-.5.278 0 .5.223.5.5 0 2.757 2.244 5 5 5 1.2 0 2.29-.436 3.147-1.146l-1.439-1.438c-.14.105-.287.207-.445.285l-.447-.895c.062-.03.116-.073.174-.11l-2.99-2.989v.941H9v-1.063h.88L4.147 4.853c-.196-.194-.196-.511 0-.707zM14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zm3-7.5c.276 0 .5.224.5.5 0 1.106-.307 2.14-.83 3.031l-.748-.748c.357-.687.578-1.456.578-2.283 0-.276.224-.5.5-.5zm-6.293 2.317c.25.121.517.183.793.183l.016 1.001-.098-.008c-.359-.012-.76-.089-1.147-.275zm-1.085-1.278c.093.282.234.536.42.757l-.766.644c-.267-.319-.47-.685-.603-1.089zM15 11.618v.155c0 .325-.051.643-.139.95l-.867-.868c.001-.027.006-.055.006-.082v-.155h1zm0-2.126v1.062h-1V9.492h1zm0-2.125v1.062h-1V7.367h1zM9.155 6.201l.955.297c-.073.235-.11.48-.11.73v.17h-.463l-.512-.512c.024-.232.061-.463.13-.685zm5.079-1.128c.268.321.469.689.599 1.093l-.951.307c-.091-.283-.231-.537-.415-.759zm-3.514-.765l.453.891c-.246.126-.474.312-.656.535l-.776-.63c.274-.338.603-.604.979-.796zM12 4c.434 0 .853.098 1.245.29l-.44.897C12.553 5.064 12.282 5 12 5l-.031-1z":"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zM4.146 4.146c.196-.195.512-.195.708 0l15 15c.195.196.195.512 0 .708-.098.097-.226.146-.354.146-.128 0-.256-.049-.354-.146l-3.282-3.283C14.819 17.458 13.475 18 12 18c-3.309 0-6-2.691-6-6 0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5 1.199 0 2.288-.437 3.146-1.146l-1.452-1.453c-.483.366-1.058.599-1.694.599-1.654 0-3-1.448-3-3.228V9.707L4.146 4.854c-.195-.196-.195-.512 0-.708zM17.5 11.5c.276 0 .5.224.5.5 0 1.112-.31 2.152-.84 3.046l-.747-.746c.362-.693.587-1.467.587-2.3 0-.276.224-.5.5-.5zm-7.5-.793v1.065c0 1.229.897 2.228 2 2.228.362 0 .7-.111.992-.301L10 10.707zm2-6.708c1.654 0 3 1.45 3 3.228v4.546c0 .337-.062.655-.151.962l-.859-.858.01-.104V7.228C14 5.998 13.103 5 12 5s-2 .998-2 2.228v.658l-.971-.97C9.178 5.284 10.445 3.998 12 3.998z":t?"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h5zm3-7.5c.276 0 .5.224.5.5 0 3.309-2.691 6-6 6s-6-2.691-6-6c0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5s5-2.243 5-5c0-.276.224-.5.5-.5zm-6.293 2.318c.25.12.517.183.793.183l.013.958v-.46l.085.492H12.014c-.486-.002-.876-.096-1.242-.274l.435-.9zm2.268-.543l.77.637c-.275.335-.606.6-.983.79l-.447-.896c.25-.125.473-.303.66-.53zm-3.353-.736c.093.283.235.537.42.757l-.765.645c-.268-.32-.472-.687-.604-1.09l.949-.312zM15 11.619v.155c0 .359-.053.71-.16 1.043l-.953-.305c.075-.233.113-.482.113-.738v-.155h1zm-5-1.033v1.063H9v-1.063h1zm5-1.093v1.063h-1V9.492h1zm-5-1.03v1.062H9V8.46h1zm5-1.095V8.43h-1V7.367h1zM9.156 6.2l.955.3c-.074.232-.111.478-.111.728v.17H9v-.17c0-.351.053-.696.156-1.027zm5.08-1.127c.267.32.468.688.598 1.093l-.951.306c-.091-.282-.23-.537-.415-.759l.768-.64zm-3.516-.766l.453.891c-.246.126-.473.311-.656.535l-.775-.63c.273-.337.602-.603.978-.795zM12 4c.433 0 .852.098 1.245.29l-.44.899C12.55 5.064 12.28 5 12 5l-.031-1h.03z":"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zm3-7.5c.276 0 .5.224.5.5 0 3.309-2.691 6-6 6s-6-2.691-6-6c0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5s5-2.243 5-5c0-.276.224-.5.5-.5zM12 4c1.654 0 3 1.448 3 3.227v4.546C15 13.552 13.654 15 12 15s-3-1.448-3-3.227V7.227C9 5.447 10.346 4 12 4zm0 1c-1.103 0-2 .999-2 2.227v4.546C10 13 10.897 14 12 14s2-1 2-2.227V7.227C14 5.999 13.103 5 12 5z"}(n,i);return rt.a.createElement(Gt,Object.assign({},u,{muted:n,poorConnection:i,title:n?a:c,"data-testid":i?"poor-connection-mic":"good-connection-mic"}),rt.a.createElement("path",{d:l}))};Jt.displayName="Microphone";var $t=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M14.5 5C16.981 5 19 7.019 19 9.5v5c0 2.481-2.019 4.5-4.5 4.5h-5C7.019 19 5 16.981 5 14.5v-5C5 7.019 7.019 5 9.5 5zm0 1h-5C7.57 6 6 7.57 6 9.5v5C6 16.43 7.57 18 9.5 18h5c1.93 0 3.5-1.57 3.5-3.5v-5C18 7.57 16.43 6 14.5 6zM9.172 9.17c.195-.194.511-.194.707 0L12 11.293l2.121-2.121c.195-.195.512-.195.707 0 .195.195.195.512 0 .707L12.708 12l2.12 2.12c.195.197.195.513 0 .708-.098.098-.226.147-.354.147-.127 0-.255-.05-.353-.147l-2.12-2.121-2.122 2.12c-.098.099-.226.148-.354.148-.128 0-.256-.05-.353-.147-.196-.195-.196-.511 0-.707L11.293 12l-2.12-2.122c-.197-.195-.197-.512 0-.707z"}))};$t.displayName="Remove";var Yt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M11 16c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5m7.852 2.145l-3.294-3.253C16.455 13.843 17 12.485 17 11c0-3.309-2.691-6-6-6s-6 2.691-6 6 2.691 6 6 6c1.464 0 2.807-.528 3.849-1.403l3.299 3.258c.098.097.225.145.352.145.129 0 .258-.05.355-.148.195-.197.193-.514-.003-.707"}))};Yt.displayName="Search";var Qt=function(e){var t=e.disabled,n=lt(e,["disabled"]);return rt.a.createElement(Tt,Object.assign({},n),t?rt.a.createElement("path",{d:"M10.939 7.261c.393-.297.914-.344 1.361-.124.431.213.7.638.7 1.11v7.506c0 .472-.269.897-.7 1.11-.187.092-.385.137-.582.137-.28 0-.557-.09-.788-.268l-2.486-1.728c-.087-.06-.193-.093-.302-.093H6.256C5.563 14.911 5 14.36 5 13.682v-3.358c0-.68.566-1.235 1.263-1.235h1.88c.108 0 .213-.032.298-.092zm.918.772c-.042-.019-.182-.077-.32.03l-.018.012-2.505 1.741c-.253.178-.555.273-.871.273h-1.88c-.145 0-.263.105-.263.235v3.358c0 .127.115.23.256.23h1.886c.316 0 .618.093.874.272l2.503 1.741c.159.12.297.062.338.042.053-.027.143-.089.143-.214V8.247c0-.125-.09-.187-.143-.214zM14.9 10.13c.195-.195.512-.195.707 0l1.163 1.163 1.163-1.163c.195-.195.512-.195.707 0 .195.195.195.512 0 .707L17.477 12l1.163 1.163c.195.195.195.512 0 .707-.098.098-.226.147-.352.147-.128 0-.256-.049-.355-.147l-1.163-1.163-1.162 1.163c-.099.098-.226.147-.354.147-.128 0-.255-.049-.354-.147-.194-.195-.194-.512 0-.707L16.064 12 14.9 10.837c-.194-.195-.194-.512 0-.707z"}):rt.a.createElement("path",{d:"M10.939 7.26c.397-.295.914-.343 1.361-.123.431.213.7.638.7 1.11v7.506c0 .473-.269.898-.7 1.111-.187.092-.386.137-.582.137-.28 0-.557-.091-.788-.269l-2.486-1.727c-.088-.061-.194-.094-.302-.094H6.256c-.693 0-1.256-.552-1.256-1.229v-3.357c0-.681.566-1.236 1.263-1.236h1.88c.108 0 .214-.033.3-.092zm5.148.054c.176-.211.49-.241.704-.065 1.406 1.164 2.213 2.896 2.213 4.751 0 1.855-.807 3.588-2.213 4.752-.094.077-.207.115-.319.115-.144 0-.286-.061-.385-.18-.177-.213-.147-.529.065-.705 1.177-.974 1.852-2.425 1.852-3.982 0-1.556-.675-3.007-1.852-3.981-.212-.176-.242-.492-.065-.705zm-4.23.719c-.041-.02-.183-.077-.32.029l-.018.013-2.505 1.742c-.255.178-.556.272-.871.272h-1.88c-.145 0-.263.106-.263.236v3.357c0 .127.115.229.256.229h1.886c.315 0 .617.095.874.274l2.503 1.741c.157.117.298.062.337.042.054-.027.144-.09.144-.215V8.247c0-.125-.09-.187-.143-.214zm2.841 1.62c.181-.21.496-.232.705-.053.707.608 1.112 1.483 1.112 2.4 0 .917-.405 1.793-1.112 2.402-.095.08-.21.12-.326.12-.14 0-.28-.058-.379-.173-.18-.21-.156-.524.053-.705.486-.42.764-1.018.764-1.644 0-.625-.278-1.223-.764-1.642-.209-.181-.233-.496-.053-.705z"}))};Qt.displayName="Sound";var Zt=function(e){return rt.a.createElement(Tt,Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),rt.a.createElement("g",{fill:"none",fillRule:"evenodd"},rt.a.createElement("path",{d:"M0 0H24V24H0z"}),rt.a.createElement("g",{fill:"currentColor"},rt.a.createElement("path",{d:"M8 0c.316 0 .571.256.571.571V4c0 .316-.255.571-.571.571-.316 0-.571-.255-.571-.571V.571C7.429.256 7.684 0 8 0z",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M14.928 4c.158.273.064.623-.209.78l-2.97 1.715c-.272.158-.622.064-.78-.21-.158-.273-.064-.622.21-.78l2.969-1.714c.273-.158.622-.064.78.209z",opacity:".2",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M12 1.072c.273.158.367.507.21.78l-1.715 2.97c-.158.273-.507.367-.78.209-.274-.158-.368-.508-.21-.78l1.714-2.97c.158-.273.508-.367.781-.21z",opacity:".12",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M16 8c0 .316-.256.571-.571.571H12c-.316 0-.571-.255-.571-.571 0-.316.255-.571.571-.571h3.429c.315 0 .571.255.571.571z",opacity:".28",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M12 14.928c-.273.158-.623.064-.78-.209l-1.715-2.97c-.158-.272-.064-.622.21-.78.273-.158.622-.064.78.21l1.714 2.969c.158.273.064.622-.209.78z",opacity:".44",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M14.928 12c-.158.273-.507.367-.78.21l-2.97-1.715c-.273-.158-.367-.507-.209-.78.158-.274.508-.368.78-.21l2.97 1.714c.273.158.367.508.21.781z",opacity:".36",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M8 16c-.316 0-.571-.256-.571-.571V12c0-.316.255-.571.571-.571.316 0 .571.255.571.571v3.429c0 .315-.255.571-.571.571z",opacity:".52",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M1.072 12c-.158-.273-.064-.623.209-.78l2.97-1.715c.272-.158.622-.064.78.21.158.273.064.622-.21.78l-2.969 1.714c-.273.158-.622.064-.78-.209z",opacity:".68",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M4 14.928c-.273-.158-.367-.507-.21-.78l1.715-2.97c.158-.273.507-.367.78-.209.274.158.368.508.21.78L4.78 14.72c-.158.273-.508.367-.781.21z",opacity:".6",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M0 8c0-.316.256-.571.571-.571H4c.316 0 .571.255.571.571 0 .316-.255.571-.571.571H.571C.256 8.571 0 8.316 0 8z",opacity:".76",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M4 1.072c.273-.158.623-.064.78.209l1.715 2.97c.158.272.064.622-.21.78-.273.158-.622.064-.78-.21L3.791 1.853c-.158-.273-.064-.622.209-.78z",opacity:".92",transform:"translate(4 4)"}),rt.a.createElement("path",{d:"M1.072 4c.158-.273.507-.367.78-.21l2.97 1.715c.273.158.367.507.209.78-.158.274-.508.368-.78.21L1.28 4.78c-.273-.158-.367-.508-.21-.781z",opacity:".84",transform:"translate(4 4)"}))))};Zt.displayName="Spinner";var Xt=function(e){return rt.a.createElement(Tt,Object.assign({},e),rt.a.createElement("path",{d:"M8.824 9.88c-.21.18-.526.154-.705-.056-.159-.187-.156-.457-.006-.64l.063-.065 3.523-3c.165-.14.397-.156.577-.05l.074.052 3.477 3c.209.18.232.497.052.706-.16.185-.428.224-.632.104l-.074-.052-3.151-2.72-3.198 2.722zM15.176 14.12c.21-.18.526-.154.705.056.159.187.157.457.006.64l-.063.065-3.523 3c-.165.14-.397.156-.577.05l-.074-.052-3.477-3c-.209-.18-.232-.497-.052-.706.16-.185.428-.224.632-.104l.074.052 3.151 2.72 3.198-2.722z"}))};Xt.displayName="UpAndDownCaret";var en=it.d.input(C||(C=Object(tt.a)(["\n  ",";\n\n  &[aria-invalid='true'] + .ch-checkbox {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),pt,(function(e){return e.theme.inputs.error.border}),(function(e){return e.theme.inputs.error.shadow})),tn=it.d.div(O||(O=Object(tt.a)(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  display: inline-block;\n  height: 1rem;\n  position: relative;\n  width: 1rem;\n  transition: box-shadow 0.05s ease-in;\n\n  > svg {\n    left: -0.03125rem;\n    position: absolute;\n    transform: scale(1.5);\n  }\n\n  ",":checked ~ & {\n    background-color: ",";\n    border: ",";\n    box-shadow: ",";\n    color: ",";\n  }\n\n  ",":focus ~ & {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.inputs.bgd}),(function(e){return e.theme.inputs.border}),(function(e){return e.theme.radii.default}),(function(e){return e.theme.inputs.shadow}),(function(e){return e.theme.inputs.fontColor}),en,(function(e){return e.theme.inputs.checked.bgd}),(function(e){return e.theme.inputs.checked.border}),(function(e){return e.theme.inputs.checked.shadow}),(function(e){return e.theme.inputs.checked.fontColor}),en,(function(e){return e.theme.inputs.focus.border}),(function(e){return e.theme.inputs.focus.shadow})),nn=function(e){var t=e.checked,n=e.onChange,r=e.value,i=Object(nt.useRef)(null);return rt.a.createElement(rt.a.Fragment,null,rt.a.createElement(en,Object.assign({},e,{"data-testid":"hidden-checkbox",ref:i,type:"checkbox",value:r,onChange:n})),rt.a.createElement(tn,{"data-testid":"styled-checkbox",checked:t,className:"ch-checkbox",onClick:function(){var e,t;null===(e=i.current)||void 0===e||e.click(),null===(t=i.current)||void 0===t||t.focus()}},t&&rt.a.createElement(Lt,{"data-testid":"check"})))};nn.displayName="Checkbox";var rn=Object(nt.createContext)({showLabels:!1,layout:"top"}),on={"undocked-vertical":"flex-direction: column;","undocked-horizontal":"flex-direction: row;",top:"flex-direction: row; width: 100%; top: 0; position: fixed;",bottom:"flex-direction: row; width: 100%; bottom: 0; position: fixed;",right:"flex-direction: column; height: 100%; right: 0; position: fixed;",left:"flex-direction: column; height: 100%; left: 0; position: fixed;"},an="grid-template-columns: 2.5rem minmax(0.5rem, auto);",sn="grid-template-columns: 1.5rem 1.5rem 1.5rem",cn=function(e){return"right"===e||"left"===e||"undocked-vertical"===e},un=function(e){return"undocked-vertical"===e||"undocked-horizontal"===e},ln={top:"unset;",bottom:"unset;",right:"unset;",left:"unset;"},dn=it.d.div(E||(E=Object(tt.a)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: ",";\n  background-color: ",";\n  opacity: ",";\n  border: ",";\n  box-shadow: ",";\n  ",";\n\n  ","\n\n  width: ",";\n  height: ",";\n\n  ","\n  ","\n"])),(function(e){var t=e.theme,n=e.layout;return un(n)?t.radii.default:"0"}),(function(e){return e.theme.controlBar.bgd}),(function(e){return e.theme.controlBar.opacity}),(function(e){var t=e.theme,n=e.layout;return un(n)?"none":t.controlBar.border}),(function(e){var t=e.theme,n=e.layout;return un(n)?t.controlBar.shadow:"none"}),(function(e){var t=e.layout;return on["".concat(t)]}),(function(e){return e.responsive&&Object(it.c)(x||(x=Object(tt.a)(["\n    "," {\n      ","\n      ",";\n      box-shadow: ",";\n      border: none;\n      height: ",";\n      width: ",";\n    }\n\n    "," {\n      justify-content: ",";\n      ","\n      ",";\n      box-shadow: ",";\n      border: none;\n    }\n  "])),(function(e){return e.theme.mediaQueries.max.sm}),ln,(function(e){return cn(e.layout)?on.left:on.bottom}),(function(e){return e.theme.controlBar.shadow}),(function(e){return cn(e.layout)&&"100%"}),(function(e){return!cn(e.layout)&&"100%"}),(function(e){return e.theme.mediaQueries.max.xs}),(function(e){return cn(e.layout)?"center":"space-around"}),ln,(function(e){return cn(e.layout)?on.left:on.bottom}),(function(e){return e.theme.controlBar.shadow}))}),(function(e){var t=e.layout;return cn(t)&&"5rem"}),(function(e){var t=e.layout;return!cn(t)&&"5rem"}),ht,ft),fn=it.d.div(_||(_=Object(tt.a)(["\n  margin: ",";\n  display: grid;\n  grid-template-rows: ",";\n  justify-items: center;\n  align-items: center;\n  ",";\n\n  > :first-child {\n    grid-column-start: ",";\n  }\n\n  .ch-control-bar-item-iconButton {\n    .ch-icon {\n      width: 1.5rem;\n      height: 1.5rem;\n      border-radius: 100%;\n    }\n  }\n\n  .ch-control-bar-item-caret {\n    width: 1.25rem;\n    height: 1.25rem;\n    padding: 0;\n\n    .ch-icon {\n      width: 100%;\n      height: 100%;\n    }\n\n    // setting this transform on the shape so we\n    // don't overwrite the rotate transform on the Caret\n    .Svg g {\n      transform: scale(1.333);\n      transform-origin: 50% 50%;\n    }\n  }\n\n  .ch-control-bar-popover {\n    background-color: inherit;\n    grid-column-start: ",";\n    color: ",";\n\n    .isOpen.ch-control-bar-item-caret {\n      color: ",";\n    }\n  }\n\n  .ch-control-bar-item-label {\n    color: ",";\n    grid-row-start: 2;\n    font-size: ","; /* TODO: get updated font size from design */\n    padding-top: 0.25rem;\n    justify-self: center;\n    grid-column: ",";\n  }\n\n  "," {\n    justify-content: space-around;\n    button ~ span {\n      display: none;\n    }\n  }\n\n  "," {\n    margin: ",";\n    button ~ span {\n      display: none;\n    }\n  }\n"])),(function(e){var t=e.layout;return cn(t)?"0.625rem 0":"0 0.625rem"}),(function(e){return e.showLabels?"1.5rem 1rem":"1.5rem"}),(function(e){var t=e.popOver,n=e.layout,r=e.children;return"\n    ".concat(!cn(n)&&(t||r)&&an||"","\n    ").concat(cn(n)&&(t||r)&&sn||"","\n  ")}),(function(e){var t=e.layout,n=e.popOver,r=e.children;return cn(t)&&(n||r)?"2":"1"}),(function(e){var t=e.layout,n=e.popOver,r=e.children;return cn(t)&&(n||r)?"2":"1"}),(function(e){return e.theme.controlBar.text}),(function(e){return e.theme.colors.primary.main}),(function(e){return e.theme.controlBar.text}),(function(e){return e.theme.fontSizes.footnote.fontSize}),(function(e){var t=e.layout,n=e.popOver,r=e.children;return cn(t)&&(n||r)?"2":"1"}),(function(e){return e.theme.mediaQueries.max.sm}),(function(e){return e.theme.mediaQueries.max.xs}),(function(e){var t=e.layout;return cn(t)?"0.75rem 0":"0"})),hn=function(e){var t=e.tag,n=e.layout,r=e.showLabels,i=void 0!==r&&r,o=e.responsive,a=void 0===o||o,s=e.className,c=e.children,u=lt(e,["tag","layout","showLabels","responsive","className","children"]),l={layout:n,showLabels:i};return rt.a.createElement(rn.Provider,{value:l},rt.a.createElement(dn,Object.assign({className:s||"",responsive:a,as:t},l,{"data-testid":"control-bar"},u),c))},pn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mn(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}var gn=mn((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&e.push(a)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var s in i)t.call(i,s)&&i[s]&&e.push(s);else e.push(i.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),bn=nt.createContext(),yn=nt.createContext();function wn(e){var t=e.children,n=nt.useState(null),r=n[0],i=n[1],o=nt.useRef(!1);nt.useEffect((function(){return function(){o.current=!0}}),[]);var a=nt.useCallback((function(e){o.current||i(e)}),[]);return nt.createElement(bn.Provider,{value:r},nt.createElement(yn.Provider,{value:a},t))}var Sn=function(e){return Array.isArray(e)?e[0]:e},kn=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},Cn=function(e,t){if("function"===typeof e)return kn(e,t);null!=e&&(e.current=t)},On=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},xn="undefined"!==typeof window&&window.document&&window.document.createElement?nt.useLayoutEffect:nt.useEffect,En="top",_n="bottom",Tn="right",In="left",An="auto",Mn=[En,_n,Tn,In],Pn="start",jn="end",Rn="viewport",Dn="popper",Nn=Mn.reduce((function(e,t){return e.concat([t+"-"+Pn,t+"-"+jn])}),[]),Ln=[].concat(Mn,[An]).reduce((function(e,t){return e.concat([t,t+"-"+Pn,t+"-"+jn])}),[]),Fn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Un(e){return e?(e.nodeName||"").toLowerCase():null}function Bn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Vn(e){return e instanceof Bn(e).Element||e instanceof Element}function zn(e){return e instanceof Bn(e).HTMLElement||e instanceof HTMLElement}function Hn(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Bn(e).ShadowRoot||e instanceof ShadowRoot)}var Wn={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];zn(i)&&Un(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});zn(r)&&Un(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function qn(e){return e.split("-")[0]}var Kn=Math.max,Gn=Math.min,Jn=Math.round;function $n(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(zn(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(r=Jn(n.width)/a||1),o>0&&(i=Jn(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Yn(e){var t=$n(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Qn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Hn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zn(e){return Bn(e).getComputedStyle(e)}function Xn(e){return["table","td","th"].indexOf(Un(e))>=0}function er(e){return((Vn(e)?e.ownerDocument:e.document)||window.document).documentElement}function tr(e){return"html"===Un(e)?e:e.assignedSlot||e.parentNode||(Hn(e)?e.host:null)||er(e)}function nr(e){return zn(e)&&"fixed"!==Zn(e).position?e.offsetParent:null}function rr(e){for(var t=Bn(e),n=nr(e);n&&Xn(n)&&"static"===Zn(n).position;)n=nr(n);return n&&("html"===Un(n)||"body"===Un(n)&&"static"===Zn(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&zn(e)&&"fixed"===Zn(e).position)return null;var n=tr(e);for(Hn(n)&&(n=n.host);zn(n)&&["html","body"].indexOf(Un(n))<0;){var r=Zn(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ir(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function or(e,t,n){return Kn(e,Gn(t,n))}function ar(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function sr(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var cr={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=qn(n.placement),c=ir(s),u=[In,Tn].indexOf(s)>=0?"height":"width";if(o&&a){var l=function(e,t){return ar("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:sr(e,Mn))}(i.padding,n),d=Yn(o),f="y"===c?En:In,h="y"===c?_n:Tn,p=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],v=a[c]-n.rects.reference[c],m=rr(o),g=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,b=p/2-v/2,y=l[f],w=g-d[u]-l[h],S=g/2-d[u]/2+b,k=or(y,S,w),C=c;n.modifiersData[r]=((t={})[C]=k,t.centerOffset=k-S,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Qn(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ur(e){return e.split("-")[1]}var lr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dr(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,d=e.isFixed,f=a.x,h=void 0===f?0:f,p=a.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var g=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=In,w=En,S=window;if(u){var k=rr(n),C="clientHeight",O="clientWidth";if(k===Bn(n)&&"static"!==Zn(k=er(n)).position&&"absolute"===s&&(C="scrollHeight",O="scrollWidth"),i===En||(i===In||i===Tn)&&o===jn)w=_n,v-=(d&&k===S&&S.visualViewport?S.visualViewport.height:k[C])-r.height,v*=c?1:-1;if(i===In||(i===En||i===_n)&&o===jn)y=Tn,h-=(d&&k===S&&S.visualViewport?S.visualViewport.width:k[O])-r.width,h*=c?1:-1}var x,E=Object.assign({position:s},u&&lr),_=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Jn(t*r)/r||0,y:Jn(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=_.x,v=_.y,c?Object.assign({},E,((x={})[w]=b?"0":"",x[y]=g?"0":"",x.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",x)):Object.assign({},E,((t={})[w]=b?v+"px":"",t[y]=g?h+"px":"",t.transform="",t))}var fr={passive:!0};var hr={left:"right",right:"left",bottom:"top",top:"bottom"};function pr(e){return e.replace(/left|right|bottom|top/g,(function(e){return hr[e]}))}var vr={start:"end",end:"start"};function mr(e){return e.replace(/start|end/g,(function(e){return vr[e]}))}function gr(e){var t=Bn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function br(e){return $n(er(e)).left+gr(e).scrollLeft}function yr(e){var t=Zn(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function wr(e){return["html","body","#document"].indexOf(Un(e))>=0?e.ownerDocument.body:zn(e)&&yr(e)?e:wr(tr(e))}function Sr(e,t){var n;void 0===t&&(t=[]);var r=wr(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Bn(r),a=i?[o].concat(o.visualViewport||[],yr(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Sr(tr(a)))}function kr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cr(e,t){return t===Rn?kr(function(e){var t=Bn(e),n=er(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+br(e),y:s}}(e)):Vn(t)?function(e){var t=$n(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):kr(function(e){var t,n=er(e),r=gr(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Kn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Kn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+br(e),c=-r.scrollTop;return"rtl"===Zn(i||n).direction&&(s+=Kn(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(er(e)))}function Or(e,t,n){var r="clippingParents"===t?function(e){var t=Sr(tr(e)),n=["absolute","fixed"].indexOf(Zn(e).position)>=0&&zn(e)?rr(e):e;return Vn(n)?t.filter((function(e){return Vn(e)&&Qn(e,n)&&"body"!==Un(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=Cr(e,n);return t.top=Kn(r.top,t.top),t.right=Gn(r.right,t.right),t.bottom=Gn(r.bottom,t.bottom),t.left=Kn(r.left,t.left),t}),Cr(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xr(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?qn(i):null,a=i?ur(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case En:t={x:s,y:n.y-r.height};break;case _n:t={x:s,y:n.y+n.height};break;case Tn:t={x:n.x+n.width,y:c};break;case In:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=o?ir(o):null;if(null!=u){var l="y"===u?"height":"width";switch(a){case Pn:t[u]=t[u]-(n[l]/2-r[l]/2);break;case jn:t[u]=t[u]+(n[l]/2-r[l]/2)}}return t}function Er(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,c=void 0===s?Rn:s,u=n.elementContext,l=void 0===u?Dn:u,d=n.altBoundary,f=void 0!==d&&d,h=n.padding,p=void 0===h?0:h,v=ar("number"!==typeof p?p:sr(p,Mn)),m=l===Dn?"reference":Dn,g=e.rects.popper,b=e.elements[f?m:l],y=Or(Vn(b)?b:b.contextElement||er(e.elements.popper),a,c),w=$n(e.elements.reference),S=xr({reference:w,element:g,strategy:"absolute",placement:i}),k=kr(Object.assign({},g,S)),C=l===Dn?k:w,O={top:y.top-C.top+v.top,bottom:C.bottom-y.bottom+v.bottom,left:y.left-C.left+v.left,right:C.right-y.right+v.right},x=e.modifiersData.offset;if(l===Dn&&x){var E=x[i];Object.keys(O).forEach((function(e){var t=[Tn,_n].indexOf(e)>=0?1:-1,n=[En,_n].indexOf(e)>=0?"y":"x";O[e]+=E[n]*t}))}return O}function _r(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?Ln:c,l=ur(r),d=l?s?Nn:Nn.filter((function(e){return ur(e)===l})):Mn,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var h=f.reduce((function(t,n){return t[n]=Er(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[qn(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}var Tr={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,u=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,g=qn(m),b=c||(g===m||!p?[pr(m)]:function(e){if(qn(e)===An)return[];var t=pr(e);return[mr(e),t,mr(t)]}(m)),y=[m].concat(b).reduce((function(e,n){return e.concat(qn(n)===An?_r(t,{placement:n,boundary:l,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),w=t.rects.reference,S=t.rects.popper,k=new Map,C=!0,O=y[0],x=0;x<y.length;x++){var E=y[x],_=qn(E),T=ur(E)===Pn,I=[En,_n].indexOf(_)>=0,A=I?"width":"height",M=Er(t,{placement:E,boundary:l,rootBoundary:d,altBoundary:f,padding:u}),P=I?T?Tn:In:T?_n:En;w[A]>S[A]&&(P=pr(P));var j=pr(P),R=[];if(o&&R.push(M[_]<=0),s&&R.push(M[P]<=0,M[j]<=0),R.every((function(e){return e}))){O=E,C=!1;break}k.set(E,R)}if(C)for(var D=function(e){var t=y.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},N=p?3:1;N>0;N--){if("break"===D(N))break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ir(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ar(e){return[En,Tn,_n,In].some((function(t){return e[t]>=0}))}var Mr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=Ln.reduce((function(e,n){return e[n]=function(e,t,n){var r=qn(e),i=[In,En].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[In,Tn].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],c=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}};var Pr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,m=Er(t,{boundary:c,rootBoundary:u,padding:d,altBoundary:l}),g=qn(t.placement),b=ur(t.placement),y=!b,w=ir(g),S="x"===w?"y":"x",k=t.modifiersData.popperOffsets,C=t.rects.reference,O=t.rects.popper,x="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,E="number"===typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(k){if(o){var I,A="y"===w?En:In,M="y"===w?_n:Tn,P="y"===w?"height":"width",j=k[w],R=j+m[A],D=j-m[M],N=h?-O[P]/2:0,L=b===Pn?C[P]:O[P],F=b===Pn?-O[P]:-C[P],U=t.elements.arrow,B=h&&U?Yn(U):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=V[A],H=V[M],W=or(0,C[P],B[P]),q=y?C[P]/2-N-W-z-E.mainAxis:L-W-z-E.mainAxis,K=y?-C[P]/2+N+W+H+E.mainAxis:F+W+H+E.mainAxis,G=t.elements.arrow&&rr(t.elements.arrow),J=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,$=null!=(I=null==_?void 0:_[w])?I:0,Y=j+K-$,Q=or(h?Gn(R,j+q-$-J):R,j,h?Kn(D,Y):D);k[w]=Q,T[w]=Q-j}if(s){var Z,X="x"===w?En:In,ee="x"===w?_n:Tn,te=k[S],ne="y"===S?"height":"width",re=te+m[X],ie=te-m[ee],oe=-1!==[En,In].indexOf(g),ae=null!=(Z=null==_?void 0:_[S])?Z:0,se=oe?re:te-C[ne]-O[ne]-ae+E.altAxis,ce=oe?te+C[ne]+O[ne]-ae-E.altAxis:ie,ue=h&&oe?function(e,t,n){var r=or(e,t,n);return r>n?n:r}(se,te,ce):or(h?se:re,te,h?ce:ie);k[S]=ue,T[S]=ue-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};function jr(e,t,n){void 0===n&&(n=!1);var r=zn(t),i=zn(t)&&function(e){var t=e.getBoundingClientRect(),n=Jn(t.width)/e.offsetWidth||1,r=Jn(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=er(t),a=$n(e,i),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==Un(t)||yr(o))&&(s=function(e){return e!==Bn(e)&&zn(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:gr(e);var t}(t)),zn(t)?((c=$n(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=br(o))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function Rr(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Dr(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Nr={placement:"bottom",modifiers:[],strategy:"absolute"};function Lr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Fr(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Nr:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nr,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,c={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:Vn(e)?Sr(e):e.contextElement?Sr(e.contextElement):[],popper:Sr(t)};var l=function(e){var t=Rr(e);return Fn.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:c,options:r}),u=function(){};a.push(s||u)}})),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Lr(t,n)){i.rects={reference:jr(t,rr(n),"fixed"===i.options.strategy),popper:Yn(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,u=o.options,l=void 0===u?{}:u,d=o.name;"function"===typeof a&&(i=a({state:i,options:l,name:d,instance:c})||i)}else i.reset=!1,r=-1}}},update:Dr((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!Lr(e,t))return c;function u(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var Ur=Fr({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,c=Bn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,fr)})),s&&c.addEventListener("resize",n.update,fr),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,fr)})),s&&c.removeEventListener("resize",n.update,fr)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=xr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,u={placement:qn(t.placement),variation:ur(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,dr(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,dr(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Wn,Mr,Tr,Pr,cr,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Er(t,{elementContext:"reference"}),s=Er(t,{altBoundary:!0}),c=Ir(a,r),u=Ir(s,i,o),l=Ar(c),d=Ar(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}}]}),Br="undefined"!==typeof Element,Vr="function"===typeof Map,zr="function"===typeof Set,Hr="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function Wr(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i,o;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(!Wr(e[r],t[r]))return!1;return!0}if(Vr&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Wr(r.value[1],t.get(r.value[0])))return!1;return!0}if(zr&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Hr&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Br&&e instanceof Element)return!1;for(r=n;0!==r--;)if(("_owner"!==i[r]&&"__v"!==i[r]&&"__o"!==i[r]||!e.$$typeof)&&!Wr(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var qr=function(e,t){try{return Wr(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},Kr=[],Gr=function(){},Jr=function(){return Promise.resolve(null)},$r=[];function Yr(e){var t=e.placement,n=void 0===t?"bottom":t,r=e.strategy,i=void 0===r?"absolute":r,o=e.modifiers,a=void 0===o?$r:o,s=e.referenceElement,c=e.onFirstUpdate,u=e.innerRef,l=e.children,d=nt.useContext(bn),f=nt.useState(null),h=f[0],p=f[1],v=nt.useState(null),m=v[0],g=v[1];nt.useEffect((function(){Cn(u,h)}),[u,h]);var b=nt.useMemo((function(){return{placement:n,strategy:i,onFirstUpdate:c,modifiers:[].concat(a,[{name:"arrow",enabled:null!=m,options:{element:m}}])}}),[n,i,c,a,m]),y=function(e,t,n){void 0===n&&(n={});var r=nt.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Kr},o=nt.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],s=o[1],c=nt.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);s({styles:On(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:On(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),u=nt.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[c,{name:"applyStyles",enabled:!1}])};return qr(r.current,e)?r.current||e:(r.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,c]),l=nt.useRef();return xn((function(){l.current&&l.current.setOptions(u)}),[u]),xn((function(){if(null!=e&&null!=t){var r=(n.createPopper||Ur)(e,t,u);return l.current=r,function(){r.destroy(),l.current=null}}}),[e,t,n.createPopper]),{state:l.current?l.current.state:null,styles:a.styles,attributes:a.attributes,update:l.current?l.current.update:null,forceUpdate:l.current?l.current.forceUpdate:null}}(s||d,h,b),w=y.state,S=y.styles,k=y.forceUpdate,C=y.update,O=nt.useMemo((function(){return{ref:p,style:S.popper,placement:w?w.placement:n,hasPopperEscaped:w&&w.modifiersData.hide?w.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:w&&w.modifiersData.hide?w.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:S.arrow,ref:g},forceUpdate:k||Gr,update:C||Jr}}),[p,g,n,w,S,C,k]);return Sn(l)(O)}var Qr=function(){},Zr=Qr;function Xr(e){var t=e.children,n=e.innerRef,r=nt.useContext(yn),i=nt.useCallback((function(e){Cn(n,e),kn(r,e)}),[n,r]);return nt.useEffect((function(){return function(){return Cn(n,null)}})),nt.useEffect((function(){Zr(Boolean(r),"`Reference` should not be used outside of a `Manager` component.")}),[r]),Sn(t)({ref:i})}var ei=27,ti=38,ni=40;function ri(e,t){var n=function(n){(function(t){return!!e.current&&!e.current.contains(t.target)})(n)&&t&&t(n)};Object(nt.useEffect)((function(){return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}))}function ii(e,t){var n=function(n){if(9===n.keyCode&&e.current&&!e.current.contains(document.activeElement))return t(n)};Object(nt.useEffect)((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}))}var oi=it.d.ul(T||(T=Object(tt.a)(["\n  width: fit-content;\n  max-width: 22rem;\n  background-color: ",";\n  border: ",";\n  margin: 0;\n  border-radius: 0.25rem;\n  backdrop-filter: blur(1rem);\n  list-style: none;\n  padding: 0.5rem 0;\n  box-shadow: ",";\n  z-index: ",";\n  display: table;\n  overflow: inherit;\n"])),(function(e){return e.theme.popOver.menuBgd}),(function(e){return e.theme.popOver.menuBorder}),(function(e){return e.theme.popOver.shadow}),(function(e){return e.theme.zIndex.popOver})),ai=it.d.button(I||(I=Object(tt.a)(["\n  background-color: transparent;\n  padding: 0;\n  border: none;\n  cursor: pointer;\n  &:focus {\n    outline: 0;\n  }\n"]))),si=it.d.li(A||(A=Object(tt.a)(["\n  height: 2rem;\n  position: relative;\n\n  button,\n  a {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    border: none;\n    cursor: pointer;\n    background-color: ",";\n    color: ",";\n    line-height: ",";\n    font-size: ",";\n    padding: 0 2.5rem;\n    text-decoration: none;\n    outline: 0;\n\n    &:hover,\n    &:focus {\n      background-color: ",";\n      color: ",";\n      outline: 0;\n    }\n\n    &:disabled {\n      color: ",";\n    }\n  }\n\n  a {\n    width: unset;\n  }\n\n  .ch-content > * {\n    ",";\n  }\n\n  .ch-check {\n    position: absolute;\n    left: 0.5rem;\n    width: 1.5rem;\n    height: 1.5rem;\n    top: 0.33rem;\n  }\n\n  &:hover .ch-check g,\n  &:focus .ch-check g {\n    fill: ",";\n  }\n"])),(function(e){return e.theme.popOver.itemBgd}),(function(e){return e.theme.popOver.itemText}),(function(e){return e.theme.fontSizes.text.lineHeight}),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.popOver.active.itemBgd}),(function(e){return e.theme.popOver.active.itemText}),(function(e){return e.theme.popOver.disabled}),vt,(function(e){return e.theme.popOver.active.itemText})),ci=(Object(it.d)(si)(M||(M=Object(tt.a)(["\n  > span {\n    width: 100%;\n    height: 100%;\n    display: block;\n    height: 2rem;\n  }\n\n  > button {\n    position: relative;\n  }\n\n  .ch-caret {\n    position: absolute;\n    width: 1.5rem;\n    height: 1.5rem;\n    right: 0;\n    color: inherit;\n    fill: inherit;\n  }\n"]))),it.d.header(P||(P=Object(tt.a)(["\n  border-bottom: 0.0625rem solid ",";\n  margin-bottom: 0.75rem;\n  max-width: 22rem;\n\n  img {\n    width: 100%;\n    display: inline-block;\n    margin-top: -0.5rem;\n    border-radius: 0.25rem 0.25rem 0 0;\n  }\n\n  img + .ch-title {\n    margin-top: 0.75rem;\n  }\n\n  .ch-title {\n    ",";\n    padding: 0 2.5rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0;\n    color: ",";\n    font-size: 1.18125rem;\n    line-height: ",";\n  }\n\n  .ch-subtitle {\n    ",";\n    padding: 0 2.5rem;\n    color: #616672;\n    font-size: ",";\n    line-height: ",";\n    line-height: 1.43;\n    margin: 0 0 1rem;\n  }\n"])),(function(e){return e.theme.popOver.separator}),vt,(function(e){return e.theme.popOver.titleText}),(function(e){return e.theme.fontSizes.text.lineHeight}),vt,(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.fontSizes.text.lineHeight})),it.d.li(j||(j=Object(tt.a)(["\n  margin: 0;\n  border-width: 0.0625rem 0 0 0;\n  border-style: solid;\n  border-color: ",";\n  margin-bottom: 0.75rem;\n  opacity: 0.8;\n"])),(function(e){return e.theme.popOver.separator})),function(e){return e.querySelectorAll("button, [href]")}),ui=function(e){var t=e.renderButton,n=e.renderButtonWrapper,r=e.onPopOverClick,i=e.children,o=e.isSubMenu,a=void 0!==o&&o,s=e.placement,c=void 0===s?"bottom-start":s,u=e.a11yLabel,l=e.className,d=e.closeOnClick,f=void 0===d||d,h=lt(e,["renderButton","renderButtonWrapper","onPopOverClick","children","isSubMenu","placement","a11yLabel","className","closeOnClick"]),p=Object(nt.createRef)(),v=Object(nt.useState)(!1),m=Object(et.a)(v,2),g=m[0],b=m[1];Object(nt.useEffect)((function(){if(g&&p.current){var e=ci(p.current);e&&e[0].focus()}}),[g]);var y=function(e){var t=p.current;if(!a&&t)for(var n=ci(t),r=document.activeElement,i=0;i<n.length;i++)if(n[i]===r){if("down"===e&&i!==n.length-1)return n[i+1].focus();if("up"===e&&i>0)return n[i-1].focus();break}},w=function(){b(!g),r&&r(g)};return ri(p,(function(){return b(!1)})),ii(p,(function(){return b(!1)})),rt.a.createElement("span",{ref:p,onKeyDown:function(e){switch(e.keyCode){case ei:return b(!1);case ti:return y("up");case ni:return y("down")}},"data-testid":"popover"},rt.a.createElement(wn,null,rt.a.createElement(Xr,null,(function(e){var r={ref:e.ref,className:gn(l,"ch-popover-toggle"),onClick:w,"data-menu":a?"submenu":null,"aria-label":u,"aria-haspopup":!0,"aria-expanded":g,"data-testid":"popover-toggle"};if(t)return rt.a.createElement(ai,Object.assign({},r),t(g));if(n){var i=r.ref,o=lt(r,["ref"]);return rt.a.createElement("span",{ref:i},n(g,o))}return null})),g&&rt.a.createElement(Yr,Object.assign({placement:c,modifiers:[{name:"offset",options:{offset:[-8,0]}}]},h),(function(e){var t=e.ref,n=e.style,r=e.placement;return rt.a.createElement(oi,{"data-placement":r,onClick:function(e){return function(e){if(f)return!e.target.closest("[data-menu='submenu']")&&b(!1)}(e)},ref:t,style:n,"data-testid":"menu",className:"ch-popover-menu"},i)}))))},li=function(e){var t=e.as,n=void 0===t?"button":t,r=e.children,i=e.checked,o=e.testId,a=void 0===o?"popover-item":o,s=lt(e,["as","children","checked","testId"]),c=n;return rt.a.createElement(si,{"data-testid":a},i&&rt.a.createElement(Lt,{className:"ch-check","data-testid":"popover-check"}),rt.a.createElement(c,Object.assign({className:"ch-content"},s),r))},di=new ct.ConsoleLogger("ChimeSDKReactComponent",ct.LogLevel.INFO),fi=rt.a.createContext(di),hi=function(){return Object(nt.useContext)(fi)},pi=.25,vi=.5,mi=Object(it.c)(R||(R=Object(tt.a)(["\n  top: calc(\n    ","px -\n      ","rem\n  );\n  left: ","px;\n  transform: translateX(-50%) translateY(-50%);\n\n  &::before {\n    transform: rotateZ(180deg);\n    top: 100%;\n    left: calc(50% - ","rem);\n  }\n"])),(function(e){var t,n;return null!==(n=null===(t=e.bounds)||void 0===t?void 0:t.top)&&void 0!==n?n:0}),1.75,(function(e){var t,n,r,i;return((null!==(n=null===(t=e.bounds)||void 0===t?void 0:t.left)&&void 0!==n?n:0)+(null!==(i=null===(r=e.bounds)||void 0===r?void 0:r.right)&&void 0!==i?i:0))/2}),vi),gi=Object(it.c)(D||(D=Object(tt.a)(["\n  top: calc(\n    ","px +\n      ","rem\n  );\n  left: ","px;\n  transform: translateX(-50%) translateY(-50%);\n\n  &::before {\n    transform: rotateZ(0deg);\n    top: -","rem;\n    left: calc(50% - ","rem);\n  }\n"])),(function(e){var t,n;return null!==(n=null===(t=e.bounds)||void 0===t?void 0:t.bottom)&&void 0!==n?n:0}),1.75,(function(e){var t,n,r,i;return((null!==(n=null===(t=e.bounds)||void 0===t?void 0:t.left)&&void 0!==n?n:0)+(null!==(i=null===(r=e.bounds)||void 0===r?void 0:r.right)&&void 0!==i?i:0))/2}),vi,vi),bi=Object(it.c)(N||(N=Object(tt.a)(["\n  top: ","px;\n  left: calc(\n    ","px - ","rem\n  );\n  transform: translateY(-50%) translateX(-100%);\n\n  &::before {\n    transform: rotateZ(90deg);\n    top: calc(50% - ","rem);\n    left: calc(100% - ","rem);\n  }\n"])),(function(e){var t,n,r,i;return((null!==(n=null===(t=e.bounds)||void 0===t?void 0:t.top)&&void 0!==n?n:0)+(null!==(i=null===(r=e.bounds)||void 0===r?void 0:r.bottom)&&void 0!==i?i:0))/2}),(function(e){var t,n;return null!==(n=null===(t=e.bounds)||void 0===t?void 0:t.left)&&void 0!==n?n:0}),.75,.25,pi),yi=Object(it.c)(L||(L=Object(tt.a)(["\n  top: ","px;\n  left: calc(\n    ","px + ","rem\n  );\n  transform: translateY(-50%);\n\n  &::before {\n    transform: rotateZ(270deg);\n    top: calc(50% - ","rem);\n    left: -","rem;\n  }\n"])),(function(e){var t,n,r,i;return((null!==(n=null===(t=e.bounds)||void 0===t?void 0:t.top)&&void 0!==n?n:0)+(null!==(i=null===(r=e.bounds)||void 0===r?void 0:r.bottom)&&void 0!==i?i:0))/2}),(function(e){var t,n;return null!==(n=null===(t=e.bounds)||void 0===t?void 0:t.right)&&void 0!==n?n:0}),.75,.25,.75),wi=it.d.span(F||(F=Object(tt.a)(["\n  @keyframes fadeIn {\n    0% {\n      opacity: 0;\n    }\n\n    100% {\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  z-index: 9999;\n  color: white;\n  white-space: nowrap;\n  pointer-events: none;\n  line-height: normal;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: ","rem;\n  font-size: ","rem;\n  font-weight: 300;\n  padding: ","rem ","rem;\n  white-space: nowrap;\n  animation: fadeIn 0.3s;\n\n  &::before {\n    border-bottom: ","rem solid rgba(0, 0, 0, 0.8);\n    border-left: ","rem solid transparent;\n    border-right: ","rem solid transparent;\n    content: '';\n    height: 0;\n    transform: translateX(-100%) translateY(-50%);\n    width: 0;\n    z-index: 1;\n    position: absolute;\n  }\n\n  ","\n  ","\n  ","\n  ","\n"])),.5,1,.5,.75,vi,vi,vi,(function(e){return"top"===e.position&&mi}),(function(e){return"bottom"===e.position&&gi}),(function(e){return"left"===e.position&&bi}),(function(e){return"right"===e.position&&yi})),Si={show:!1,bounds:null},ki=function(e,t){return function(n){var r,i=hi(),o=Object(nt.useState)(Si),a=Object(et.a)(o,2),s=a[0],c=s.show,u=s.bounds,l=a[1],d=Object(nt.useState)(null),f=Object(et.a)(d,2),h=f[0],p=f[1],v=null!==(r=n.tooltipPosition)&&void 0!==r?r:"top",m=Object(nt.useCallback)((function(e){e.preventDefault(),e.stopPropagation();for(var t=e.target;!t.getAttribute("data-tooltip");)t=t.parentElement;var n=t.getBoundingClientRect();l({show:!0,bounds:n})}),[]),g=Object(nt.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),l(Si)}),[]);return Object(nt.useEffect)((function(){return document.addEventListener("scroll",g,!0),function(){return document.removeEventListener("scroll",g,!0)}}),[]),Object(nt.useEffect)((function(){var e=document.getElementById(t||"Tooltip__container");e?p(e):i.warn("Attempted to use 'WithTooltip' but could not find container element.Pass a valid element ID or add 'Tooltip__container' ID to existing element")}),[t]),rt.a.createElement(rt.a.Fragment,null,c&&u&&h&&st.a.createPortal(rt.a.createElement(wi,{position:v,bounds:u},n.tooltipContent||n.label),h),rt.a.createElement(e,Object.assign({},n,{"data-tooltip":!0,"data-tooltip-position":v,onClick:function(e){var t;c&&g(e),null===(t=null===n||void 0===n?void 0:n.onClick)||void 0===t||t.call(n,e)},onFocus:function(e){var t;c||m(e),null===(t=null===n||void 0===n?void 0:n.onFocus)||void 0===t||t.call(n,e)},onBlur:function(e){var t;c&&g(e),null===(t=null===n||void 0===n?void 0:n.onBlur)||void 0===t||t.call(n,e)},onMouseEnter:function(e){var t;c||m(e),null===(t=null===n||void 0===n?void 0:n.onMouseEnter)||void 0===t||t.call(n,e)},onMouseLeave:function(e){var t;c&&g(e),null===(t=null===n||void 0===n?void 0:n.onMouseLeave)||void 0===t||t.call(n,e)}})))}},Ci=function(e){var t=e.icon,n=e.onClick,r=e.label,i=e.isSelected,o=void 0!==i&&i,a=e.popOver,s=void 0===a?null:a,c=e.popOverPlacement,u=e.popOverLabel,l=e.tooltipContainerId,d=e.tooltipContent,f=e.children,h=lt(e,["icon","onClick","label","isSelected","popOver","popOverPlacement","popOverLabel","tooltipContainerId","tooltipContent","children"]),p=Object(nt.useContext)(rn),v=Object(nt.useMemo)((function(){return ki(_t,l)}),[l]),m=h["data-tooltip"]?v:_t,g=h["data-tooltip-position"]?{tooltipPosition:h["data-tooltip-position"],tooltipContent:d}:{};return rt.a.createElement(fn,Object.assign({isSelected:o,"data-testid":"control-bar-item"},h,p,{popOver:s}),rt.a.createElement(m,Object.assign({},g,{onClick:n,label:r,icon:t,className:"ch-control-bar-item-iconButton",selected:o})),(s||f)&&rt.a.createElement(ui,{renderButtonWrapper:function(e,t){return rt.a.createElement(_t,Object.assign({},t,{icon:rt.a.createElement(jt,{direction:cn(p.layout)?"right":"up","data-testid":"control-bar-item-caret"}),label:u||r,selected:e,className:"ch-control-bar-item-caret ".concat(e?"isOpen":"")}))},a11yLabel:r,className:"ch-control-bar-popover",placement:c},null===s||void 0===s?void 0:s.map((function(e,t){return rt.a.createElement(li,Object.assign({},e,{key:t}))})),f),p.showLabels&&rt.a.createElement("div",{className:"ch-control-bar-item-label"},r))},Oi=Object(it.c)(U||(U=Object(tt.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]))),xi={"fill-space":Oi,"fill-space-centered":Object(it.c)(B||(B=Object(tt.a)(["\n  ",";\n  align-items: center;\n  justify-content: center;\n"])),Oi),"equal-columns":Object(it.c)(V||(V=Object(tt.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  align-items: stretch;\n\n  > * {\n    flex-grow: 1;\n    flex-basis: 50%;\n  }\n"]))),stack:Object(it.c)(z||(z=Object(tt.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  > * {\n    width: 100%;\n  }\n"])))},Ei=it.d.div(H||(H=Object(tt.a)(["\n  align-items: ",";\n  display: ",";\n  flex: ",";\n  flex-basis: ",";\n  flex-direction: ",";\n  flex-grow: ",";\n  flex-shrink: ",";\n  flex-wrap: ",";\n  justify-content: ",";\n\n  // layout variants\n  ","\n\n  ","\n  ","\n"])),(function(e){return e.alignItems}),(function(e){return e.container?"flex":"block"}),(function(e){return e.flex||""}),(function(e){return e.flexBasis}),(function(e){return e.flexDirection}),(function(e){return e.flexGrow||""}),(function(e){return e.flexShrink}),(function(e){return e.flexWrap}),(function(e){return e.justifyContent}),(function(e){return!!e.layout&&xi[e.layout]}),ht,ft),_i=function(e){var t=e.children,n=e.className,r=e.tag,i=e.alignItems,o=void 0===i?"stretch":i,a=e.container,s=void 0!==a&&a,c=e.flexBasis,u=void 0===c?"auto":c,l=e.flexDirection,d=void 0===l?"row":l,f=e.flexShrink,h=void 0===f?1:f,p=e.flexWrap,v=void 0===p?"nowrap":p,m=e.justifyContent,g=void 0===m?"flex-start":m,b=lt(e,["children","className","tag","alignItems","container","flexBasis","flexDirection","flexShrink","flexWrap","justifyContent"]);return rt.a.createElement(Ei,Object.assign({alignItems:o,container:s,flexBasis:u,flexDirection:d,flexShrink:h,flexWrap:v,justifyContent:g,as:r,"data-testid":"flex",className:n||""},b),t)};function Ti(){var e=Object(nt.useState)((function(){return Object(ut.a)()}));return Object(et.a)(e,1)[0]}var Ii=it.d.label(W||(W=Object(tt.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n\n  ","\n  ","\n"])),(function(e){return e.theme.inputs.fontColor}),(function(e){return e.theme.fontSizes.label.fontSize}),(function(e){return e.theme.fontSizes.label.lineHeight}),ht,ft),Ai=Object(nt.forwardRef)((function(e,t){var n=e.className,r=e.tag,i=lt(e,["className","tag"]);return rt.a.createElement(Ii,Object.assign({as:r,"data-testid":"label",className:n||""},i),e.children)})),Mi=Object(it.c)(q||(q=Object(tt.a)(["\n  &.ch-form-field-input,\n  &.ch-form-field-select,\n  &.ch-form-field-textarea {\n    display: flex;\n    flex-direction: column;\n\n    label {\n      display: block;\n      margin-bottom: 0.5rem;\n    }\n\n    input,\n    select {\n      width: 100%;\n    }\n  }\n\n  &.ch-form-field-checkbox {\n    display: grid;\n    grid-template-columns: 1.5rem 1fr;\n    grid-template-rows: auto;\n    gap: 0px 0.5rem;\n\n    .ch-checkbox {\n      grid-column: 1;\n      grid-row: 1;\n    }\n\n    .ch-checkbox-label {\n      line-height: 1.3;\n      grid-column: 2;\n    }\n\n    .ch-help-text {\n      grid-row: 2;\n      grid-column: 1/3;\n    }\n  }\n\n  &.ch-form-field-radiogroup {\n    flex-direction: column;\n\n    .ch-radio-wrapper {\n      display: block;\n      margin-bottom: 0.5rem;\n      padding-left: 0.125rem;\n      display: grid;\n      grid-template-columns: 1.5rem 1fr;\n      grid-template-rows: auto;\n\n      align-items: center;\n    }\n\n    .ch-radio-label {\n      margin-left: 1rem;\n      position: relative;\n      bottom: -0.5px;\n    }\n  }\n"]))),Pi={stack:Mi,horizontal:Object(it.c)(K||(K=Object(tt.a)(["\n  @media (max-width: 599px) {\n    ",";\n  }\n\n  @media (min-width: 600px) {\n    &.ch-form-field-input,\n    &.ch-form-field-select,\n    &.ch-form-field-textarea,\n    &.ch-form-field-checkbox {\n      display: grid;\n      grid-template-columns: 30% 1fr;\n      grid-template-rows: auto;\n      gap: 0px 0.5rem;\n      align-items: center;\n\n      input {\n        width: 100%;\n      }\n\n      .ch-help-text {\n        grid-column: 2;\n      }\n    }\n\n    &.ch-form-field-radiogroup {\n      flex-wrap: wrap;\n\n      fieldset {\n        width: 100%;\n      }\n\n      .ch-radio-wrapper {\n        display: grid;\n        grid-template-columns: 30% 1fr;\n        grid-template-rows: auto;\n        gap: 0px 0.5rem;\n        align-items: center;\n        margin-bottom: 0.5rem;\n      }\n\n      .ch-radio {\n        grid-column: 2;\n        grid-row: 1;\n        margin-top: -4px;\n      }\n\n      .ch-radio-label {\n        grid-column: 1;\n        padding-right: 1rem;\n        margin-left: 0;\n      }\n\n      .ch-help-text {\n        width: 100%;\n      }\n    }\n  }\n"])),Mi),"input-only":Object(it.c)(G||(G=Object(tt.a)(["\n  &.ch-form-field-input,\n  &.ch-form-field-select,\n  &.ch-form-field-textarea {\n    display: flex;\n    flex-direction: column;\n\n    input {\n      width: 100%;\n    }\n  }\n\n  &.ch-form-field-checkbox {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n\n    .ch-checkbox {\n      order: 1;\n    }\n\n    .ch-checkbox-label {\n      order: 2;\n      padding-left: 1rem;\n    }\n\n    .ch-help-text {\n      width: 100%;\n      order: 3;\n    }\n  }\n\n  &.ch-form-field-radiogroup {\n    flex-direction: column;\n\n    .ch-radio-wrapper {\n      display: block;\n      margin-bottom: 0.5rem;\n    }\n\n    .ch-radio-label {\n      margin-left: 1rem;\n    }\n  }\n"])))},ji=it.d.div(J||(J=Object(tt.a)(["\n  display: flex;\n  margin-bottom: 1rem;\n  position: relative;\n\n  fieldset {\n    margin: 0;\n    border: none;\n    padding: 0;\n  }\n\n  .ch-help-text {\n    font-size: ",";\n    margin-top: 0.5rem;\n    color: ",";\n  }\n\n  legend {\n    font-size: ",";\n    color: ",";\n    margin-bottom: 0.5rem;\n  }\n\n  ","\n\n  ","\n  ","\n"])),(function(e){return e.theme.fontSizes.small.fontSize}),(function(e){return e.error?e.theme.inputs.error.fontColor:e.theme.inputs.fontColor}),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.inputs.fontColor}),(function(e){return!!e.layout&&Pi[e.layout]}),ht,ft),Ri=(Object(nt.forwardRef)((function(e,t){var n,r=e.field,i=e.label,o=e.layout,a=void 0===o?"stack":o,s=e.errorText,c=e.fieldProps,u=e.infoText,l=e.error,d=e.onChange,f=e.value,h=e.checked,p=e.options,v=e.className,m=lt(e,["field","label","layout","errorText","fieldProps","infoText","error","onChange","value","checked","options","className"]),g=(null===(n=r.displayName)||void 0===n?void 0:n.toLowerCase())||"",b=Ti(),y=Ti(),w=l&&s||u;return rt.a.createElement(ji,Object.assign({layout:a,error:l,className:"ch-form-field-".concat(g," ").concat(v||""),"data-testid":"form-field"},m),"input-only"===a&&"checkbox"!==g?null:"radiogroup"!==g&&rt.a.createElement(Ai,{htmlFor:b,className:"ch-".concat(g,"-label")},i),"radiogroup"===g?rt.a.createElement("fieldset",{"aria-describedby":w&&y,"aria-invalid":l},i&&rt.a.createElement("legend",null,i),rt.a.createElement(r,Object.assign({options:p,ref:t,id:b,onChange:d,value:f},c))):rt.a.createElement(r,Object.assign({options:p,"aria-label":"input-only"===a&&i||null,"aria-describedby":w&&y,"aria-invalid":l,ref:t,id:b,onChange:d,value:f,checked:h},c)),w&&rt.a.createElement("span",{className:"ch-help-text",id:y},w))})),it.d.h1($||($=Object(tt.a)(["\n  display: block;\n  margin: 0;\n\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n\n  "," {\n    font-size: ",";\n    font-weight: ",";\n    line-height: ",";\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.fontSizes["h".concat(e.level)].mobile.fontSize}),(function(e){return e.theme.fontSizes["h".concat(e.level)].mobile.fontWeight}),(function(e){return e.theme.fontSizes["h".concat(e.level)].mobile.lineHeight}),(function(e){return e.theme.mediaQueries.min.md}),(function(e){return e.theme.fontSizes["h".concat(e.level)].fontSize}),(function(e){return e.theme.fontSizes["h".concat(e.level)].fontWeight}),(function(e){return e.theme.fontSizes["h".concat(e.level)].lineHeight}),ht,ft)),Di=(Object(nt.forwardRef)((function(e,t){var n=e.tag,r=e.children,i=e.className,o=e.level,a=lt(e,["tag","children","className","level"]);return rt.a.createElement(Ri,Object.assign({as:n||"h".concat(o),className:i||"",level:o,ref:t,"data-testid":"heading"},a),r)})),it.d.span(Y||(Y=Object(tt.a)(["\n  position: relative;\n\n  > .ch-icon {\n    position: absolute;\n    width: 1rem;\n    left: 0.1875rem;\n    position: absolute;\n    top: 54%;\n    transform: translateY(-50%);\n  }\n\n  > input {\n    padding: ",";\n  }\n"])),(function(e){return function(e){var t=e.sizing,n=e.leadingIcon;return"sm"===t?"0.125rem 1.75rem 0.125rem ".concat(n?"1.3125rem":"0.5rem"):"0.34375rem 1.75rem 0.34375rem ".concat(n?"1.3125rem":"0.5rem")}(e)}))),Ni=it.d.input(Q||(Q=Object(tt.a)(["\n  align-items: center;\n  display: flex;\n  letter-spacing: -0.005625rem;\n  transition: box-shadow 0.05s ease-in;\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n\n  // Hides native clear button\n  &::-webkit-search-decoration,\n  ::-webkit-search-cancel-button,\n  ::-webkit-search-results-button,\n  ::-webkit-search-results-decoration {\n    display: none;\n  }\n\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n    width: 0;\n    height: 0;\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.inputs.bgd}),(function(e){return e.theme.inputs.border}),(function(e){return e.theme.inputs.borderRadius}),(function(e){return e.theme.inputs.shadow}),(function(e){return e.theme.inputs.fontColor}),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.fontSizes.text.lineHeight}),(function(e){return e.theme.inputs.placeholder}),(function(e){return e.theme.inputs.focus.border}),(function(e){return e.theme.inputs.focus.shadow}),(function(e){return e.theme.inputs.error.border}),(function(e){return e.theme.inputs.error.shadow}),ht,ft),Li=it.d.button(Z||(Z=Object(tt.a)(["\n  position: absolute;\n  top: 50%;\n  right: 0.125rem;\n  transform: translateY(-44%);\n  border: none;\n  background: none;\n  cursor: pointer;\n  display: ",";\n\n  path {\n    fill: ",";\n  }\n\n  &:active,\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.active?"block":"none"}),(function(e){return e.theme.inputs.clearBg})),Fi=Object(nt.forwardRef)((function(e,t){var n=e.leadingIcon,r=e.children,i=e.sizing,o=lt(e,["leadingIcon","children","sizing"]);return rt.a.createElement(Di,Object.assign({ref:t,sizing:i,leadingIcon:n},o,{"data-testid":"input-wrapper"}),n&&rt.a.createElement("span",{className:"ch-icon"},n),r)})),Ui=Object(nt.forwardRef)((function(e,t){var n=e.type,r=e.value,i=e.sizing,o=e.onClear,a=e.onChange,s=e.className,c=e.leadingIcon,u=e.showClear,l=void 0===u||u,d=lt(e,["type","value","sizing","onClear","onChange","className","leadingIcon","showClear"]),f=Object(nt.useState)(!1),h=Object(et.a)(f,2),p=h[0],v=h[1],m=Object(nt.useRef)(!1),g=Object(nt.useRef)(null),b=t||g,y=Object(nt.useRef)(null),w=e["aria-label"]?"clear ".concat(e["aria-label"]):"clear";return Object(nt.useEffect)((function(){var e=!1,t=function(t){if(m.current)return t.target!==y.current&&t.target!==b.current?(m.current=!1,void v(!1)):void(e&&(e=!1))},n=function(){m.current&&(e=!0,setTimeout((function(){e&&(m.current=!1,v(!1)),e=!1}),10))};return document.addEventListener("focusin",t),document.addEventListener("focusout",n),function(){document.removeEventListener("focusin",t),document.removeEventListener("focusout",n)}}),[]),rt.a.createElement(Fi,{leadingIcon:c,sizing:i,className:"ch-input-wrapper ".concat(s||"")},rt.a.createElement(Ni,Object.assign({},d,{value:r,type:n||"text",ref:b,className:"ch-input",onChange:a,"data-testid":"input",onFocus:function(){m.current=!0,v(!0)}})),l&&rt.a.createElement(Li,{type:"button",active:!!(o||p&&r.length),tabIndex:-1,"aria-label":w,onClick:function(){var e;if(o)o();else{var t=b.current,n=null===(e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))||void 0===e?void 0:e.set;n&&t&&(n.call(t,""),t.dispatchEvent(new Event("input",{bubbles:!0}))),t.focus()}},ref:y},rt.a.createElement(Ut,{width:"1.25rem"})))}));Ui.displayName="Input";Object(nt.forwardRef)((function(e,t){var n=Object.assign(Object.assign({},e),{sizing:"sm",type:"search",leadingIcon:rt.a.createElement(Yt,{"data-testid":"search-icon"})});return rt.a.createElement(Ui,Object.assign({},n,{ref:t}))})),Object(nt.createContext)({onClose:function(){},labelID:"",dismissible:!0});var Bi,Vi=Object(it.e)(X||(X=Object(tt.a)(["\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n"]))),zi=Object(it.e)(ee||(ee=Object(tt.a)(["\n  0% {\n    opacity: 0;\n    transform: translateY(4rem) scale(0.4);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n"]))),Hi=(it.d.div(te||(te=Object(tt.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: ",";\n  overflow-x: hidden;\n  animation: "," 0.25s ease 0s forwards;\n  will-change: opacity;\n\n  > section {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    border-radius: ",";\n    color: ",";\n    background-color: ",";\n    width: ",";\n    box-shadow: ",";\n    max-width: ",";\n    height: ",";\n    max-height: ",";\n    will-change: transform, opacity;\n    animation: "," 0.15s ease 0s forwards;\n\n    @media only screen and (max-height: 25rem) {\n      position: absolute;\n      top: 2rem;\n      height: auto;\n      max-height: none;\n    }\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.modal.wrapperBgd}),(function(e){return e.theme.zIndex.modal}),Vi,(function(e){return e.theme.radii.default}),(function(e){return e.theme.modal.text}),(function(e){return e.theme.modal.bgd}),(function(e){return e.theme.modalSizes[e.size||"md"].width}),(function(e){return e.theme.modal.shadow}),(function(e){return"fullscreen"===e.size?e.theme.modalSizes[e.size].width:"90vw"}),(function(e){return"fullscreen"===e.size?e.theme.modalSizes[e.size].height:"auto"}),(function(e){return e.theme.modalSizes[e.size||"md"].height}),zi,ht,ft),it.d.header(ne||(ne=Object(tt.a)(["\n  padding: 1rem 1.5rem;\n\n  .ch-close-button {\n    position: absolute;\n    right: 1.55rem;\n    top: 1rem;\n  }\n\n  .ch-title {\n    padding-right: 2rem;\n    margin: 0;\n    font-size: ",";\n    font-weight: ",";\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.modal.titleSize}),(function(e){return e.theme.modal.titleWeight}),ht,ft),it.d.div(re||(re=Object(tt.a)(["\n  font-size: ",";\n  line-height: ",";\n  padding: 0 1.5rem;\n  flex-grow: 1;\n  overflow-y: auto;\n\n  ","\n  ","\n"])),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.fontSizes.text.lineHeight}),ht,ft),it.d.footer(ie||(ie=Object(tt.a)(["\n  padding: 1.5rem;\n  border-top: 1px solid ",";\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n\n  div:first-child {\n    display: flex;\n    flex-direction: row-reverse;\n  }\n\n  button + button {\n    margin: 0 0.5rem 0 0.5rem;\n  }\n\n  @media (max-width: 35rem) {\n    flex-direction: column;\n\n    button {\n      width: 100%;\n    }\n\n    div:first-child {\n      display: flex;\n      flex-direction: column;\n    }\n\n    button + button,\n    div + div {\n      margin: 0.5rem 0 0;\n    }\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.modal.border}),ht,ft),it.d.div(oe||(oe=Object(tt.a)(["\n  display: flex;\n  height: 3rem;\n  align-items: center;\n  border-bottom: ",";\n  padding: 1rem;\n\n  .ch-title {\n    flex: 1;\n  }\n\n  .ch-btn-close {\n    margin-left: auto;\n    margin-right: 1rem;\n  }\n\n  "," {\n    display: none;\n  }\n"])),(function(e){var t=e.theme;return"0.03125rem solid ".concat(t.navbar.headerBorder)}),(function(e){return e.theme.mediaQueries.min.md}))),Wi=it.d.div(ae||(ae=Object(tt.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 4.25rem;\n  min-height: 3rem;\n  flex-direction: column;\n  padding: 0 0.25rem;\n\n  .ch-navigation-bar-item-label {\n    text-align: center;\n    display: ",";\n    font-size: ",";\n    width: 100%;\n    padding: 0 0.25rem;\n    margin-bottom: 1.5rem;\n  }\n"])),(function(e){return e.showLabel?"block":"none"}),(function(e){return e.theme.fontSizes.footnote.fontSize})),qi=(Object(it.d)(_i)(se||(se=Object(tt.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 100%;\n  color: ",";\n  background-color: ",";\n  width: 4.25rem;\n  padding-top: 1rem;\n\n  "," {\n    width: ",";\n    padding-top: ",";\n\n    "," {\n      display: ",";\n    }\n\n    "," {\n      ",";\n    }\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.navbar.text}),(function(e){return e.theme.navbar.bgd}),(function(e){var t=e.theme;e.responsive;return t.mediaQueries.max.md}),(function(e){return e.responsive?"20rem":"4.25rem;"}),(function(e){return e.responsive?"0":"1rem"}),Hi,(function(e){return e.responsive?"flex":"none"}),Wi,(function(e){return e.responsive&&" \n        width: auto;\n        flex-direction: row;\n\n        .ch-navigation-bar-item-label {\n          font-size: 1rem;\n          text-align: left;\n          margin-left: 1.5rem;\n          margin-bottom: 0;\n          display: block;\n        }"}),ft,ht),Object(it.d)(_t)(ce||(ce=Object(tt.a)([""])))),Ki=Object(it.d)(Et)(ue||(ue=Object(tt.a)([""])));it.d.div(le||(le=Object(tt.a)(["\n  align-items: center;\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  padding: 0.75rem;\n  box-shadow: ",";\n  border-radius: 0.25rem;\n  margin: 0.75rem;\n  max-width: 45rem;\n  pointer-events: auto;\n\n  .ch-severity-icon {\n    width: 1.5rem;\n    flex-shrink: 0;\n  }\n\n  .ch-message {\n    display: flex;\n    flex-flow: column wrap;\n    font-size: ",";\n    line-height: ",";\n    letter-spacing: -0.005625rem;\n    margin: 0.5rem 0.75rem;\n\n    &:empty {\n      margin: 0;\n    }\n  }\n\n  "," {\n    margin-right: 1.6rem;\n    border-color: ",";\n  }\n\n  ",",\n  "," {\n    background-color: ",";\n    color: ","};\n  }\n\n  ",":hover, ",":focus, ",":hover, ",":focus {\n    background-color: ",";\n    color: ",";\n  }\n\n  ",":active, ",":active {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n  ","\n"])),(function(e){var t=e.theme,n=e.severity;return t.notification[n].text}),(function(e){var t=e.theme,n=e.severity;return t.colors[n].primary}),(function(e){return e.theme.notification.shadow}),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.fontSizes.text.lineHeight}),Ki,(function(e){var t=e.theme,n=e.severity;return t.notification[n].text}),qi,Ki,(function(e){var t=e.theme,n=e.severity;return t.colors[n].primary}),(function(e){var t=e.theme,n=e.severity;return t.notification[n].closeButton.text}),qi,qi,Ki,Ki,(function(e){var t=e.theme,n=e.severity;return t.notification[n].closeButton.hover.bgd}),(function(e){var t=e.theme,n=e.severity;return t.notification[n].closeButton.hover.text}),qi,Ki,(function(e){var t=e.theme,n=e.severity;return t.notification[n].closeButton.active.bgd}),(function(e){var t=e.theme,n=e.severity;return t.notification[n].closeButton.active.text}),ht,ft);!function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info",e.WARNING="warning"}(Bi||(Bi={}));var Gi,Ji;rt.a.createElement(Ft,null),rt.a.createElement(Bt,null),rt.a.createElement(Nt,null),rt.a.createElement(Wt,null);!function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info",e.WARNING="warning"}(Gi||(Gi={})),function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE",e[e.REMOVE_ALL=2]="REMOVE_ALL"}(Ji||(Ji={}));var $i={notifications:[]},Yi=(rt.a.createContext($i),rt.a.createContext((function(){})),it.d.div(de||(de=Object(tt.a)(["\n  position: fixed;\n  top: 2rem;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: ",";\n  pointer-events: none;\n"])),(function(e){return e.theme.zIndex.notificationGroup})),it.d.input(fe||(fe=Object(tt.a)(["\n  ",";\n\n  &[aria-invalid='true'] + .ch-radio {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),pt,(function(e){return e.theme.inputs.error.border}),(function(e){return e.theme.inputs.error.shadow}))),Qi=it.d.span(he||(he=Object(tt.a)(["\n  > label {\n    margin-left: 0.5rem;\n  }\n"]))),Zi=it.d.div(pe||(pe=Object(tt.a)(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  margin-bottom: -0.1875rem;\n  transition: box-shadow 0.05s ease-in;\n\n  ",":checked ~ & {\n    background-color: ",";\n    border: ",";\n    box-shadow: ",";\n  }\n\n  ",":focus ~ & {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.inputs.bgd}),(function(e){return e.theme.inputs.border}),(function(e){return e.theme.radii.circle}),(function(e){return e.theme.inputs.shadow}),Yi,(function(e){return e.theme.inputs.checked.bgd}),(function(e){return e.theme.inputs.checked.border}),(function(e){return e.theme.inputs.checked.shadow}),Yi,(function(e){return e.theme.inputs.focus.border}),(function(e){return e.theme.inputs.focus.shadow})),Xi=Object(it.d)(Zi)(ve||(ve=Object(tt.a)(["\n  display: inline-block;\n  height: 1rem;\n  position: relative;\n  width: 1rem;\n\n  &:after {\n    background-color: ",";\n    border-radius: ",";\n    content: '';\n    display: block;\n    height: 0.375rem;\n    padding: 0.03125rem;\n    width: 0.375rem;\n    ",";\n  }\n"])),(function(e){return e.checked?e.theme.inputs.checked.fontColor:e.theme.inputs.bgd}),(function(e){return e.theme.radii.circle}),mt),eo=Object(it.d)(Zi)(me||(me=Object(tt.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  border-color: ",";\n  box-shadow: none;\n  margin: 0.1rem;\n\n  ",":checked ~ & {\n    svg {\n      stroke: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.greys.white}),Yi,(function(e){return e.theme.colors.greys.white})),to=function(e){var t=e.value,n=e.checked,r=e.label,i=e.icon,o=e.onChange,a=e.testId,s=lt(e,["value","checked","label","icon","onChange","testId"]),c=Object(nt.useRef)(null),u=Ti(),l=function(){var e,t;null===(e=c.current)||void 0===e||e.click(),null===(t=c.current)||void 0===t||t.focus()};return rt.a.createElement(Qi,{className:"ch-radio-wrapper","data-testid":a},rt.a.createElement(Yi,Object.assign({checked:n,id:u,onChange:o,type:"radio",value:t,ref:c,"data-testid":"hidden-radio","aria-label":r},s)),i?rt.a.createElement(rt.a.Fragment,null,rt.a.createElement(eo,{checked:n,className:"ch-radio",onClick:l,"data-testid":"styled-radio-icon"},rt.a.createElement("span",{className:"ch-icon"},i))):rt.a.createElement(rt.a.Fragment,null,rt.a.createElement(Xi,{checked:n,className:"ch-radio",onClick:l,"data-testid":"styled-radio"}),rt.a.createElement(Ai,{htmlFor:u,className:"ch-radio-label"},r)))};to.displayName="Radio";var no=it.d.div(ge||(ge=Object(tt.a)(["\n  position: relative;\n\n  .ch-select-icon {\n    pointer-events: none;\n  }\n\n  ","\n  ","\n"])),ht,ft),ro=it.d.select(be||(be=Object(tt.a)(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  height: 2rem;\n  letter-spacing: -0.005625rem;\n  width: 100%;\n  padding: 0.375rem 1.5rem 0.375rem 0.5rem;\n  transition: box-shadow 0.05s ease-in;\n  display: inline-block;\n  appearance: none;\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.inputs.bgd}),(function(e){return e.theme.inputs.border}),(function(e){return e.theme.inputs.borderRadius}),(function(e){return e.theme.inputs.shadow}),(function(e){return e.theme.inputs.fontColor}),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.fontSizes.text.lineHeight}),(function(e){return e.theme.inputs.focus.border}),(function(e){return e.theme.inputs.focus.shadow}),(function(e){return e.theme.inputs.error.border}),(function(e){return e.theme.inputs.error.shadow}),ht,ft),io={position:"absolute",top:"50%",transform:"translateY(-50%)",right:"0.2rem",width:"1.5rem",height:"1.5rem"},oo=Object(nt.forwardRef)((function(e,t){return rt.a.createElement(no,null,rt.a.createElement(ro,Object.assign({className:"ch-select","data-testid":"select",ref:t},e),e.options.map((function(e){var t=e.value,n=e.label;return rt.a.createElement("option",{key:t,value:t},n)}))),rt.a.createElement(Xt,{style:io,className:"ch-select-icon","data-testid":"select-icon"}))}));oo.displayName="Select";var ao=it.d.textarea(ye||(ye=Object(tt.a)(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  padding: 0.5rem;\n  position: relative;\n  min-height: 4rem;\n  transition: box-shadow 0.05s ease-in;\n  width: 100%;\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.inputs.bgd}),(function(e){return e.theme.inputs.border}),(function(e){return e.theme.inputs.borderRadius}),(function(e){return e.theme.inputs.shadow}),(function(e){return e.theme.inputs.fontColor}),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.inputs.focus.border}),(function(e){return e.theme.inputs.focus.shadow}),(function(e){return e.theme.inputs.error.border}),(function(e){return e.theme.inputs.error.shadow}));rt.a.forwardRef((function(e,t){var n=e.label,r=lt(e,["label"]);return rt.a.createElement(ao,Object.assign({"aria-label":n,className:"ch-textarea","data-testid":"textarea",ref:t},r))})).displayName="Textarea";var so=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),co="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,uo="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),lo="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(uo):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var fo=["top","right","bottom","left","width","height","size","weight"],ho="undefined"!==typeof MutationObserver,po=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){lo(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){co&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ho?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){co&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;fo.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),vo=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},mo=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||uo},go=Co(0,0,0,0);function bo(e){return parseFloat(e)||0}function yo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+bo(e["border-"+n+"-width"])}),0)}function wo(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return go;var r=mo(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=bo(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=bo(r.width),c=bo(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=yo(r,"left","right")+o),Math.round(c+a)!==n&&(c-=yo(r,"top","bottom")+a)),!function(e){return e===mo(e).document.documentElement}(e)){var u=Math.round(s+o)-t,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return Co(i.left,i.top,s,c)}var So="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof mo(e).SVGGraphicsElement}:function(e){return e instanceof mo(e).SVGElement&&"function"===typeof e.getBBox};function ko(e){return co?So(e)?function(e){var t=e.getBBox();return Co(0,0,t.width,t.height)}(e):wo(e):go}function Co(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Oo=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Co(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ko(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),xo=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return vo(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);vo(this,{target:e,contentRect:n})},Eo=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new so,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof mo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Oo(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof mo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new xo(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_o="undefined"!==typeof WeakMap?new WeakMap:new so,To=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=po.getInstance(),r=new Eo(t,n,this);_o.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){To.prototype[e]=function(){var t;return(t=_o.get(this))[e].apply(t,arguments)}}));var Io="undefined"!==typeof uo.ResizeObserver?uo.ResizeObserver:To,Ao=mn((function(e,t){!function(e){function t(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function c(){s(),o=!0}function u(){for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];var d=this,f=Date.now()-a;function h(){a=Date.now(),n.apply(d,u)}function p(){i=void 0}o||(r&&!i&&h(),s(),void 0===r&&f>e?h():!0!==t&&(i=setTimeout(r?p:h,void 0===r?e-f:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),u.cancel=c,u}function n(e,n,r){return void 0===r?t(e,n,!1):t(e,r,!1!==n)}e.debounce=n,e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),Mo=vn(Ao);function Po(e,t){var n=t/e;return n>1.6?"r16by9":n>1.4?"r3by2":n>1.25?"r4by3":n>.9?"r1by1":n>.7?"r2by3":n>.4?"r1by2":"slim"}var jo=["slim","r1by2","r2by3","r1by1","r4by3","r3by2","r16by9"],Ro={1:"grid-template: 1fr / 1fr;","1.slim":"grid-template: repeat(2, 1fr) / 1fr;","1.r2by3":"grid-template: 1fr / 1fr;","1.featured":'grid-template: "ft" 1fr / 1fr;',2:"grid-template: 1fr / repeat(2,1fr);","2.slim":"grid-template: repeat(3,1fr) / 1fr;","2.r1by2":"grid-template: repeat(2,1fr) / 1fr;","2.r2by3":"grid-template: repeat(2,1fr) / 1fr;","2.r4by3":"grid-template: repeat(2,1fr) / repeat(2,1fr);","2.r16by9":"grid-template: 1fr / repeat(2,1fr);","2.featured":"grid-template: repeat(3,1fr) / repeat(2,1fr);\n  grid-template-areas: 'ft ft' 'ft ft';","2.r16by9.featured":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v' 'ft ft v';",3:"grid-template: repeat(3,1fr) / 1fr;","3.r2by3":"grid-template: repeat(3,1fr) / repeat(1,1fr);","3.r1by1":"grid-template: repeat(2,1fr) / repeat(2,1fr);","3.featured":"grid-template: repeat(3,1fr) / repeat(2,1fr);\n    grid-template-areas: 'ft ft' 'ft ft';\n  ","3.r16by9.featured":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",4:"grid-template: repeat(2,1fr) / repeat(2,1fr);","4.slim":"grid-template: repeat(4,1fr) / 1fr;","4.r2by3":"grid-template: repeat(2,1fr) / repeat(2,1fr);","4.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","4.r16by9.featured":"grid-template-areas: 'ft ft v' 'ft ft v' 'ft ft v';",5:"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.slim":"grid-template: repeat(5,1fr) / 1fr;","5.r1by2":"grid-template: repeat(3,1fr) / repeat(2,1fr);","5.r2by3":"grid-template: repeat(3,1fr) / repeat(2,1fr);","5.r3by2":"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.featured":"grid-template: repeat(4,1fr) / repeat(2,1fr);\n    grid-template-areas: 'ft ft' 'ft ft';","5.r1by1.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",6:"grid-template: repeat(3,1fr) / repeat(3,1fr);","6.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","6.r1by2":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r1by1":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r2by3":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r3by2":"grid-template: repeat(2,1fr) / repeat(3,1fr);","6.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);","6.featured":"grid-template: repeat(4,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","6.r1by1.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",7:"grid-template: repeat(3,1fr) / repeat(3,1fr);","7.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","7.r4by3":"grid-template: repeat(3,1fr) / repeat(3,1fr);","7.r16by9":"grid-template: repeat(2,1fr) / repeat(4,1fr);","7.featured":"grid-template: repeat(4,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","7.r1by1.featured":"grid-template: repeat(4,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft v';",8:"grid-template: repeat(3,1fr) / repeat(3,1fr);","8.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","8.r4by3":"grid-template: repeat(3,1fr) / repeat(3,1fr);","8.r16by9":"grid-template: repeat(2,1fr) / repeat(4,1fr);","8.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","8.r1by1.featured":"grid-template: repeat(4,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft x';","8.r16by9.featured":"grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft x';",9:"grid-template: repeat(3,1fr) / repeat(3,1fr);","9.slim":"grid-template: repeat(5,1fr) / repeat(2,1fr);","9.r1by1":"grid-template: repeat(3,1fr) / repeat(3,1fr);","9.r16by9":"grid-template: repeat(3,1fr) / repeat(4,1fr);","9.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","9.r1by1.featured":"grid-template: repeat(5,1fr) / repeat(5,1fr);\n    grid-template-areas: 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v';",10:"grid-template: repeat(4,1fr) / repeat(3,1fr);","10.slim":"grid-template: repeat(5,1fr) / repeat(2,1fr);","10.r1by1":"grid-template: repeat(4,1fr) / repeat(3,1fr);","10.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","10.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","10.r1by1.featured":"grid-template: repeat(5,1fr) / repeat(5,1fr);\n    grid-template-areas: 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v';",11:"grid-template: repeat(4,1fr) / repeat(3,1fr);","11.slim":"grid-template: repeat(6,1fr) / repeat(2,1fr);","11.r1by1":"grid-template: repeat(4,1fr) / repeat(3,1fr);","11.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","11.r16by9":"grid-template: repeat(3,1fr) / repeat(4,1fr);","11.featured":"grid-template: repeat(6,1fr) / repeat(6,1fr);\n    grid-template-areas: 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft';","11.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n      'ft ft ft ft ft v' 'ft ft ft ft ft x';",12:"grid-template: repeat(4,1fr) / repeat(3,1fr);","12.slim":"grid-template: repeat(6,1fr) / repeat(2,1fr);","12.r2by3":"grid-template: repeat(4,1fr) / repeat(3,1fr);","12.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","12.featured":"grid-template: repeat(6,1fr) / repeat(6,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft'\n      'ft ft ft ft ft ft';","12.r1by1.featured":"grid-template-areas:\n    'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n    'ft ft ft ft ft v' 'ft ft ft ft ft x';",13:"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.slim":"grid-template: repeat(7,1fr) / repeat(2,1fr);","13.r2by3":"grid-template: repeat(5,1fr) / repeat(3,1fr);","13.r1by1":"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","13.featured":"grid-template: repeat(7,1fr) / repeat(6,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft'\n      'ft ft ft ft ft ft';","13.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n      'ft ft ft ft ft v' 'ft ft ft ft ft x';",14:"grid-template: repeat(4,1fr) / repeat(4,1fr);","14.slim":"grid-template: repeat(7,1fr) / repeat(2,1fr);","14.r2by3":"grid-template: repeat(5,1fr) / repeat(3,1fr);","14.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","14.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","14.featured":"grid-template: repeat(7,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft';","14.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",15:"grid-template: repeat(5,1fr) / repeat(3,1fr);","15.slim":"grid-template: repeat(8,1fr) / repeat(2,1fr);","15.r1by2":"grid-template: repeat(5,1fr) / repeat(3,1fr);","15.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","15.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","15.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n     'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft'\n     'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","15.r1by1.featured":"grid-template-areas:\n     'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'\n     'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",16:"grid-template: repeat(4,1fr) / repeat(4,1fr);","16.slim":"grid-template: repeat(8,1fr) / repeat(2,1fr);","16.r1by2":"grid-template: repeat(6,1fr) / repeat(3,1fr);","16.r1by1":"grid-template: repeat(4,1fr) / repeat(4,1fr);","16.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","16.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",17:"grid-template: repeat(5,1fr) / repeat(4,1fr);","17.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","17.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","17.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","17.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","17.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';",18:"grid-template: repeat(5,1fr) / repeat(4,1fr);","18.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","18.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","18.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","18.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","18.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';",19:"grid-template: repeat(5,1fr) / repeat(4,1fr);","19.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","19.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","19.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","19.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","19.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(10,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft x';",20:"grid-template: repeat(5,1fr) / repeat(4,1fr);","20.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","20.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","20.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","20.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","20.r1by1.featured":"grid-template: repeat(10,1fr) / repeat(10,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft x';",21:"grid-template: repeat(5,1fr) / repeat(5,1fr);","21.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","21.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","21.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","21.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","21.r1by1.featured":"grid-template: repeat(8,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v'  \n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",22:"grid-template: repeat(5,1fr) / repeat(5,1fr);","22.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","22.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","22.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","22.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","22.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",23:"grid-template: repeat(5,1fr) / repeat(5,1fr);","23.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","23.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","23.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","23.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","23.r1by1.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'  \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",24:"grid-template: repeat(5,1fr) / repeat(5,1fr);","24.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","24.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","24.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","24.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","24.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",25:"grid-template: repeat(5,1fr) / repeat(5,1fr);","25.slim":"grid-template: repeat(9,1fr) / repeat(3,1fr);","25.r1by2":"grid-template: repeat(7,1fr) / repeat(4,1fr);","25.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","25.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","25.r1by1.featured":"grid-template: repeat(10,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",26:"grid-template: repeat(6,1fr) / repeat(5,1fr);","26.slim":"grid-template: repeat(9,1fr) / repeat(3,1fr);","26.r1by2":"grid-template: repeat(7,1fr) / repeat(4,1fr);","26.r1by1":"grid-template: repeat(6,1fr) / repeat(5,1fr);","26.featured":"grid-template: repeat(11,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","26.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';"},Do={"2.featured":"\n    @media (max-width: 600px) {\n      grid-template-columns: 1fr;\n      grid-template-rows: calc(100% / 3);\n      grid-auto-rows: calc(100% / 3);\n    }\n  ","3.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 50%;\n      grid-auto-columns: 50%;\n      grid-auto-flow: column;\n    }\n  ","3.featured":"\n    @media (max-width: 600px) {\n      grid-template-areas: 'ft' 'ft';\n      grid-template-columns: 1fr;\n      grid-template-rows: 25%;\n      grid-auto-rows: 25%;\n    }\n  ","4.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 50%;\n      grid-auto-columns: 50%;\n      grid-auto-flow: column;\n    }\n  ","5.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: calc(100% / 3);\n      grid-auto-columns: calc(100% / 3);\n      grid-auto-flow: column;\n    }\n  ","6.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: calc(100% / 3);\n      grid-auto-columns: calc(100% / 3);\n      grid-auto-flow: column;\n    }\n  ","7.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 25%;\n      grid-auto-columns: 25%;\n      grid-auto-flow: column;\n    }\n  "},No=it.d.div(we||(we=Object(tt.a)(["\n  position: relative;\n  display: grid;\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n  background-color: ",";\n\n  ","\n  ",";\n"])),(function(e){return e.theme.videoGrid.bgd}),(function(e){var t=e.size,n=e.featured;return Ro["".concat(t).concat(n?".featured":"")]||""}),(function(e){var t=e.size,n=e.featured,r=e.ratio;if(r){for(var i="",o=jo.indexOf(r),a=0;a<=o;a++){var s=jo[a];i+=Ro["".concat(t,".").concat(s).concat(n?".featured":"")]||""}var c=Do["".concat(t,".").concat(r).concat(n?".featured":"")]||Do["".concat(t).concat(n?".featured":"")];return c?i+=c:"r16by9"===r&&(t>7||n)?i+="\n  @media (max-height: 600px) {\n    grid-template-areas: 'ft ft' 'ft ft';\n    grid-template-rows: repeat(2,1fr);\n    grid-template-columns: 25%;\n    grid-auto-columns: 25%;\n    grid-auto-flow: column;\n  }\n":(t>7||n)&&(i+="\n  @media (max-width: 600px) {\n    grid-template-areas: 'ft ft' 'ft ft';\n    grid-template-columns: repeat(2,1fr);\n    grid-template-rows: 25%;\n    grid-auto-rows: 25%;\n  }\n"),i}})),Lo={usingGrid:!0},Fo=Object(nt.createContext)(null),Uo=function(e){var t=e.size,n=e.children,r=e.layout,i=void 0===r?"standard":r,o=lt(e,["size","children","layout"]),a=Object(nt.createRef)(),s=function(e){var t=Object(nt.useState)(null),n=Object(et.a)(t,2),r=n[0],i=n[1];return Object(nt.useLayoutEffect)((function(){if(e.current){var t=e.current.getBoundingClientRect(),n=t.height,r=t.width;i(Po(n,r))}}),[]),Object(nt.useEffect)((function(){if(e.current){var t=Mo.debounce(50,(function(e){var t=e[0].contentRect,n=t.height,r=t.width;i(Po(n,r))})),n=new Io(t);return n.observe(e.current),function(){return n.disconnect()}}}),[]),r}(a),c="number"===typeof t?t:rt.a.Children.count(n);return rt.a.createElement(Fo.Provider,{value:Lo},rt.a.createElement(No,Object.assign({ref:a},o,{size:c,ratio:s,featured:"featured"===i,"data-testid":"video-grid"}),n))},Bo=it.d.div(Se||(Se=Object(tt.a)(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n  background: ",";\n\n  video {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: ","};\n  }\n\n  .ch-icon {\n    width: 1.5rem;\n    height: 1.5rem;\n    display: inline-block;\n    background-color: papayawhip; /* TODO: figure out what this is supposed to be */\n    margin-right: 0.5rem;\n    flex: 0 0 1.5rem;\n  }\n\n  .ch-nameplate {\n    backdrop-filter: blur(20px);\n    background-color: rgba(46, 47, 52, 0.85);\n    border-radius: 0.25rem;\n    bottom: 0.5rem;\n    color: ",";\n    left: 0.5rem;\n    max-width: calc(100% - 2rem);\n    padding: 0.5rem;\n    position: absolute;\n\n    div {\n      ",";\n      display: flex;\n      align-items: center;\n    }\n\n    .ch-text {\n      font-size: ",";\n      ",";\n      margin: 0;\n    }\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.colors.greys.grey100}),(function(e){return e.objectFit||"cover"}),(function(e){return e.theme.colors.greys.white}),vt,(function(e){return e.theme.fontSizes.text.fontSize}),vt,ht,ft),Vo=Object(nt.forwardRef)((function(e,t){var n=e.tag,r=e.className,i=e.nameplate,o=lt(e,["tag","className","nameplate"]);return rt.a.createElement(Bo,Object.assign({as:n,className:r||"","data-testid":"video-tile"},o),rt.a.createElement("video",{ref:t,className:"ch-video"}),i&&rt.a.createElement("header",{className:"ch-nameplate"},rt.a.createElement("p",{className:"ch-text"},i)))})),zo=it.d.div(ke||(ke=Object(tt.a)(["\n  display: grid;\n  width: 100%;\n  height: 100%;\n\n  ","\n  ","\n  ","\n\n  ","\n\n  ","\n"])),ot.a,ht,ft,(function(e){var t=e.responsive,n=e.theme;return t?"\n    ".concat(n.mediaQueries.max.md," {\n      grid-template-columns: 1fr 1fr;\n    }\n\n    ").concat(n.mediaQueries.max.sm," {\n      grid-template-columns: 1fr;\n    }\n  "):""}),(function(e){return e.css||""})),Ho=(it.d.div(Ce||(Ce=Object(tt.a)(["\n  ","\n  ","\n\n  ","\n"])),ht,ot.a,(function(e){return e.css||""})),function(e){var t=e.className,n=e.tag,r=e.children,i=lt(e,["className","tag","children"]);return rt.a.createElement(zo,Object.assign({as:n,className:t||""},i),r)});it.d.aside(Oe||(Oe=Object(tt.a)(["\n  width: 100%;\n  height: 100%;\n  padding-bottom: 1rem;\n  overflow-y: auto;\n  background-color: ",";\n  box-shadow: 1rem 1rem 3.75rem 0 rgba(0, 0, 0, 0.1);\n  border-left: 0.0625rem solid ",";\n  border-right: 0.0625rem solid ",";\n\n  "," {\n    width: ",";\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.roster.bgd}),(function(e){return e.theme.roster.containerBorder}),(function(e){return e.theme.roster.containerBorder}),(function(e){return e.theme.mediaQueries.min.md}),(function(e){return e.theme.roster.maxWidth}),ht,ft),it.d.span(xe||(xe=Object(tt.a)(["\n  display: inline-block;\n  margin: 0 0.625rem 0 0;\n  font-weight: 600;\n  font-size: 0.675rem;\n  color: ",";\n"])),(function(e){return e.theme.roster.secondaryText})),it.d.div(Ee||(Ee=Object(tt.a)(["\n  margin: 0 0.5rem;\n\n  & + & {\n    margin-top: 1rem;\n  }\n\n  ","\n  ","\n"])),ht,ft),it.d.div(_e||(_e=Object(tt.a)(["\n  background-color: ",";\n  border-radius: ",";\n\n  ","\n  ","\n"])),(function(e){return e.theme.roster.fgd}),(function(e){return e.theme.radii.default}),ht,ft),it.d.div(Te||(Te=Object(tt.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  margin-bottom: 0.5rem;\n  border-bottom: 0.0625rem solid ",";\n\n  .ch-title {\n    font-size: 0.875rem;\n    color: ",";\n    ","\n    ",";\n  }\n\n  .ch-badge {\n    margin-left: 0.5rem;\n    ","\n  }\n\n  .ch-buttons {\n    margin-left: auto;\n    display: flex;\n\n    > * {\n      margin-left: 0.5rem;\n    }\n\n    ","\n  }\n\n  .ch-search-wrapper {\n    position: absolute !important;\n    bottom: 0.75rem;\n    left: 0.5rem;\n    right: 0.5rem;\n\n    .ch-search-input {\n      flex: 1;\n\n      input {\n        width: 100%;\n      }\n    }\n\n    .ch-search-close {\n      margin-left: 0.5rem;\n    }\n  }\n\n  .ch-navigation-icon {\n    margin-right: 0.5rem;\n    margin-left: -0.5rem;\n\n    "," {\n      display: none;\n    }\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.roster.headerBorder}),(function(e){return e.theme.roster.primaryText}),(function(e){return e.isSearching?"opacity: 0;":""}),vt,(function(e){return e.isSearching?"opacity: 0;":""}),(function(e){return e.isSearching?"opacity: 0;":""}),(function(e){return e.theme.mediaQueries.min.md}),ht,ft),it.d.div(Ie||(Ie=Object(tt.a)(["\n  flex-grow: 1;\n  min-width: 0;\n  line-height: 1.5;\n\n  .ch-name {\n    ",";\n    font-size: 0.875rem;\n    color: ",";\n  }\n\n  .ch-subtitle {\n    ",";\n    font-size: 0.65rem;\n    color: ",";\n  }\n"])),vt,(function(e){return e.theme.roster.primaryText}),vt,(function(e){return e.theme.roster.secondaryText})),it.d.div(Ae||(Ae=Object(tt.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0.625rem 1rem;\n\n  .ch-mic {\n    flex-shrink: 0;\n    width: 1.5rem;\n    line-height: 0;\n\n    ","\n  }\n\n  .ch-menu {\n    color: ",";\n\n    &:hover,\n    &:focus {\n      color: ",";\n    }\n  }\n\n  svg {\n    width: 1.5rem;\n    flex-shrink: 0;\n  }\n\n  > * {\n    margin-right: 0.5rem;\n  }\n\n  > :last-child {\n    margin-right: 0;\n  }\n\n  ","\n  ","\n"])),(function(e){return"leading"===e.micPosition?"\n        order: -1;\n        margin-right: .75rem;\n      ":""}),(function(e){return e.theme.buttons.icon.hover.bgd}),(function(e){return e.theme.buttons.icon.hover.text}),ht,ft),it.d.div(Me||(Me=Object(tt.a)(["\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  font-size: 0.65rem;\n  color: ",";\n\n  > svg {\n    margin-right: 0.25rem;\n    color: ",";\n  }\n"])),(function(e){return e.theme.roster.secondaryText}),(function(e){return e.theme.roster.secondaryText}));var Wo=Object(nt.createContext)(null);var qo=it.d.div(Pe||(Pe=Object(tt.a)(["\n  z-index: ",";\n  visibility: ",";\n\n  &.ch-active {\n    animation: "," 0.25s ease 0s forwards;\n  }\n"])),(function(e){return e.isActive?e.theme.zIndex.controlBar:"-10"}),(function(e){return e.isActive?"visible":"hidden"}),Vi);(function(e){var t=e.children,n=function(){var e=Object(nt.useContext)(Wo);if(!e)throw new Error("useUserActivityState must be used within an UserActivityContextProvider");return e}().isUserActive;return rt.a.createElement(qo,{isActive:n,className:"".concat(n?"ch-active":"")},t)}).displayName="UserActivityManager";it.d.ul(je||(je=Object(tt.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 20rem;\n\n  ","\n  ","\n"])),ft,ht),it.d.li(Re||(Re=Object(tt.a)(["\n  position: relative;\n\n  ",";\n  ",";\n\n  & .ch-channel-button {\n    width: 100%;\n    height: 100%;\n    padding: 11px 0;\n    background-color: ",";\n    border: none;\n    border-radius: unset;\n    justify-content: left;\n    padding-left: 1rem;\n    color: ",";\n    border: ",";\n    font-family: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &:active {\n      background-color: ",";\n      color: ",";\n    }\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-label {\n    padding-left: 1.5rem;\n  }\n\n  & .ch-unread-badge {\n    display: ",";\n    position: absolute;\n    z-index: 2;\n    top: 12px;\n    left: 5px;\n    background-color: ",";\n  }\n\n  &.ch-unread .ch-channel-button {\n    font-weight: bold;\n  }\n\n  &.ch-selected .ch-channel-button {\n    background-color: ",";\n    color: ",";\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-popover-toggle {\n    position: absolute;\n    right: 1rem;\n    margin: 0.5rem 0;\n    height: 1.5rem;\n    border-radius: 50%;\n\n    .ch-channel-actions {\n      border: 1px solid transparent;\n    }\n\n    & g {\n      fill: ",";\n    }\n\n    & button:focus .ch-channel-actions {\n      border: ",";\n      border-radius: 50%;\n    }\n\n    &:hover,\n    &:active {\n      background-color: ",";\n\n      & g {\n        fill: ",";\n      }\n    }\n  }\n\n  & .ch-detailed-channel {\n    display: grid;\n    grid-template-rows: 17px 1fr max-content;\n    grid-gap: 16px;\n    padding: 10px 20px;\n    background-color: ",";\n    color: ",";\n    border-bottom: 0.5px solid #d3d3d3;\n    font-family: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &:active {\n      background-color: ",";\n      color: ",";\n    }\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-detailed-channel-name {\n    font-weight: bold;\n    padding-left: 25px;\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    font-size: 14px;\n    max-width: 85%;\n  }\n\n  & .ch-detailed-channel-message {\n    grid-row: span 2;\n    padding-left: 25px;\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    font-size: 14px;\n    max-width: 90%;\n  }\n\n  & .ch-detailed-channel-message-time {\n    position: absolute;\n    top: 0.8rem;\n    right: 0.5rem;\n    font-size: 8px;\n    max-width: 15%;\n    text-align: right;\n  }\n\n  & .ch-unread-badge-detailed {\n    display: ",";\n    position: absolute;\n    z-index: 2;\n    top: 10px;\n    left: 5px;\n    background-color: ",";\n  }\n\n  &.ch-selected .ch-detailed-channel {\n    background-color: ",";\n    color: ",";\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-popover-toggle-detailed {\n    position: absolute;\n    top: 1.75rem;\n    right: 1rem;\n    margin: 0.5rem 0;\n    height: 1.5rem;\n    border-radius: 50%;\n\n    .ch-channel-actions {\n      border: 1px solid transparent;\n    }\n\n    & g {\n      fill: ",";\n    }\n\n    & button:focus .ch-channel-actions {\n      border: ",";\n      border-radius: 50%;\n    }\n\n    &:hover,\n    &:active {\n      background-color: ",";\n\n      & g {\n        fill: ",";\n      }\n    }\n  }\n"])),ft,ht,(function(e){return e.theme.channelList.bgd}),(function(e){return e.theme.channelList.fontColor}),(function(e){return e.theme.channelList.border}),(function(e){return e.theme.fonts.body}),(function(e){return e.theme.channelList.hover.bgd}),(function(e){return e.theme.channelList.active.bgd}),(function(e){return e.theme.channelList.active.fontColor}),(function(e){return e.theme.channelList.focus.border}),(function(e){return e.unread?"inline":"none"}),(function(e){return e.theme.colors.primary.light}),(function(e){return e.theme.colors.primary.light}),(function(e){return e.theme.channelList.selected.fontColor}),(function(e){return e.theme.channelList.focus.selectedBorder}),(function(e){return e.theme.channelList.active.fontColor}),(function(e){return e.theme.channelList.focus.selectedBorder}),(function(e){return e.theme.channelList.iconButton.activeBgd}),(function(e){return e.theme.colors.primary.light}),(function(e){return e.theme.channelList.bgd}),(function(e){return e.theme.channelList.fontColor}),(function(e){return e.theme.fonts.body}),(function(e){return e.theme.channelList.hover.bgd}),(function(e){return e.theme.channelList.active.bgd}),(function(e){return e.theme.channelList.active.fontColor}),(function(e){return e.theme.channelList.focus.border}),(function(e){return e.unread?"inline":"none"}),(function(e){return e.theme.colors.primary.light}),(function(e){return e.theme.colors.primary.light}),(function(e){return e.theme.channelList.selected.fontColor}),(function(e){return e.theme.channelList.focus.selectedBorder}),(function(e){return e.theme.channelList.active.fontColor}),(function(e){return e.theme.channelList.focus.selectedBorder}),(function(e){return e.theme.channelList.iconButton.activeBgd}),(function(e){return e.theme.colors.primary.light}));var Ko=it.d.div(De||(De=Object(tt.a)(["\n  display: flex;\n  flex-direction: row;\n  font-size: 0.65rem;\n  margin-left: 1rem;\n  align-items: center;\n  background-color: ",";\n  width: 100%;\n\n  .ch-timestamp {\n    padding-right: ",";\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.chatBubble.container.bgd}),(function(e){return e.actions?"1rem":"2.5rem"}),ht,ft),Go=it.d.div(Ne||(Ne=Object(tt.a)(["\n  background-color: ",";\n  padding: 0.625rem 1rem;\n  border-radius: 4px;\n  width: fit-content;\n  color: ",";\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n  line-height: 20px;\n  width: ",";\n  max-width: 70.6%;\n  font-size: 0.875rem;\n  position: relative;\n  margin-bottom: ",";\n  overflow-wrap: break-word;\n  word-break: break-word;\n  hyphens: auto;\n\n  & .ch-header {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 0.5rem;\n    align-items: baseline;\n  }\n\n  & .ch-sender-name {\n    font-weight: bold;\n    padding-right: 0.5rem;\n  }\n\n  & .ch-header-timestamp {\n    font-size: 0.65rem;\n  }\n\n  & svg {\n    position: absolute;\n    height: 19px;\n    width: 11px;\n    margin-top: -14px;\n    margin-left: -25px;\n\n    & .ch-chat-bubble-tail {\n      fill: ",";\n    }\n  }\n\n  .ch-input {\n    width: 100%;\n  }\n\n  .ch-edit-buttons {\n    position: absolute;\n    margin-top: 1rem;\n    display: flex;\n    flex-direction: row-reverse;\n    width: 10rem;\n    justify-content: space-between;\n  }\n\n  ",";\n  ",";\n"])),(function(e){return e.theme.chatBubble[e.variant].bgd}),(function(e){return e.theme.chatBubble[e.variant].fontColor}),(function(e){return e.editable?"100%":"fit-content"}),(function(e){return e.editable?"4rem":"unset"}),(function(e){return e.theme.chatBubble[e.variant].bgd}),ht,ft),Jo=it.d.div(Le||(Le=Object(tt.a)(["\n  display: flex;\n  margin-right: 0.5rem;\n  margin-left: auto;\n  color: ",";\n  align-items: center;\n\n  & .ch-message-actions {\n    border: 1px solid transparent;\n    border-radius: 50%;\n  }\n\n  & button:hover .ch-message-actions {\n    background-color: ",";\n\n    & g {\n      fill: ",";\n    }\n  }\n\n  & button:focus .ch-message-actions {\n    border: 1px solid ",";\n    border-radius: 50%;\n  }\n\n  & .ch-message-actions g {\n    fill: ",";\n  }\n\n  & .ch-message-actions.isOpen {\n    background-color: ",";\n    border-radius: 50%;\n\n    & g {\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.theme.chatBubble.container.fontColor}),(function(e){return e.theme.buttons.icon.hover.bgd}),(function(e){return e.theme.buttons.icon.hover.text}),(function(e){return e.theme.colors.primary.dark}),(function(e){return e.theme.chatBubble.container.fontColor}),(function(e){return e.theme.buttons.icon.active.bgd}),(function(e){return e.theme.buttons.icon.active.text})),$o=function(e){var t=e.variant,n=e.senderName,r=e.timestamp,i=e.showTail,o=(e.redacted,e.children),a=lt(e,["variant","senderName","timestamp","showTail","redacted","children"]);return rt.a.createElement(Go,Object.assign({variant:t,editable:!1},a,{"data-testid":"chat-bubble"}),(n||r)&&rt.a.createElement("div",{className:"ch-header"},n&&rt.a.createElement("div",{className:"ch-sender-name","data-testid":"chat-bubble-sender-name"},n),r&&rt.a.createElement("div",{className:"ch-header-timestamp","data-testid":"chat-bubble-timestamp"},r)),o&&rt.a.createElement("div",null,o),i&&rt.a.createElement("svg",{viewBox:"0 0 4 9","data-testid":"tail"},rt.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},rt.a.createElement("g",{transform:"translate(0, -53)",className:"ch-chat-bubble-tail"},rt.a.createElement("path",{d:"M4,62 L3.92789928,61.999999 C2.89671177,62.0004988 1.33197354,61.8123902 0.200755581,60.8250184 C-0.0781312712,60.5814641 -0.0639788041,60.0290387 0.229060515,59.8181428 C1.47198013,58.9247413 3.99237825,57.6821586 4,52.9112516 L4,52.9112516 L4,62 Z"})))))},Yo=(rt.a.forwardRef((function(e,t){var n=e.timestamp,r=e.actions,i=e.tooltipContainerId,o=e.a11yLabel,a=void 0===o?"Open channel options":o,s=lt(e,["timestamp","actions","tooltipContainerId","a11yLabel"]),c=Object(nt.useMemo)((function(){return ki(_t,i)}),[i]),u=s["data-tooltip"]?c:_t,l=s["data-tooltip-position"]?{tooltipPosition:s["data-tooltip-position"]}:{};return rt.a.createElement(Ko,Object.assign({"data-testid":"chat-bubble-container",ref:t,actions:r},s),e.children,rt.a.createElement(Jo,null,n&&rt.a.createElement("span",{className:"ch-timestamp","data-testid":"message-time"},n),r&&rt.a.createElement(ui,{a11yLabel:a,placement:"bottom-end",renderButtonWrapper:function(e,t){return rt.a.createElement(u,Object.assign({},l,{icon:rt.a.createElement(zt,{width:"1.5rem",height:"1.5rem"}),selected:e},t,{label:a}))},children:r})))})),Object(it.e)(Fe||(Fe=Object(tt.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))));it.d.ul(Ue||(Ue=Object(tt.a)(["\n  background-color: ",";\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n\n  /* disable scrolling while fetching */\n  &.ch-not-scrollable {\n    overflow-y: hidden;\n  }\n\n  ","\n  ","\n\n  .ch-spinner {\n    margin: 0 auto;\n  }\n\n  .ch-spinner svg {\n    width: 2rem;\n    height: 2rem;\n    animation: "," 2s linear infinite;\n    display: block;\n  }\n"])),(function(e){return e.theme.chatBubble.container.bgd}),ht,ft,Yo),it.d.div(Be||(Be=Object(tt.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n\n  & .ch-attachment-icon {\n    height: 2rem;\n    width: 2rem;\n    margin: auto;\n    background-color: ",";\n    border-radius: 25px;\n\n    & .ch-document-icon {\n      margin: auto 0;\n      color: ",";\n    }\n  }\n  & .ch-attachment-name {\n    margin-left: 1rem;\n\n    & a:link,\n    a:visited,\n    a:hover,\n    a:active {\n      color: ",";\n      text-decoration: none;\n    }\n  }\n  & .ch-attachment-size {\n    font-size: ",";\n    color: ",";\n    display: block;\n    padding-top: 3px;\n  }\n"])),(function(e){return e.theme.messageAttachment.icon.bgd}),(function(e){return e.theme.messageAttachment.icon.color}),(function(e){return e.theme.messageAttachment.name.fontColor}),(function(e){return e.theme.messageAttachment.size.fontSize}),(function(e){return e.theme.messageAttachment.size.fontColor})),it.d.div(Ve||(Ve=Object(tt.a)(["\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n  border-radius: 4px;\n  overflow: hidden;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n  background-color: ",";\n  letter-spacing: ",";\n  font-size: ",";\n  line-height: ",";\n\n  & img {\n    ",";\n  }\n\n  ","\n  ","\n"])),(function(e){return e.theme.messageAttachment.content.fontColor}),(function(e){return e.theme.messageAttachment.content.bgd}),(function(e){return e.theme.messageAttachment.content.letterSpacing}),(function(e){return e.theme.fontSizes.text.fontSize}),(function(e){return e.theme.fontSizes.text.lineHeight}),(function(e){return e.imgStyles}),ht,ft);function Qo(e,t,n,r){var i,o=null==(i=r)||"number"===typeof i||"boolean"===typeof i?r:n(r),a=t.get(o);return"undefined"===typeof a&&(a=e.call(this,r),t.set(o,a)),a}function Zo(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return"undefined"===typeof o&&(o=e.apply(this,r),t.set(i,o)),o}function Xo(e,t,n,r,i){return n.bind(t,e,r,i)}function ea(e,t){return Xo(e,this,1===e.length?Qo:Zo,t.cache.create(),t.serializer)}function ta(){return JSON.stringify(arguments)}function na(){this.cache=Object.create(null)}na.prototype.has=function(e){return e in this.cache},na.prototype.get=function(e){return this.cache[e]},na.prototype.set=function(e,t){this.cache[e]=t};var ra={create:function(){return new na}},ia=function(e,t){var n=t&&t.cache?t.cache:ra,r=t&&t.serializer?t.serializer:ta;return(t&&t.strategy?t.strategy:ea)(e,{cache:n,serializer:r})},oa={variadic:function(e,t){return Xo(e,this,Zo,t.cache.create(),t.serializer)},monadic:function(e,t){return Xo(e,this,Qo,t.cache.create(),t.serializer)}};ia.strategies=oa;var aa,sa={weekday:"long",year:"numeric",month:"long",day:"numeric"};ia((function(e,t,n,r,i){var o=n||sa,a=new Date(e).toLocaleDateString(t,o),s=new Date;return s.setDate(s.getDate()-1),a===s.toLocaleDateString(t,o)?i||"Yesterday":a===(new Date).toLocaleDateString(t,o)?r||"Today":a}));!function(e){e[e.STARTING=0]="STARTING",e[e.DID_STOP=1]="DID_STOP",e[e.UPDATE=2]="UPDATE",e[e.TOGGLE_PAUSE=3]="TOGGLE_PAUSE",e[e.REMOVE=4]="REMOVE",e[e.DENIED=5]="DENIED",e[e.RESET=6]="RESET"}(aa||(aa={}));var ca={tileId:null,paused:!1,isLocalUserSharing:!1,isLocalShareLoading:!1,sharingAttendeeId:null};function ua(e,t){var n=t.type,r=t.payload;switch(n){case aa.STARTING:return Object.assign(Object.assign({},e),{isLocalShareLoading:!0});case aa.UPDATE:var i=r.isLocalUser,o=r.tileState,a=e.tileId;return a===o.tileId||a&&a>o.tileId?e:{paused:!1,tileId:o.tileId,isLocalShareLoading:!1,isLocalUserSharing:i,sharingAttendeeId:o.boundAttendeeId};case aa.REMOVE:return e.tileId!==r?e:ca;case aa.DID_STOP:return e.isLocalUserSharing?ca:Object.assign(Object.assign({},e),{isLocalShareLoading:!1,isLocalUserSharing:!1,paused:!1});case aa.TOGGLE_PAUSE:return e.isLocalUserSharing?Object.assign(Object.assign({},e),{paused:!e.paused}):e;case aa.DENIED:return e.isLocalShareLoading?Object.assign(Object.assign({},e),{isLocalShareLoading:!1}):e;case aa.RESET:return ca;default:throw new Error("Incorrect type in VideoProvider")}}var la,da=Object(nt.createContext)(null),fa=Object(nt.createContext)(null),ha=function(e){var t=e.children,n=Wa(),r=Object(nt.useReducer)(ua,ca),i=Object(et.a)(r,2),o=i[0],a=i[1],s=o.paused,c=o.isLocalUserSharing,u=o.isLocalShareLoading,l=Object(nt.useRef)(null);Object(nt.useEffect)((function(){if(n){var e={videoTileDidUpdate:function(e){if(e.boundAttendeeId&&e.isContent&&e.tileId){var t=e.boundAttendeeId,r=new ct.DefaultModality(t).base()===n.audioVideoController.realtimeController.state.localAttendeeId;!r&&l.current&&l.current<e.tileId&&(n.stopContentShare(),l.current=null),r&&(l.current=e.tileId),a({type:aa.UPDATE,payload:{tileState:e,isLocalUser:r}})}},videoTileWasRemoved:function(e){e===l.current&&(l.current=null),a({type:aa.REMOVE,payload:e})}},t={contentShareDidStop:function(){a({type:aa.DID_STOP})}};return n.addObserver(e),n.addContentShareObserver(t),function(){n.removeObserver(e),n.removeContentShareObserver(t),a({type:aa.RESET})}}}),[n]),Object(nt.useEffect)((function(){if(n){var e=function(e){"NotAllowedError"===e.reason.name&&a({type:aa.DENIED})};return window.addEventListener("unhandledrejection",e),function(){return window.removeEventListener("unhandledrejection",e)}}}),[u]);var d=Object(nt.useCallback)((function(e){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:c||u?n.stopContentShare():(e&&"string"===typeof e?n.startContentShareFromScreenCapture(e):n.startContentShareFromScreenCapture(),a({type:aa.STARTING}));case 3:case"end":return t.stop()}}),t)})))}),[n,c,u]),f=Object(nt.useCallback)((function(){n&&c&&(s?n.unpauseContentShare():n.pauseContentShare(),a({type:aa.TOGGLE_PAUSE}))}),[n,s,c]),h=Object(nt.useMemo)((function(){return{paused:s,isLocalUserSharing:c,isLocalShareLoading:u,toggleContentShare:d,togglePauseContentShare:f}}),[s,d,f,c,u]);return rt.a.createElement(da.Provider,{value:o},rt.a.createElement(fa.Provider,{value:h},t))},pa=function(){var e=Object(nt.useContext)(da);if(!e)throw new Error("useContentShareState must be used within a ContentShareProvider");return e};!function(e){e[e.UPDATE=0]="UPDATE",e[e.REMOVE=1]="REMOVE",e[e.RESET=2]="RESET"}(la||(la={}));var va={tiles:[],tileIdToAttendeeId:{},attendeeIdToTileId:{},size:0},ma=function(e,t){var n=Object.assign({},e);return delete n[t],n};function ga(e,t){var n=t.type,r=t.payload,i=e.tiles,o=e.tileIdToAttendeeId,a=e.attendeeIdToTileId,s=e.size;switch(n){case la.UPDATE:var c=r.tileId,u=r.attendeeId,l=void 0===u?"":u,d=c.toString();return o[d]?e:{tiles:[].concat(Object(Xe.a)(i),[c]),tileIdToAttendeeId:Object.assign(Object.assign({},o),Object(Ze.a)({},d,l)),attendeeIdToTileId:Object.assign(Object.assign({},a),Object(Ze.a)({},l,c)),size:s+1};case la.REMOVE:var f=r.tileId,h=o[f],p=f.toString();return h?{tiles:i.filter((function(e){return f!==e})),tileIdToAttendeeId:ma(o,p),attendeeIdToTileId:ma(a,h),size:s-1}:e;case la.RESET:return va;default:throw new Error("Incorrect type in VideoProvider")}}var ba=Object(nt.createContext)(null),ya=function(e){var t=e.children,n=Wa(),r=Object(nt.useReducer)(ga,va),i=Object(et.a)(r,2),o=i[0],a=i[1];return Object(nt.useEffect)((function(){if(n){var e={videoTileDidUpdate:function(e){if((null===e||void 0===e?void 0:e.boundAttendeeId)&&(null===e||void 0===e?void 0:e.tileId)&&!e.isContent&&!e.localTile){var t=e.tileId,n=e.boundAttendeeId;a({type:la.UPDATE,payload:{tileId:t,attendeeId:n}})}},videoTileWasRemoved:function(e){a({type:la.REMOVE,payload:{tileId:e}})}};return n.addObserver(e),function(){return n.removeObserver(e)}}}),[n]),Object(nt.useEffect)((function(){if(n)return function(){return a({type:la.RESET})}}),[n]),rt.a.createElement(ba.Provider,{value:o},t)},wa=function(){var e=Object(nt.useContext)(ba);if(!e)throw new Error("useRemoteVideoTileState must be used within a RemoteVideoTileProvider");return e},Sa=Object(nt.createContext)(null),ka=function(e){var t=e.children,n=Va(),r=wa().attendeeIdToTileId,i=Object(nt.useRef)(null),o=Object(nt.useState)(null),a=Object(et.a)(o,2),s=a[0],c=a[1],u=Object(nt.useRef)(null),l=Object(nt.useRef)(null);Object(nt.useEffect)((function(){var e=function(e){var t=e[0];if(t!==l.current){if(l.current=t,u.current&&clearTimeout(u.current),!t)return i.current=null,void c(null);var n=r[t];n?n!==i.current&&(i.current?u.current=window.setTimeout((function(){i.current=n,c(n)}),1500):(i.current=n,c(n))):i.current&&(u.current=window.setTimeout((function(){i.current=null,c(null)}),1500))}};return n.subscribeToActiveSpeaker(e),function(){return n.unsubscribeFromActiveSpeaker(e)}}),[r]);var d=Object(nt.useMemo)((function(){return{tileId:s}}),[s]);return rt.a.createElement(Sa.Provider,{value:d},t)};function Ca(){var e=Object(nt.useContext)(Sa);if(!e)throw new Error("useFeaturedTileState must be used within an FeaturedVideoTileProvider");return e}var Oa,xa,Ea,_a=Object(nt.createContext)(null),Ta=function(e){var t=e.children,n=hi(),r=Wa(),i=Object(nt.useState)(!0),o=Object(et.a)(i,2),a=o[0],s=o[1],c=Object(nt.useRef)(null);Object(nt.useEffect)((function(){var e;if(r)return c.current&&(e=c.current,dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.bindAudioElement(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),n.error("Failed to bind audio element. ".concat(t.t0));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))),function(){r.unbindAudioElement(),s(!0)}}),[r]);var u=Object(nt.useCallback)((function(){var e;c.current&&(s(!a),a?null===r||void 0===r||r.unbindAudioElement():(e=c.current,dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===r||void 0===r?void 0:r.bindAudioElement(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),n.error("Failed to bind audio element. ".concat(t.t0));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))))}),[c,r,a]),l=Object(nt.useMemo)((function(){return{isAudioOn:a,toggleAudio:u}}),[a,u]);return rt.a.createElement(_a.Provider,{value:l},t,rt.a.createElement("audio",{ref:c,style:{display:"none"}}))},Ia=Object(nt.createContext)(null),Aa=function(e){var t=e.children,n=hi(),r=Va(),i=Wa(),o=Xa().selectedDevice,a=Object(nt.useState)(!1),s=Object(et.a)(a,2),c=s[0],u=s[1],l=Object(nt.useState)(!1),d=Object(et.a)(l,2),f=d[0],h=d[1],p=Object(nt.useState)(null),v=Object(et.a)(p,2),m=v[0],g=v[1];Object(nt.useEffect)((function(){if(i){i.hasStartedLocalVideoTile()&&u(!0);var e={videoAvailabilityDidChange:function(e){e.canStartLocalVideo?h(!1):h(!0),n.info("video availability changed: canStartLocalVideo ".concat(e.canStartLocalVideo))}};return i.addObserver(e),function(){u(!1),i.removeObserver(e)}}}),[i]),Object(nt.useEffect)((function(){f&&n.warn("Reach the number of maximum active videos")}),[f]);var b=Object(nt.useCallback)((function(){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function e(){return Object(Qe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!c&&o){e.next=8;break}return o||n.warn("There is no input video device chosen!"),e.next=5,null===i||void 0===i?void 0:i.stopVideoInput();case 5:u(!1),e.next=16;break;case 8:if(f){e.next=15;break}return e.next=11,r.startVideoInputDevice(o);case 11:null===i||void 0===i||i.startLocalVideoTile(),u(!0),e.next=16;break;case 15:n.error("Video limit is reached and can not turn on more videos!");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),n.error("Failed to toggle video");case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))}),[i,c,f,o]);Object(nt.useEffect)((function(){if(i){var e={videoTileDidUpdate:function(e){e.localTile&&e.tileId&&m!==e.tileId&&g(e.tileId)}};return i.addObserver(e),function(){return i.removeObserver(e)}}}),[i,m]);var y=Object(nt.useMemo)((function(){return{tileId:m,isVideoEnabled:c,setIsVideoEnabled:u,hasReachedVideoLimit:f,setHasReachedVideoLimit:h,toggleVideo:b}}),[m,c,u,f,h,b]);return rt.a.createElement(Ia.Provider,{value:y},t)},Ma=function(){var e=Object(nt.useContext)(Ia);if(!e)throw new Error("useLocalVideo must be used within LocalVideoProvider");return e},Pa=Object(nt.createContext)(void 0),ja=function(e){var t=e.children,n=Object(nt.useState)(),r=Object(et.a)(n,2),i=r[0],o=r[1],a=Va();return Object(nt.useEffect)((function(){function e(e,t){o({name:e,attributes:t})}return a.subscribeToEventDidReceive(e),function(){a.unsubscribeFromEventDidReceive(e)}}),[]),rt.a.createElement(Pa.Provider,{value:i},t)},Ra=rt.a.createContext(null),Da=function(e){var t=e.children,n=Va(),r=Wa(),i=Object(nt.useRef)({}),o=Object(nt.useState)({}),a=Object(et.a)(o,2),s=a[0],c=a[1];Object(nt.useEffect)((function(){if(r){var e=function(e,t,r){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function o(){var a,s,u;return Object(Qe.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t){o.next=4;break}return delete i.current[e],c((function(t){var n=t,r=e;n[r];var i=lt(n,["symbol"===typeof r?r:r+""]);return Object.assign({},i)})),o.abrupt("return");case 4:if((a=new ct.DefaultModality(e).base())===e){o.next=7;break}return o.abrupt("return");case 7:if(!i.current[e]){o.next=10;break}return o.abrupt("return");case 10:if(s={chimeAttendeeId:e},r&&(s.externalUserId=r),i.current[a]=s,c((function(e){return Object.assign(Object.assign({},e),Object(Ze.a)({},a,s))})),!n.getAttendee){o.next=22;break}return o.next=17,n.getAttendee(a,r);case 17:if(u=o.sent,i.current[a]){o.next=20;break}return o.abrupt("return");case 20:s=Object.assign(Object.assign({},s),u),c((function(e){return Object.assign(Object.assign({},e),Object(Ze.a)({},a,s))}));case 22:case"end":return o.stop()}}),o)})))};return r.realtimeSubscribeToAttendeeIdPresence(e),function(){c({}),i.current={},r.realtimeUnsubscribeToAttendeeIdPresence(e)}}}),[r]);var u=Object(nt.useMemo)((function(){return{roster:s}}),[s]);return rt.a.createElement(Ra.Provider,{value:u},t)};function Na(){var e=Object(nt.useContext)(Ra);if(!e)throw new Error("userRosterState must be used within RosterProvider");return e}function La(){return Promise.resolve(new MediaStream)}!function(e){e[e.Loading=0]="Loading",e[e.Succeeded=1]="Succeeded",e[e.Failed=2]="Failed",e[e.Ended=3]="Ended",e[e.JoinedFromAnotherDevice=4]="JoinedFromAnotherDevice",e[e.Left=5]="Left",e[e.TerminalFailure=6]="TerminalFailure"}(Oa||(Oa={})),function(e){e.UNTRIGGERED="UNTRIGGERED",e.IN_PROGRESS="IN_PROGRESS",e.GRANTED="GRANTED",e.DENIED="DENIED"}(xa||(xa={})),function(e){e[e.None=1]="None",e[e.Audio=2]="Audio",e[e.Video=3]="Video",e[e.AudioAndVideo=4]="AudioAndVideo"}(Ea||(Ea={}));var Fa=function(){function e(t){var n=this;Object($e.a)(this,e),this.meetingSession=null,this.meetingStatus=Oa.Loading,this.meetingStatusObservers=[],this.audioVideo=null,this.audioVideoObservers={},this.meetingId=null,this.selectedAudioOutputDeviceObservers=[],this.selectedAudioInputDeviceObservers=[],this.selectedVideoInputDeviceObservers=[],this.audioInputDevices=null,this.audioOutputDevices=null,this.videoInputDevices=null,this.deviceLabelTriggerStatus=xa.UNTRIGGERED,this.deviceLabelTriggerStatusObservers=[],this.deviceLabelTriggerObservers=[],this.activeSpeakerListener=null,this.activeSpeakerCallbacks=[],this.activeSpeakers=[],this.audioVideoCallbacks=[],this.devicesUpdatedCallbacks=[],this.meetingEventObserverSet=new Set,this.audioVideoDidStart=function(){console.log("[MeetingManager audioVideoDidStart] Meeting started successfully"),n.meetingStatus=Oa.Succeeded,n.publishMeetingStatus()},this.audioVideoDidStop=function(e){var t,r=e.statusCode();switch(r){case ct.MeetingSessionStatusCode.MeetingEnded:console.log("[MeetingManager audioVideoDidStop] Meeting ended for all: ".concat(r)),n.meetingStatus=Oa.Ended;break;case ct.MeetingSessionStatusCode.Left:console.log("[MeetingManager audioVideoDidStop] Left the meeting: ".concat(r)),n.meetingStatus=Oa.Left;break;case ct.MeetingSessionStatusCode.AudioJoinedFromAnotherDevice:console.log("[MeetingManager audioVideoDidStop] Meeting joined from another device: ".concat(r)),n.meetingStatus=Oa.JoinedFromAnotherDevice;break;default:e.isFailure()?(console.log("[MeetingManager audioVideoDidStop] Non-Terminal failure occurred: ".concat(r)),n.meetingStatus=Oa.Failed):e.isTerminal()?(console.log("[MeetingManager audioVideoDidStop] Terminal failure occurred: ".concat(r)),n.meetingStatus=Oa.TerminalFailure):console.log("[MeetingManager audioVideoDidStop] session stopped with code ".concat(r))}n.publishMeetingStatus(),null===(t=n.audioVideo)||void 0===t||t.removeObserver(n.audioVideoObservers),n.leave()},this.startAudioInputDevice=function(e){return dt(n,void 0,void 0,Object(Qe.a)().mark((function t(){var n;return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(n=this.audioVideo)||void 0===n?void 0:n.startAudioInput(e);case 3:this.selectedAudioInputDevice=e,this.publishSelectedAudioInputDevice(),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("MeetingManager failed to select audio input device",t.t0),new Error("MeetingManager failed to select audio input device");case 11:case"end":return t.stop()}}),t,this,[[0,7]])})))},this.startAudioOutputDevice=function(e){return dt(n,void 0,void 0,Object(Qe.a)().mark((function t(){var n;return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(n=this.audioVideo)||void 0===n?void 0:n.chooseAudioOutput(e);case 3:this.selectedAudioOutputDevice=e,this.publishSelectedAudioOutputDevice(),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("MeetingManager failed to select audio output device",t.t0),new Error("MeetingManager failed to select audio output device");case 11:case"end":return t.stop()}}),t,this,[[0,7]])})))},this.startVideoInputDevice=function(e){return dt(n,void 0,void 0,Object(Qe.a)().mark((function t(){var n;return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(n=this.audioVideo)||void 0===n?void 0:n.startVideoInput(e);case 3:this.selectedVideoInputDevice=e,this.publishSelectedVideoInputDevice(),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("MeetingManager failed to select video input device",t.t0),new Error("MeetingManager failed to select video input device");case 11:case"end":return t.stop()}}),t,this,[[0,7]])})))},this.stopVideoInputDevice=function(){return dt(n,void 0,void 0,Object(Qe.a)().mark((function e(){var t;return Object(Qe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.audioVideo)||void 0===t?void 0:t.stopVideoInput();case 3:this.selectedVideoInputDevice=void 0,this.publishSelectedVideoInputDevice(),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("MeetingManager failed to unselect video input device",e.t0),new Error("MeetingManager failed to unselect video input device");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})))},this.selectVideoInputDevice=function(e){n.selectedVideoInputDevice=e,n.publishSelectedVideoInputDevice()},this.invokeDeviceProvider=function(e){n.setupDeviceLabelTrigger(e),n.publishDeviceLabelTrigger()},this.subscribeToAudioVideo=function(e){n.audioVideoCallbacks.push(e)},this.unsubscribeFromAudioVideo=function(e){n.audioVideoCallbacks=n.audioVideoCallbacks.filter((function(t){return t!==e}))},this.publishAudioVideo=function(){n.audioVideoCallbacks.forEach((function(e){e(n.audioVideo)}))},this.subscribeToActiveSpeaker=function(e){n.activeSpeakerCallbacks.push(e),e(n.activeSpeakers)},this.unsubscribeFromActiveSpeaker=function(e){n.activeSpeakerCallbacks=n.activeSpeakerCallbacks.filter((function(t){return t!==e}))},this.publishActiveSpeaker=function(){n.activeSpeakerCallbacks.forEach((function(e){e(n.activeSpeakers)}))},this.subscribeToSelectedVideoInputDevice=function(e){n.selectedVideoInputDeviceObservers.push(e)},this.unsubscribeFromSelectedVideoInputDevice=function(e){n.selectedVideoInputDeviceObservers=n.selectedVideoInputDeviceObservers.filter((function(t){return t!==e}))},this.publishSelectedVideoInputDevice=function(){var e,t=Object(Je.a)(n.selectedVideoInputDeviceObservers);try{for(t.s();!(e=t.n()).done;){(0,e.value)(n.selectedVideoInputDevice)}}catch(r){t.e(r)}finally{t.f()}},this.subscribeToSelectedAudioInputDevice=function(e){n.selectedAudioInputDeviceObservers.push(e)},this.unsubscribeFromSelectedAudioInputDevice=function(e){n.selectedAudioInputDeviceObservers=n.selectedAudioInputDeviceObservers.filter((function(t){return t!==e}))},this.publishSelectedAudioInputDevice=function(){var e,t=Object(Je.a)(n.selectedAudioInputDeviceObservers);try{for(t.s();!(e=t.n()).done;){(0,e.value)(n.selectedAudioInputDevice)}}catch(r){t.e(r)}finally{t.f()}},this.subscribeToSelectedAudioOutputDevice=function(e){n.selectedAudioOutputDeviceObservers.push(e)},this.unsubscribeFromSelectedAudioOutputDevice=function(e){n.selectedAudioOutputDeviceObservers=n.selectedAudioOutputDeviceObservers.filter((function(t){return t!==e}))},this.publishSelectedAudioOutputDevice=function(){var e,t=Object(Je.a)(n.selectedAudioOutputDeviceObservers);try{for(t.s();!(e=t.n()).done;){(0,e.value)(n.selectedAudioOutputDevice)}}catch(r){t.e(r)}finally{t.f()}},this.subscribeToMeetingStatus=function(e){n.meetingStatusObservers.push(e),e(n.meetingStatus)},this.unsubscribeFromMeetingStatus=function(e){n.meetingStatusObservers=n.meetingStatusObservers.filter((function(t){return t!==e}))},this.publishMeetingStatus=function(){n.meetingStatusObservers.forEach((function(e){e(n.meetingStatus)}))},this.subscribeToDeviceLabelTrigger=function(e){n.deviceLabelTriggerObservers.push(e)},this.unsubscribeFromDeviceLabelTrigger=function(e){n.deviceLabelTriggerObservers=n.deviceLabelTriggerObservers.filter((function(t){return t!==e}))},this.publishDeviceLabelTrigger=function(){var e,t=Object(Je.a)(n.deviceLabelTriggerObservers);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(r){t.e(r)}finally{t.f()}},this.subscribeToDeviceLabelTriggerStatus=function(e){n.deviceLabelTriggerStatusObservers.push(e)},this.unsubscribeFromDeviceLabelTriggerStatus=function(e){n.deviceLabelTriggerStatusObservers=n.deviceLabelTriggerStatusObservers.filter((function(t){return t!==e}))},this.publishDeviceLabelTriggerStatus=function(){var e,t=Object(Je.a)(n.deviceLabelTriggerStatusObservers);try{for(t.s();!(e=t.n()).done;){(0,e.value)(n.deviceLabelTriggerStatus)}}catch(r){t.e(r)}finally{t.f()}},this.subscribeToEventDidReceive=function(e){n.meetingEventObserverSet.add(e)},this.unsubscribeFromEventDidReceive=function(e){n.meetingEventObserverSet.delete(e)},this.publishEventDidReceiveUpdate=function(e,t){n.meetingEventObserverSet.forEach((function(n){return n(e,t)}))},this.logger=t,this.eventDidReceiveRef={eventDidReceive:function(e,t){n.publishEventDidReceiveUpdate(e,t)}}}return Object(Ye.a)(e,[{key:"initializeMeetingManager",value:function(){this.meetingSession=null,this.audioVideo=null,this.meetingSessionConfiguration=void 0,this.meetingId=null,this.selectedAudioOutputDevice=null,this.selectedAudioInputDevice=void 0,this.selectedVideoInputDevice=void 0,this.audioInputDevices=[],this.audioOutputDevices=[],this.videoInputDevices=[],this.activeSpeakers=[],this.activeSpeakerListener=null,this.audioVideoObservers={}}},{key:"join",value:function(e,t){return dt(this,void 0,void 0,Object(Qe.a)().mark((function n(){var r,i,o,a,s,c;return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.parseJoinParams(t),i=r.deviceLabels,o=r.eventController,a=r.enableWebAudio,s=r.activeSpeakerPolicy,this.meetingSessionConfiguration=e,this.meetingId=this.meetingSessionConfiguration.meetingId,c=new ct.DefaultDeviceController(this.logger,{enableWebAudio:a}),this.meetingSession=new ct.DefaultMeetingSession(e,this.logger,c,o),this.audioVideo=this.meetingSession.audioVideo,o?o.addObserver(this.eventDidReceiveRef):this.meetingSession.eventController.addObserver(this.eventDidReceiveRef),this.setupAudioVideoObservers(),this.setupDeviceLabelTrigger(i),n.next=11,this.listAndSelectDevices(i);case 11:this.publishAudioVideo(),this.setupActiveSpeakerDetection(s),this.meetingStatus=Oa.Loading,this.publishMeetingStatus();case 15:case"end":return n.stop()}}),n,this)})))}},{key:"parseJoinParams",value:function(e){return{deviceLabels:(null===e||void 0===e?void 0:e.deviceLabels)||Ea.AudioAndVideo,eventController:null===e||void 0===e?void 0:e.eventController,enableWebAudio:(null===e||void 0===e?void 0:e.enableWebAudio)||!1,activeSpeakerPolicy:(null===e||void 0===e?void 0:e.activeSpeakerPolicy)||new ct.DefaultActiveSpeakerPolicy}}},{key:"start",value:function(){var e;return dt(this,void 0,void 0,Object(Qe.a)().mark((function t(){return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.audioVideo)||void 0===e||e.start();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"leave",value:function(){var e,t;return dt(this,void 0,void 0,Object(Qe.a)().mark((function n(){return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.audioVideo){n.next=16;break}return this.audioVideo.stopContentShare(),this.audioVideo.stopLocalVideoTile(),this.audioVideo.unbindAudioElement(),n.prev=4,n.next=7,null===(e=this.meetingSession)||void 0===e?void 0:e.deviceController.chooseAudioOutput(null);case 7:return n.next=9,null===(t=this.meetingSession)||void 0===t?void 0:t.deviceController.destroy();case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),console.log("MeetingManager failed to clean up media resources on leave");case 14:this.activeSpeakerListener&&this.audioVideo.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerListener),this.audioVideo.stop();case 16:this.initializeMeetingManager(),this.publishAudioVideo(),this.publishActiveSpeaker();case 19:case"end":return n.stop()}}),n,this,[[4,11]])})))}},{key:"setupAudioVideoObservers",value:function(){this.audioVideo&&(this.audioVideoObservers={audioVideoDidStart:this.audioVideoDidStart,audioVideoDidStop:this.audioVideoDidStop},this.audioVideo.addObserver(this.audioVideoObservers))}},{key:"updateDeviceLists",value:function(){var e,t,n;return dt(this,void 0,void 0,Object(Qe.a)().mark((function r(){return Object(Qe.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(e=this.audioVideo)||void 0===e?void 0:e.listAudioInputDevices();case 2:if(r.t0=r.sent,r.t0){r.next=5;break}r.t0=[];case 5:return this.audioInputDevices=r.t0,r.next=8,null===(t=this.audioVideo)||void 0===t?void 0:t.listVideoInputDevices();case 8:if(r.t1=r.sent,r.t1){r.next=11;break}r.t1=[];case 11:return this.videoInputDevices=r.t1,r.next=14,null===(n=this.audioVideo)||void 0===n?void 0:n.listAudioOutputDevices();case 14:if(r.t2=r.sent,r.t2){r.next=17;break}r.t2=[];case 17:this.audioOutputDevices=r.t2;case 18:case"end":return r.stop()}}),r,this)})))}},{key:"setupDeviceLabelTrigger",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea.AudioAndVideo;if("function"===typeof r)t=r;else if(r===Ea.None)t=La;else{var i={};switch(r){case Ea.Audio:i.audio=!0;break;case Ea.Video:i.video=!0;break;case Ea.AudioAndVideo:i.audio=!0,i.video=!0}t=function(){return dt(n,void 0,void 0,Object(Qe.a)().mark((function e(){var t,n,r;return Object(Qe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.deviceLabelTriggerStatus=xa.IN_PROGRESS,this.publishDeviceLabelTriggerStatus(),e.prev=2,e.next=5,navigator.mediaDevices.enumerateDevices();case 5:return t=e.sent,n=t.some((function(e){return"videoinput"===e.kind})),e.next=9,navigator.mediaDevices.getUserMedia({audio:i.audio,video:i.video&&n});case 9:return r=e.sent,this.deviceLabelTriggerStatus=xa.GRANTED,this.publishDeviceLabelTriggerStatus(),e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(2),console.error("MeetingManager failed to get device permissions"),this.deviceLabelTriggerStatus=xa.DENIED,this.publishDeviceLabelTriggerStatus(),new Error(e.t0);case 21:case"end":return e.stop()}}),e,this,[[2,15]])})))}}null===(e=this.audioVideo)||void 0===e||e.setDeviceLabelTrigger(t)}},{key:"setupActiveSpeakerDetection",value:function(e){var t,n=this;this.publishActiveSpeaker(),this.activeSpeakerListener=function(e){n.activeSpeakers=e,n.activeSpeakerCallbacks.forEach((function(t){return t(e)}))},null===(t=this.audioVideo)||void 0===t||t.subscribeToActiveSpeakerDetector(e||new ct.DefaultActiveSpeakerPolicy,this.activeSpeakerListener)}},{key:"listAndSelectDevices",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea.AudioAndVideo;return dt(this,void 0,void 0,Object(Qe.a)().mark((function r(){var i,o;return Object(Qe.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.updateDeviceLists();case 2:if("function"!==typeof n){r.next=4;break}return r.abrupt("return");case 4:i=!1,o=!1,r.t0=n,r.next=r.t0===Ea.None?9:r.t0===Ea.Audio?10:r.t0===Ea.Video?12:r.t0===Ea.AudioAndVideo?14:17;break;case 9:return r.abrupt("break",17);case 10:return i=!0,r.abrupt("break",17);case 12:return o=!0,r.abrupt("break",17);case 14:return i=!0,o=!0,r.abrupt("break",17);case 17:if(!i||this.selectedAudioInputDevice||!this.audioInputDevices||!this.audioInputDevices.length){r.next=28;break}return this.selectedAudioInputDevice=this.audioInputDevices[0].deviceId,r.prev=19,r.next=22,null===(e=this.audioVideo)||void 0===e?void 0:e.startAudioInput(this.audioInputDevices[0].deviceId);case 22:r.next=27;break;case 24:r.prev=24,r.t1=r.catch(19),console.error("MeetingManager failed to select audio input device on join",r.t1);case 27:this.publishSelectedAudioInputDevice();case 28:if(!i||this.selectedAudioOutputDevice||!this.audioOutputDevices||!this.audioOutputDevices.length){r.next=40;break}if(this.selectedAudioOutputDevice=this.audioOutputDevices[0].deviceId,!(new ct.DefaultBrowserBehavior).supportsSetSinkId()){r.next=39;break}return r.prev=31,r.next=34,null===(t=this.audioVideo)||void 0===t?void 0:t.chooseAudioOutput(this.audioOutputDevices[0].deviceId);case 34:r.next=39;break;case 36:r.prev=36,r.t2=r.catch(31),console.error("MeetingManager failed to select audio output device on join",r.t2);case 39:this.publishSelectedAudioOutputDevice();case 40:o&&!this.selectedVideoInputDevice&&this.videoInputDevices&&this.videoInputDevices.length&&(this.selectedVideoInputDevice=this.videoInputDevices[0].deviceId,this.publishSelectedVideoInputDevice());case 41:case"end":return r.stop()}}),r,this,[[19,24],[31,36]])})))}}]),e}(),Ua=Object(nt.createContext)(null),Ba=function(e){var t=e.onDeviceReplacement,n=e.meetingManager,r=e.children,i=hi(),o=Object(nt.useState)((function(){return n||new Fa(i)})),a=Object(et.a)(o,1)[0];return rt.a.createElement(Ua.Provider,{value:a},rt.a.createElement(ja,null,rt.a.createElement(Ha,null,rt.a.createElement(es,{onDeviceReplacement:t},rt.a.createElement(Da,null,rt.a.createElement(ya,null,rt.a.createElement(Aa,null,rt.a.createElement(Ta,null,rt.a.createElement(ha,null,rt.a.createElement(ka,null,r))))))))))},Va=function(){var e=Object(nt.useContext)(Ua);if(!e)throw new Error("useMeetingManager must be used within MeetingProvider");return e},za=Object(nt.createContext)(null),Ha=function(e){var t=e.children,n=Va(),r=Object(nt.useState)(null),i=Object(et.a)(r,2),o=i[0],a=i[1];return Object(nt.useEffect)((function(){function e(e){a(e)}return n.subscribeToAudioVideo(e),function(){return n.unsubscribeFromAudioVideo(e)}}),[]),rt.a.createElement(za.Provider,{value:o},t)},Wa=function(){return Object(nt.useContext)(za)},qa=Object(nt.createContext)(null),Ka=function(e){var t=e.children,n=e.onDeviceReplacement,r=hi(),i=Va(),o=Wa(),a=Object(nt.useState)([]),s=Object(et.a)(a,2),c=s[0],u=s[1],l=Object(nt.useState)(i.selectedAudioInputDevice),d=Object(et.a)(l,2),f=d[0],h=d[1],p=Object(nt.useRef)(f);p.current=f;var v=function(e){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n(e,i.selectedAudioInputDevice));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))};Object(nt.useEffect)((function(){return i.subscribeToSelectedAudioInputDevice(h),function(){i.unsubscribeFromSelectedAudioInputDevice(h)}}),[]),Object(nt.useEffect)((function(){var e=!0,t={audioInputsChanged:function(e){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){var n,o,a;return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.info("AudioInputProvider - audio inputs updated"),n=e.some((function(e){return e.deviceId===p.current})),o="default",p.current&&!n&&e.length?(r.info("Previously selected audio input lost. Selecting a default device."),o=e[0].deviceId):"default"===p.current&&r.info('Audio devices updated and "default" device is selected. Reselecting input.'),t.next=6,v(o);case 6:return a=t.sent,t.prev=7,t.next=10,i.startAudioInputDevice(a);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(7),r.error("Failed to select audio input device on audioInputsChanged: ".concat(t.t0));case 15:u(e);case 16:case"end":return t.stop()}}),t,null,[[7,12]])})))}};function n(){return dt(this,void 0,void 0,Object(Qe.a)().mark((function n(){var r;return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,o.listAudioInputDevices();case 4:r=n.sent,e&&(u(r),o.addDeviceChangeObserver(t));case 6:case"end":return n.stop()}}),n)})))}var a=function(){n()};return i.subscribeToDeviceLabelTrigger(a),n(),function(){e=!1,null===o||void 0===o||o.removeDeviceChangeObserver(t),i.unsubscribeFromDeviceLabelTrigger(a)}}),[o,n]);var m=Object(nt.useMemo)((function(){return{devices:c,selectedDevice:f}}),[c,f]);return rt.a.createElement(qa.Provider,{value:m},t)},Ga=function(){var e=Object(nt.useContext)(qa);if(!e)throw new Error("useAudioInputs must be used within AudioInputProvider");return e},Ja=Object(nt.createContext)(null),$a=function(e){var t=e.children,n=hi(),r=Wa(),i=Object(nt.useState)([]),o=Object(et.a)(i,2),a=o[0],s=o[1],c=Va(),u=Object(nt.useState)(c.selectedAudioOutputDevice),l=Object(et.a)(u,2),d=l[0],f=l[1];Object(nt.useEffect)((function(){return c.subscribeToSelectedAudioOutputDevice(f),function(){c.unsubscribeFromSelectedAudioOutputDevice(f)}}),[]),Object(nt.useEffect)((function(){var e=!0,t={audioOutputsChanged:function(e){n.info("AudioOutputProvider - audio outputs updated"),s(e)}};function i(){return dt(this,void 0,void 0,Object(Qe.a)().mark((function n(){var i;return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,r.listAudioOutputDevices();case 4:i=n.sent,e&&(s(i),r.addDeviceChangeObserver(t));case 6:case"end":return n.stop()}}),n)})))}var o=function(){i()};return c.subscribeToDeviceLabelTrigger(o),i(),function(){e=!1,null===r||void 0===r||r.removeDeviceChangeObserver(t),c.unsubscribeFromDeviceLabelTrigger(o)}}),[r]);var h=Object(nt.useMemo)((function(){return{devices:a,selectedDevice:d}}),[a,d]);return rt.a.createElement(Ja.Provider,{value:h},t)},Ya=function(){var e=Object(nt.useContext)(Ja);if(!e)throw new Error("useAudioOutputs must be used within AudioOutputProvider");return e},Qa=Object(nt.createContext)(null),Za=function(e){var t=e.children,n=hi(),r=Wa(),i=Object(nt.useState)([]),o=Object(et.a)(i,2),a=o[0],s=o[1],c=Va(),u=Object(nt.useState)(c.selectedVideoInputDevice),l=Object(et.a)(u,2),d=l[0],f=l[1];Object(nt.useEffect)((function(){return c.subscribeToSelectedVideoInputDevice(f),function(){c.unsubscribeFromSelectedVideoInputDevice(f)}}),[]),Object(nt.useEffect)((function(){var e=!0,t={videoInputsChanged:function(e){n.info("VideoInputProvider - video inputs updated"),s(e)}};function i(){return dt(this,void 0,void 0,Object(Qe.a)().mark((function n(){var i;return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,r.listVideoInputDevices();case 4:i=n.sent,e&&(s(i),r.addDeviceChangeObserver(t));case 6:case"end":return n.stop()}}),n)})))}var o=function(){i()};return c.subscribeToDeviceLabelTrigger(o),i(),function(){e=!1,null===r||void 0===r||r.removeDeviceChangeObserver(t),c.unsubscribeFromDeviceLabelTrigger(o)}}),[r]);var h=Object(nt.useMemo)((function(){return{devices:a,selectedDevice:d}}),[a,d]);return rt.a.createElement(Qa.Provider,{value:h},t)},Xa=function(){var e=Object(nt.useContext)(Qa);if(!e)throw new Error("useVideoInputs must be used within VideoInputProvider");return e},es=function(e){var t=e.children,n=e.onDeviceReplacement;return rt.a.createElement(Ka,{onDeviceReplacement:n},rt.a.createElement($a,null,rt.a.createElement(Za,null,t)))},ts=function(e,t){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function n(){var r;return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ns(e);case 2:return r=n.sent,n.abrupt("return",r===t);case 4:case"end":return n.stop()}}),n)})))},ns=function(e){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){var n,r;return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return","");case 2:if(!Object(ct.isAudioTransformDevice)(e)&&!Object(ct.isVideoTransformDevice)(e)){t.next=8;break}return t.next=5,e.intrinsicDevice();case 5:n=t.sent,t.next=9;break;case 8:n=e;case 9:return r=ct.DefaultDeviceController.getIntrinsicDeviceId(n),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})))};Object(nt.createContext)(void 0);function rs(){var e=Wa(),t=Object(nt.useState)((function(){return(null===e||void 0===e?void 0:e.realtimeIsLocalAudioMuted())||!1})),n=Object(et.a)(t,2),r=n[0],i=n[1];Object(nt.useEffect)((function(){var t=function(e){i(e)};return null===e||void 0===e||e.realtimeSubscribeToMuteAndUnmuteLocalAudio(t),i((null===e||void 0===e?void 0:e.realtimeIsLocalAudioMuted())||!1),function(){null===e||void 0===e||e.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(t)}}),[e]);var o=Object(nt.useCallback)((function(){r?null===e||void 0===e||e.realtimeUnmuteLocalAudio():null===e||void 0===e||e.realtimeMuteLocalAudio()}),[r,e]);return{muted:r,toggleMute:o}}var is=function(e){var t=e.muteLabel,n=void 0===t?"Mute":t,r=e.unmuteLabel,i=void 0===r?"Unmute":r,o=e.mutedIconTitle,a=e.unmutedIconTitle,s=lt(e,["muteLabel","unmuteLabel","mutedIconTitle","unmutedIconTitle"]),c=hi(),u=Va(),l=rs(),d=l.muted,f=l.toggleMute,h=Ga(),p=h.devices,v=h.selectedDevice,m=Object(nt.useState)([]),g=Object(et.a)(m,2),b=g[0],y=g[1];return Object(nt.useEffect)((function(){var e=function(e){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.startAudioInputDevice(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),c.error("AudioInputControl failed to select audio input device");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))};dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){var n;return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(p.map((function(t){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function n(){return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=rt.a.createElement("span",null,t.label),n.next=3,ts(v,t.deviceId);case 3:return n.t1=n.sent,n.t2=function(){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function n(){return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(t.deviceId);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))},n.abrupt("return",{children:n.t0,checked:n.t1,onClick:n.t2});case 6:case"end":return n.stop()}}),n)})))})));case 2:n=t.sent,y(n);case 4:case"end":return t.stop()}}),t)})))}),[p,v,u,u.startAudioInputDevice]),rt.a.createElement(Ci,Object.assign({icon:rt.a.createElement(Jt,{muted:d,mutedTitle:o,unmutedTitle:a}),onClick:f,label:d?i:n,popOver:b},s))},os=(mn((function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",s="[object Date]",c="[object Error]",u="[object Function]",l="[object Map]",d="[object Number]",f="[object Object]",h="[object Promise]",p="[object RegExp]",v="[object Set]",m="[object String]",g="[object Symbol]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",S=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[i]=C[o]=C[y]=C[a]=C[w]=C[s]=C[c]=C[u]=C[l]=C[d]=C[f]=C[p]=C[v]=C[m]=C[b]=!1;var O="object"==typeof pn&&pn&&pn.Object===Object&&pn,x="object"==typeof self&&self&&self.Object===Object&&self,E=O||x||Function("return this")(),_=t&&!t.nodeType&&t,T=_&&e&&!e.nodeType&&e,I=T&&T.exports===_,A=I&&O.process,M=function(){try{return A&&A.binding&&A.binding("util")}catch(e){}}(),P=M&&M.isTypedArray;function j(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var N,L,F=Array.prototype,U=Function.prototype,B=Object.prototype,V=E["__core-js_shared__"],z=U.toString,H=B.hasOwnProperty,W=function(){var e=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),q=B.toString,K=RegExp("^"+z.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=I?E.Buffer:void 0,J=E.Symbol,$=E.Uint8Array,Y=B.propertyIsEnumerable,Q=F.splice,Z=J?J.toStringTag:void 0,X=Object.getOwnPropertySymbols,ee=G?G.isBuffer:void 0,te=(N=Object.keys,L=Object,function(e){return N(L(e))}),ne=Ae(E,"DataView"),re=Ae(E,"Map"),ie=Ae(E,"Promise"),oe=Ae(E,"Set"),ae=Ae(E,"WeakMap"),se=Ae(Object,"create"),ce=Re(ne),ue=Re(re),le=Re(ie),de=Re(oe),fe=Re(ae),he=J?J.prototype:void 0,pe=he?he.valueOf:void 0;function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ge;++t<n;)this.add(e[t])}function ye(e){var t=this.__data__=new me(e);this.size=t.size}function we(e,t){var n=Le(e),r=!n&&Ne(e),i=!n&&!r&&Fe(e),o=!n&&!r&&!i&&He(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!H.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||je(u,c))||s.push(u);return s}function Se(e,t){for(var n=e.length;n--;)if(De(e[n][0],t))return n;return-1}function ke(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?function(e){var t=H.call(e,Z),n=e[Z];try{e[Z]=void 0;var r=!0}catch(o){}var i=q.call(e);r&&(t?e[Z]=n:delete e[Z]);return i}(e):function(e){return q.call(e)}(e)}function Ce(e){return ze(e)&&ke(e)==i}function Oe(e,t,n,r,u){return e===t||(null==e||null==t||!ze(e)&&!ze(t)?e!==e&&t!==t:function(e,t,n,r,u,h){var b=Le(e),S=Le(t),k=b?o:Pe(e),C=S?o:Pe(t),O=(k=k==i?f:k)==f,x=(C=C==i?f:C)==f,E=k==C;if(E&&Fe(e)){if(!Fe(t))return!1;b=!0,O=!1}if(E&&!O)return h||(h=new ye),b||He(e)?_e(e,t,n,r,u,h):function(e,t,n,r,i,o,u){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!o(new $(e),new $(t)));case a:case s:case d:return De(+e,+t);case c:return e.name==t.name&&e.message==t.message;case p:case m:return e==t+"";case l:var f=R;case v:var h=1&r;if(f||(f=D),e.size!=t.size&&!h)return!1;var b=u.get(e);if(b)return b==t;r|=2,u.set(e,t);var S=_e(f(e),f(t),r,i,o,u);return u.delete(e),S;case g:if(pe)return pe.call(e)==pe.call(t)}return!1}(e,t,k,n,r,u,h);if(!(1&n)){var _=O&&H.call(e,"__wrapped__"),T=x&&H.call(t,"__wrapped__");if(_||T){var I=_?e.value():e,A=T?t.value():t;return h||(h=new ye),u(I,A,n,r,h)}}if(!E)return!1;return h||(h=new ye),function(e,t,n,r,i,o){var a=1&n,s=Te(e),c=s.length,u=Te(t).length;if(c!=u&&!a)return!1;var l=c;for(;l--;){var d=s[l];if(!(a?d in t:H.call(t,d)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);var p=a;for(;++l<c;){var v=e[d=s[l]],m=t[d];if(r)var g=a?r(m,v,d,t,e,o):r(v,m,d,e,t,o);if(!(void 0===g?v===m||i(v,m,n,r,o):g)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,u,h)}(e,t,n,r,Oe,u))}function xe(e){return!(!Ve(e)||function(e){return!!W&&W in e}(e))&&(Ue(e)?K:S).test(Re(e))}function Ee(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||B;return e===n}(e))return te(e);var t=[];for(var n in Object(e))H.call(e,n)&&"constructor"!=n&&t.push(n);return t}function _e(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var l=-1,d=!0,f=2&n?new be:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var h=e[l],p=t[l];if(r)var v=a?r(p,h,l,t,e,o):r(h,p,l,e,t,o);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!j(t,(function(e,t){if(a=t,!f.has(a)&&(h===e||i(h,e,n,r,o)))return f.push(t);var a}))){d=!1;break}}else if(h!==p&&!i(h,p,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Te(e){return function(e,t,n){var r=t(e);return Le(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,We,Me)}function Ie(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xe(n)?n:void 0}ve.prototype.clear=function(){this.__data__=se?se(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(se){var r=t[e];return r===n?void 0:r}return H.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return se?void 0!==t[e]:H.call(t,e)},ve.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=se&&void 0===t?n:t,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,!0)},me.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},me.prototype.has=function(e){return Se(this.__data__,e)>-1},me.prototype.set=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ge.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(re||me),string:new ve}},ge.prototype.delete=function(e){var t=Ie(this,e).delete(e);return this.size-=t?1:0,t},ge.prototype.get=function(e){return Ie(this,e).get(e)},ge.prototype.has=function(e){return Ie(this,e).has(e)},ge.prototype.set=function(e,t){var n=Ie(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,n),this},be.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.clear=function(){this.__data__=new me,this.size=0},ye.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ye.prototype.get=function(e){return this.__data__.get(e)},ye.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.set=function(e,t){var n=this.__data__;if(n instanceof me){var r=n.__data__;if(!re||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ge(r)}return n.set(e,t),this.size=n.size,this};var Me=X?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(X(e),(function(t){return Y.call(e,t)})))}:function(){return[]},Pe=ke;function je(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function Re(e){if(null!=e){try{return z.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function De(e,t){return e===t||e!==e&&t!==t}(ne&&Pe(new ne(new ArrayBuffer(1)))!=w||re&&Pe(new re)!=l||ie&&Pe(ie.resolve())!=h||oe&&Pe(new oe)!=v||ae&&Pe(new ae)!=b)&&(Pe=function(e){var t=ke(e),n=t==f?e.constructor:void 0,r=n?Re(n):"";if(r)switch(r){case ce:return w;case ue:return l;case le:return h;case de:return v;case fe:return b}return t});var Ne=Ce(function(){return arguments}())?Ce:function(e){return ze(e)&&H.call(e,"callee")&&!Y.call(e,"callee")},Le=Array.isArray;var Fe=ee||function(){return!1};function Ue(e){if(!Ve(e))return!1;var t=ke(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ze(e){return null!=e&&"object"==typeof e}var He=P?function(e){return function(t){return e(t)}}(P):function(e){return ze(e)&&Be(e.length)&&!!C[ke(e)]};function We(e){return null!=(t=e)&&Be(t.length)&&!Ue(t)?we(e):Ee(e);var t}e.exports=function(e,t){return Oe(e,t)}})),Object(nt.createContext)(null),function(e){var t=e.label,n=void 0===t?"Speaker":t,r=lt(e,["label"]),i=hi(),o=Va(),a=Ya(),s=a.devices,c=a.selectedDevice,u=function(){var e=Object(nt.useContext)(_a);if(!e)throw new Error("useLocalAudioOutput must be used within LocalAudioOutputProvider");return e}(),l=u.isAudioOn,d=u.toggleAudio,f=Object(nt.useState)([]),h=Object(et.a)(f,2),p=h[0],v=h[1];return Object(nt.useEffect)((function(){var e=function(e){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(new ct.DefaultBrowserBehavior).supportsSetSinkId()){t.next=6;break}return t.next=4,o.startAudioOutputDevice(e);case 4:t.next=7;break;case 6:i.error("AudioOutputControl cannot select audio output device because browser does not support setSinkId operation.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),i.error("AudioOutputControl failed to select audio output device");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))};dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){var n;return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.map((function(t){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function n(){return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=rt.a.createElement("span",null,t.label),n.next=3,ts(c,t.deviceId);case 3:return n.t1=n.sent,n.t2=function(){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function n(){return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(t.deviceId);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))},n.abrupt("return",{children:n.t0,checked:n.t1,onClick:n.t2});case 6:case"end":return n.stop()}}),n)})))})));case 2:n=t.sent,v(n);case 4:case"end":return t.stop()}}),t)})))}),[s,c,o,o.startAudioOutputDevice]),rt.a.createElement(rt.a.Fragment,null,rt.a.createElement(Ci,Object.assign({icon:rt.a.createElement(Qt,{disabled:!l}),onClick:d,label:n,popOver:p.length?p:null},r)))}),as=function(e){var t=e.label,n=void 0===t?"Video":t,r=lt(e,["label"]),i=hi(),o=Va(),a=Xa(),s=a.devices,c=a.selectedDevice,u=Ma(),l=u.isVideoEnabled,d=u.toggleVideo,f=Object(nt.useState)([]),h=Object(et.a)(f,2),p=h[0],v=h[1];return Object(nt.useEffect)((function(){var e=function(e){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!l){t.next=6;break}return t.next=4,o.startVideoInputDevice(e);case 4:t.next=7;break;case 6:o.selectVideoInputDevice(e);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),i.error("VideoInputControl failed to select video input device");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))};dt(void 0,void 0,void 0,Object(Qe.a)().mark((function t(){var n;return Object(Qe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.map((function(t){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function n(){return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=rt.a.createElement("span",null,t.label),n.next=3,ts(c,t.deviceId);case 3:return n.t1=n.sent,n.t2=function(){return dt(void 0,void 0,void 0,Object(Qe.a)().mark((function n(){return Object(Qe.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(t.deviceId);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))},n.abrupt("return",{children:n.t0,checked:n.t1,onClick:n.t2});case 6:case"end":return n.stop()}}),n)})))})));case 2:n=t.sent,v(n);case 4:case"end":return t.stop()}}),t)})))}),[s,c,l,o,o.startVideoInputDevice]),rt.a.createElement(Ci,Object.assign({icon:rt.a.createElement(At,{disabled:!l}),onClick:d,label:n,popOver:p},r))},ss=Object(it.d)(Vo)(ze||(ze=Object(tt.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.colors.greys.grey80})),cs=function(e){var t=e.className,n=lt(e,["className"]),r=Wa(),i=pa().tileId,o=Object(nt.useRef)(null);return Object(nt.useEffect)((function(){if(r&&o.current&&i)return r.bindVideoElement(i,o.current),function(){r.getVideoTile(i)&&r.unbindVideoElement(i)}}),[r,i]),i?rt.a.createElement(ss,Object.assign({objectFit:"contain",className:t||""},n,{ref:o})):null};function us(e){Object(nt.useEffect)((function(){var t;function n(){if(e.current){var t=e.current.videoHeight,n=e.current.videoWidth;e.current.style.objectFit=t>n?"contain":"cover"}}return null===(t=e.current)||void 0===t||t.addEventListener("loadedmetadata",n),function(){var t;return null===(t=e.current)||void 0===t?void 0:t.removeEventListener("loadedmetadata",n)}}),[e])}var ls=Object(it.d)(Vo)(He||(He=Object(tt.a)(["\n  ",";\n"])),(function(e){return e.active?"":"display: none"})),ds=function(e){var t=e.nameplate,n=lt(e,["nameplate"]),r=Ma(),i=r.tileId,o=r.isVideoEnabled,a=Wa(),s=Object(nt.useRef)(null);return us(s),Object(nt.useEffect)((function(){if(a&&i&&s.current&&o)return a.bindVideoElement(i,s.current),function(){a.getVideoTile(i)&&a.unbindVideoElement(i)}}),[a,i,o]),rt.a.createElement(ls,Object.assign({active:o,nameplate:t,ref:s},n))},fs=(Object(it.d)(Vo)(We||(We=Object(tt.a)(["\n  height: auto;\n  background: unset;\n\n  video {\n    position: static;\n  }\n"]))),function(e){var t=e.name,n=e.className,r=e.tileId,i=lt(e,["name","className","tileId"]),o=Wa(),a=Object(nt.useRef)(null);return us(a),Object(nt.useEffect)((function(){if(o&&a.current)return o.bindVideoElement(r,a.current),function(){o.getVideoTile(r)&&o.unbindVideoElement(r)}}),[o,r]),rt.a.createElement(Vo,Object.assign({},i,{ref:a,nameplate:t,className:"ch-remote-video--".concat(r," ").concat(n||"")}))}),hs=function(e){var t=Na().roster,n=wa(),r=n.tiles,i=n.tileIdToAttendeeId;return rt.a.createElement(rt.a.Fragment,null,r.map((function(n){var r=(t[i[n]]||{}).name;return rt.a.createElement(fs,Object.assign({},e,{key:n,tileId:n,name:r}))})))};Object(nt.memo)(hs);var ps=function(e){var t=Object(nt.useContext)(Fo),n=Na().roster,r=Ca().tileId,i=pa().tileId,o=wa(),a=o.tiles,s=o.tileIdToAttendeeId;return rt.a.createElement(rt.a.Fragment,null,a.map((function(o){var a=!i&&r===o,c=t&&a?"grid-area: ft;":"",u="".concat(a?"ch-featured-tile":""," ").concat(e.className||""),l=(n[s[o]]||{}).name;return rt.a.createElement(fs,Object.assign({tileId:o,name:l},e,{className:u,key:o,css:c}))})))};Object(nt.memo)(ps);var vs=function(e){var t=e.noRemoteVideoView,n=e.layout,r=void 0===n?"featured":n,i=lt(e,["noRemoteVideoView","layout"]),o=Ca().tileId,a=wa().tiles,s=pa().tileId,c=Ma().isVideoEnabled,u="featured"===r&&!!o||!!s,l=a.length+(s?1:0),d=l>1&&c?l+1:l;return rt.a.createElement(Uo,Object.assign({},i,{size:d,layout:u?"featured":null}),rt.a.createElement(cs,{css:"grid-area: ft;"}),"featured"===r?rt.a.createElement(ps,null):rt.a.createElement(hs,null),rt.a.createElement(ds,{nameplate:"Me",css:d>1?"\n  height: 100%;\n  width: 100%;\n":"\n  display: flex;\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  width: 20vw;\n  max-height: 30vh;\n  height: auto;\n\n  video {\n    position: static;\n  }\n"}),0===l&&t)};var ms=it.d.div(qe||(qe=Object(tt.a)(["\n  position: relative;\n  height: inherit;\n  line-height: 0;\n\n  .ch-mic-icon {\n    position: relative;\n    z-index: 2;\n    width: 100%;\n  }\n\n  .ch-bg-volume-wrapper {\n    position: absolute;\n    bottom: 41%;\n    left: 40%;\n    height: 38%;\n    width: 21%;\n    border-radius: 20%;\n    overflow: hidden;\n  }\n\n  .ch-bg-volume-fill {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transform-origin: bottom;\n    will-change: transform;\n    background-color: ",";\n  }\n\n  ","\n  ","\n"])),(function(e){return e.signalStrength&&e.signalStrength<=.5?e.theme.colors.error.light:e.theme.colors.primary.light}),ht,ft);Object(nt.forwardRef)((function(e,t){var n=e.muted,r=void 0!==n&&n,i=e.signalStrength,o=e.className,a=lt(e,["muted","signalStrength","className"]),s=void 0!==i&&i<=.5,c=o?"".concat(o," ch-mic-volume-indicator"):"ch-mic-volume-indicator";return rt.a.createElement(ms,Object.assign({className:c,signalStrength:i,muted:r},a),rt.a.createElement(Jt,{muted:r,className:"ch-mic-icon",poorConnection:s}),rt.a.createElement("div",{className:"ch-bg-volume-wrapper"},rt.a.createElement("div",{ref:t,className:"ch-bg-volume-fill","data-testid":"volume-fill"})))}));Object(nt.createContext)(void 0);var gs=function(){var e=Va(),t=Object(nt.useState)((function(){return e.meetingStatus})),n=Object(et.a)(t,2),r=n[0],i=n[1];return Object(nt.useEffect)((function(){var t=function(e){i(e)};return e.subscribeToMeetingStatus(t),function(){e.unsubscribeFromMeetingStatus(t)}}),[]),r};var bs=["20rem","35.5rem","48rem","64rem","90rem"];bs.xs=bs[0],bs.sm=bs[1],bs.md=bs[2],bs.lg=bs[3],bs.xl=bs[4];var ys={breakpoints:bs,mediaQueries:{min:{xs:"@media screen and (min-width: ".concat(bs.xs,")"),sm:"@media screen and (min-width: ".concat(bs.sm,")"),md:"@media screen and (min-width: ".concat(bs.md,")"),lg:"@media screen and (min-width: ".concat(bs.lg,")"),xl:"@media screen and (min-width: ".concat(bs.xl,")")},max:{xs:"@media screen and (max-width: ".concat(bs.xs,")"),sm:"@media screen and (max-width: ".concat(bs.sm,")"),md:"@media screen and (max-width: ".concat(bs.md,")"),lg:"@media screen and (max-width: ".concat(bs.lg,")"),xl:"@media screen and (max-width: ".concat(bs.xl,")")}},fonts:{body:"'Ember', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;",monospace:"Menlo, monospace"},fontSizes:{baseFontSize:"16px",fontWeight:"normal",h1:{fontSize:"5.3rem",fontWeight:"normal",lineHeight:"5.625rem",mobile:{fontSize:"3.8125rem",fontWeight:"normal",lineHeight:"5.625rem"}},h2:{fontSize:"3.925rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"3.05rem",fontWeight:"normal",lineHeight:"4.5rem"}},h3:{fontSize:"2.44125rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"2.90625rem",fontWeight:"normal",lineHeight:"3rem"}},h4:{fontSize:"1.953125rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"2.15rem",fontWeight:"normal",lineHeight:"3rem"}},h5:{fontSize:"1.5625rem",fontWeight:"normal",lineHeight:"3rem",mobile:{fontSize:"1.59375rem",fontWeight:"normal",lineHeight:"1.875rem"}},h6:{fontSize:"1.25rem",fontWeight:"normal",lineHeight:"1.875rem",mobile:{fontSize:"1.18125rem",fontWeight:"normal",lineHeight:"1.5rem"}},text:{fontSize:"0.875rem",lineHeight:"1.43"},label:{fontSize:"0.875rem",lineHeight:"1.43"},small:{fontSize:"0.75rem",lineHeight:"1.43"},footnote:{fontSize:"0.65rem",lineHeight:"1rem"}},radii:{default:"0.25rem",circle:"50%"},zIndex:{navigation:10,controlBar:15,modal:20,popOver:30,notificationGroup:40},modalSizes:{md:{width:"35rem",height:"94vh"},lg:{width:"50rem",height:"94vh"},fullscreen:{width:"98vw",height:"96vh"}},iconButtonSizes:{sm:"1.5rem",md:"2.5rem",lg:"4rem"}},ws={primary:{lightest:"#88b2ff",lighter:"#5d96ff",light:"#327aff",main:"#075fff",dark:"#004ddb",darker:"#0042bb",darkest:"#002f85"},secondary:{light:"#ff8e74",main:"#ff7654",dark:"#e86c4d"},error:{lightest:"#FCF7F6",lighter:"#F5DDD5",light:"#FF927C",primary:"#C52000",dark:"#9E3319",darker:"#89301A",darkest:"#791800"},success:{lightest:"#EBF1EA",lighter:"#CEE0C8",light:"#50CD49",primary:"#067000",dark:"#305D1D",darker:"#2C511D",darkest:"#184206"},info:{lightest:"#DADFE7",lighter:"#C4CCD9",light:"#418AFD",primary:"#2555A0",dark:"#264A82",darker:"#243F6B",darkest:"#123366"},warning:{lightest:"#FAF8EA",lighter:"#F7E79E",light:"#F9DC60",primary:"#F9CC09",dark:"#665A2A",darker:"#584E26",darkest:"#534201"},greys:{black:"#000000",grey100:"#1b1c20",grey90:"#2e2f34",grey80:"#3f4149",grey70:"#50545e",grey60:"#616672",grey50:"#7d818b",grey40:"#989da5",grey30:"#d4d5d8",grey20:"#e4e9f2",grey10:"#f0f1f2",white:"#ffffff"}},Ss={bgd:ws.greys.white,text:ws.greys.grey80,fontSize:ys.fontSizes.baseFontSize},ks={none:"none",small:"0 0.09375rem 0.0625rem 0 ".concat(bt(ws.greys.grey100,.15)),medium:"0 0.5rem 0.85rem 0 ".concat(bt(ws.greys.black,.15)),large:"0 0.75rem 1.875rem 0 ".concat(bt(ws.greys.black,.15))},Cs={primary:{shadow:ks.none,static:{bgd:ws.primary.light,border:"0.03125rem solid ".concat(ws.primary.darker),text:ws.greys.white,shadow:"none"},hover:{bgd:ws.primary.dark,border:"0.03125rem solid ".concat(ws.primary.darkest),text:ws.greys.white,shadow:"none"},focus:{bgd:ws.primary.dark,border:"0.03125rem solid ".concat(ws.primary.darker),text:ws.greys.white,shadow:"0 0 0 0.25rem ".concat(ws.primary.lightest)},active:{bgd:ws.primary.darker,border:"0.03125rem solid ".concat(ws.greys.black),text:ws.greys.white,shadow:"0 0 0 0.25rem ".concat(ws.primary.lightest)},selected:{bgd:ws.primary.light,border:"0.03125rem solid ".concat(ws.primary.dark),text:ws.greys.white,shadow:"none"},disabled:{bgd:ws.greys.white,border:"0.03125rem solid ".concat(ws.greys.grey10),text:ws.greys.grey40,shadow:"none"}},secondary:{shadow:ks.none,static:{bgd:ws.greys.white,border:"0.03125rem solid ".concat(ws.greys.grey30),text:ws.greys.grey80,shadow:"none"},hover:{bgd:ws.greys.grey10,border:"0.03125rem solid ".concat(ws.greys.grey30),text:ws.greys.grey80,shadow:"none"},focus:{bgd:ws.greys.grey10,border:"0.03125rem solid ".concat(ws.primary.dark),text:ws.greys.grey80,shadow:"0 0 0 0.25rem ".concat(ws.primary.light)},active:{bgd:ws.greys.grey20,border:"0.03125rem solid ".concat(ws.greys.grey40),text:ws.greys.grey80,shadow:"0 0 0 0.25rem ".concat(ws.primary.dark)},selected:{bgd:ws.greys.grey10,border:"0.03125rem solid ".concat(ws.greys.grey30),text:ws.greys.grey80,shadow:"0 0 0 0.25rem ".concat(ws.primary.dark)},disabled:{bgd:ws.greys.white,border:"0.03125rem solid ".concat(ws.greys.grey10),text:ws.greys.grey40,shadow:"none"}},icon:{shadow:ks.none,static:{bgd:"transparent",border:"0.03125rem  solid transparent",text:ws.greys.grey80,shadow:"none"},hover:{bgd:ws.primary.dark,border:"0.03125rem  solid transparent",text:ws.greys.white,shadow:"none"},focus:{bgd:"transparent",border:"0.03125rem  solid ".concat(ws.primary.darker),text:ws.greys.grey80,shadow:"0 0 0 0.25rem ".concat(ws.primary.lightest)},active:{bgd:ws.primary.darker,border:"0.03125rem  solid ".concat(ws.primary.darker),text:ws.greys.white,shadow:"0 0 0 0.25rem ".concat(ws.primary.lightest)},selected:{bgd:ws.primary.light,border:"0.03125rem  solid ".concat(ws.primary.darker),text:ws.greys.white,shadow:"none"},disabled:{bgd:"transparent",border:"none",text:ws.greys.grey40,shadow:"none"}}},Os={bgd:ws.greys.white,border:"0.03125rem solid ".concat(ws.greys.grey30),borderRadius:ys.radii.default,fontColor:ws.greys.grey80,placeholder:ws.greys.grey40,shadow:"0 0.0625rem 0.0625rem 0 ".concat(bt(ws.greys.black,.1)),clearBg:ws.greys.grey50,focus:{bgd:ws.greys.white,border:"solid 0.03125rem ".concat(ws.primary.lighter),shadow:"0 0 0 0.125rem ".concat(ws.primary.lightest)},error:{border:"0.03125rem solid ".concat(ws.error.dark),fontColor:ws.error.primary,shadow:"0 0 0 0.125rem ".concat(ws.error.light)},checked:{bgd:ws.primary.main,border:"solid 0.03125rem ".concat(ws.primary.main),fontColor:ws.greys.white,shadow:"0 0.03125rem 0.03125rem 0 ".concat(bt(ws.primary.dark,.7))}},xs={bgd:ws.greys.white,text:ws.greys.grey80,wrapperBgd:bt(ws.greys.grey50,.9),titleSize:ys.fontSizes.h5.fontSize,titleWeight:"normal",shadow:ks.large,border:ws.greys.grey30},Es={menuBgd:"".concat(bt(ws.greys.grey10,.85)),menuBorder:"0.5px solid ".concat(ws.greys.grey20),shadow:ks.large,itemBgd:"transparent",itemText:ws.greys.grey70,titleText:ws.greys.grey60,active:{itemBgd:ws.primary.dark,itemText:ws.greys.white},disabled:ws.greys.grey40,separator:"".concat(bt(ws.greys.grey40,.3))},_s={shadow:ks.large,error:{text:ws.error.lightest,closeButton:{text:ws.error.lighter,hover:{bgd:ws.error.lighter,text:ws.error.dark},active:{bgd:ws.error.lightest,text:ws.error.darker}}},success:{text:ws.success.lightest,closeButton:{text:ws.success.lighter,hover:{bgd:ws.success.lighter,text:ws.success.dark},active:{bgd:ws.success.lightest,text:ws.success.darker}}},info:{text:ws.info.lightest,closeButton:{text:ws.info.lighter,hover:{bgd:ws.info.lighter,text:ws.info.dark},active:{bgd:ws.info.lightest,text:ws.info.darker}}},warning:{text:ws.warning.darker,closeButton:{text:ws.warning.dark,hover:{bgd:ws.warning.dark,text:ws.greys.white},active:{bgd:ws.warning.darker,text:ws.greys.white}}}},Ts={fontColor:ws.primary.main,fontColorHover:ws.primary.dark,fontColorActive:ws.primary.darker,fontColorVisited:ws.primary.darkest},Is={text:ws.greys.grey70,shadow:ks.large,bgd:ws.greys.white,border:"0.03125rem solid ".concat(ws.greys.grey20),opacity:1,selected:{text:Cs.primary.selected.text,bgd:Cs.primary.selected.bgd}},As={title:ws.greys.grey100,primaryText:ws.greys.grey80,secondaryText:ws.greys.grey50,headerBorder:ws.greys.grey40,containerBorder:ws.greys.grey30,bgd:ws.greys.grey10,fgd:ws.greys.white,shadow:ks.large,maxWidth:"18.5rem"},Ms={text:ws.greys.grey80,bgd:ws.greys.grey10,headerBorder:ws.greys.grey40,wrapperBgd:bt(ws.greys.grey50,.9)},Ps={bgd:ws.greys.white},js={incoming:{bgd:ws.greys.white,fontColor:ws.greys.grey60,linkColor:ws.primary.main,linkColorHover:ws.primary.dark,linkColorActive:ws.primary.darker,linkColorVisited:ws.primary.darkest},outgoing:{bgd:ws.primary.main,fontColor:ws.greys.grey10,linkColor:ws.greys.white,linkColorHover:ws.greys.grey10,linkColorActive:ws.greys.grey20,linkColorVisited:ws.greys.grey30},container:{fontColor:ws.greys.grey70,bgd:ws.greys.grey10}},Rs={size:{fontColor:ws.greys.grey40,bgd:ws.greys.white,letterSpacing:"-0.07px",lineHight:"16px",fontSize:"10.4px"},icon:{bgd:ws.greys.grey10,color:ws.greys.grey80},name:{fontColor:ws.greys.grey80},content:{letterSpacing:"-0.09px",bgd:ws.greys.white,fontColor:ws.greys.grey80}},Ds={bgd:ws.greys.white,fontColor:ws.greys.grey70,border:"1px solid transparent",active:{bgd:ws.primary.dark,fontColor:ws.greys.white},hover:{bgd:ws.greys.grey10},focus:{border:"1px solid ".concat(ws.primary.dark),selectedBorder:"1px solid ".concat(ws.greys.grey10)},selected:{bgd:ws.primary.light,fontColor:ws.greys.white},iconButton:{activeBgd:ws.greys.white}},Ns={bgd:ws.greys.grey60,fontColor:ws.greys.white},Ls=Object.assign({name:"Light Theme",buttons:Cs,colors:ws,globalStyle:Ss,links:Ts,shadows:ks,inputs:Os,modal:xs,popOver:Es,notification:_s,controlBar:Is,roster:As,navbar:Ms,videoGrid:Ps,chatBubble:js,channelList:Ds,chatDateHeader:Ns,messageAttachment:Rs},ys),Fs={primary:{lightest:"#9DEFFB",lighter:"#8AEBFA",light:"#62E5F9",main:"#4FE2F8",dark:"#29DCF8",darker:"#22B6CB",darkest:"#1FA1B5"},secondary:{light:"#FF8B70",main:"#FF9B83",dark:"#FFB4A1"},error:{lightest:"#FBC1C0",lighter:"#FDA8A6",light:"#FD9B99",primary:"#FF8B8A",dark:"#583A39",darker:"#452F2E",darkest:"#302020"},success:{lightest:"#F4FBF1",lighter:"#D2F1C5",light:"#BAF39E",primary:"#A3E881",dark:"#4F6444",darker:"#46573D",darkest:"#324129"},info:{lightest:"#F0F5FD",lighter:"#D8E6FB",light:"#C4DBFF",primary:"#BAD4FF",dark:"#555B69",darker:"#494F59",darkest:"#343C48"},warning:{lightest:"#FDFDF7",lighter:"#3F4149",light:"#FFEB96",primary:"#FBDF64",dark:"#6D653C",darker:"#5E5736",darkest:"#47422D"},greys:{black:"#000000",grey100:"#1b1c20",grey90:"#2e2f34",grey80:"#3f4149",grey70:"#50545e",grey60:"#616672",grey50:"#7d818b",grey40:"#989da5",grey30:"#d4d5d8",grey20:"#e4e9f2",grey10:"#f0f1f2",white:"#ffffff"}},Us={bgd:Fs.greys.grey80,text:Fs.greys.white,fontSize:ys.fontSizes.baseFontSize},Bs={none:"none",small:"",medium:"",large:"0 0.75rem 1.875rem 0 ".concat(bt(Fs.greys.black,.15))},Vs={primary:{shadow:Bs.none,static:{bgd:Fs.primary.main,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"none"},hover:{bgd:Fs.primary.dark,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"none"},focus:{bgd:Fs.primary.dark,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"0 0 0 0.25rem ".concat(Fs.primary.darkest)},active:{bgd:Fs.primary.darker,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"none"},selected:{bgd:Fs.primary.light,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"none"},disabled:{bgd:Fs.greys.grey80,border:"0.03125rem solid ".concat(bt(Fs.greys.black,.4)),text:Fs.greys.grey40,shadow:"none"}},secondary:{shadow:Bs.none,static:{bgd:Fs.greys.grey50,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.white,shadow:"none"},hover:{bgd:Fs.greys.grey60,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.white,shadow:"none"},focus:{bgd:Fs.greys.grey60,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.white,shadow:"0 0 0 0.25rem ".concat(Fs.primary.lighter)},active:{bgd:Fs.greys.grey70,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.white,shadow:"none"},selected:{bgd:Fs.greys.grey60,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.white,shadow:"none"},disabled:{bgd:Fs.greys.grey80,border:"0.03125rem solid ".concat(bt(Fs.greys.black,.6)),text:Fs.greys.grey40,shadow:"none"}},icon:{shadow:Bs.none,static:{bgd:"transparent",border:"0.03125rem solid transparent",text:Fs.greys.grey20,shadow:"none"},hover:{bgd:Fs.primary.dark,border:"0.03125rem  solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"none"},focus:{bgd:"transparent",border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"0 0 0 0.25rem ".concat(Fs.primary.darker)},active:{bgd:Fs.primary.darker,border:"0.03125rem solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"none"},selected:{bgd:Fs.primary.light,border:"0 solid ".concat(Fs.greys.black),text:Fs.greys.grey80,shadow:"none"},disabled:{bgd:"transparent",border:"none",text:Fs.greys.grey40,shadow:"none"}}},zs={bgd:Fs.greys.grey80,border:"0.03125rem solid ".concat(Fs.greys.black),borderRadius:ys.radii.default,fontColor:Fs.greys.white,placeholder:Fs.greys.grey50,shadow:"0 0.0625rem 0.0625rem 0 ".concat(bt(Fs.greys.black,.1)),clearBg:Fs.greys.white,focus:{bgd:Fs.greys.white,border:"solid 0.03125rem ".concat(Fs.primary.main),shadow:"0 0 0 0.125rem ".concat(Fs.primary.lighter)},error:{border:"0.03125rem solid ".concat(Fs.error.primary),fontColor:Fs.error.primary,shadow:"0 0 0 0.125rem ".concat(Fs.error.light)},checked:{bgd:Fs.primary.main,border:"solid 0.03125rem ".concat(Fs.primary.dark),fontColor:Fs.greys.grey80,shadow:"inset 0 0.03125rem 0 0 ".concat(bt(Fs.greys.white,.1))}},Hs={bgd:Fs.greys.grey80,text:Fs.greys.white,wrapperBgd:bt(Fs.greys.grey60,.9),titleSize:ys.fontSizes.h5.fontSize,titleWeight:"normal",shadow:"0 1rem 2rem 0 rgba(0, 0, 0, ".concat(bt(Fs.greys.black,.15),")"),border:Fs.greys.black},Ws={menuBgd:"".concat(bt(Fs.greys.grey90,.85)),menuBorder:Fs.greys.grey100,shadow:Bs.large,itemBgd:"transparent",itemText:Fs.greys.white,titleText:Fs.greys.white,active:{itemBgd:Fs.primary.dark,itemText:Fs.greys.grey80},disabled:Fs.greys.grey40,separator:Fs.greys.grey100},qs={shadow:Bs.large,error:{text:Fs.error.darker,closeButton:{text:Fs.error.dark,hover:{bgd:Fs.error.dark,text:Fs.greys.white},active:{bgd:Fs.error.darker,text:Fs.greys.white}}},success:{text:Fs.success.darker,closeButton:{text:Fs.success.dark,hover:{bgd:Fs.success.dark,text:Fs.greys.white},active:{bgd:Fs.success.darker,text:Fs.greys.white}}},info:{text:Fs.info.darker,closeButton:{text:Fs.info.dark,hover:{bgd:Fs.info.dark,text:Fs.greys.white},active:{bgd:Fs.info.darker,text:Fs.greys.white}}},warning:{text:Fs.warning.darker,closeButton:{text:Fs.warning.dark,hover:{bgd:Fs.warning.dark,text:Fs.greys.white},active:{bgd:Fs.warning.darker,text:Fs.greys.white}}}},Ks={fontColor:Fs.primary.main,fontColorHover:Fs.primary.dark,fontColorActive:Fs.primary.darker,fontColorVisited:Fs.primary.darkest},Gs={text:Fs.greys.grey20,shadow:Bs.large,bgd:Fs.greys.grey100,border:"none",opacity:1,selected:{text:Vs.primary.selected.text,bgd:Vs.primary.selected.bgd}},Js={title:Fs.greys.white,primaryText:Fs.greys.white,secondaryText:Fs.greys.grey20,headerBorder:Fs.greys.black,containerBorder:Fs.greys.black,bgd:Fs.greys.grey100,fgd:Fs.greys.grey60,shadow:Bs.large,maxWidth:"18.5rem"},$s={text:Fs.greys.white,bgd:Fs.greys.grey100,headerBorder:Fs.greys.black,wrapperBgd:bt(Fs.greys.grey60,.9)},Ys={bgd:Fs.greys.grey90},Qs={incoming:{bgd:Fs.greys.grey80,fontColor:Fs.greys.grey30,linkColor:Fs.primary.main,linkColorHover:Fs.primary.dark,linkColorActive:Fs.primary.darker,linkColorVisited:Fs.primary.darkest},outgoing:{bgd:Fs.primary.dark,fontColor:Fs.greys.grey70,linkColor:Fs.greys.grey80,linkColorHover:Fs.greys.grey70,linkColorActive:Fs.greys.grey60,linkColorVisited:Fs.greys.grey50},container:{fontColor:Fs.greys.grey30,bgd:Fs.greys.black}},Zs={size:{fontColor:Fs.greys.grey30,bgd:Fs.greys.grey10,letterSpacing:"-0.07px",lineHight:"16px",fontSize:"10.4px"},icon:{bgd:Fs.greys.grey40,color:Fs.greys.grey10},name:{fontColor:Fs.greys.white},content:{letterSpacing:"-0.09px",bgd:Fs.greys.grey60,fontColor:Fs.greys.white}},Xs={bgd:Fs.greys.grey80,fontColor:Fs.greys.grey10,border:"1px solid transparent",active:{bgd:Fs.primary.dark,fontColor:Fs.greys.grey70},hover:{bgd:Fs.greys.grey70},focus:{border:"1px solid ".concat(Fs.primary.dark),selectedBorder:"1px solid ".concat(Fs.greys.grey70)},selected:{bgd:Fs.primary.light,fontColor:Fs.greys.grey70},iconButton:{activeBgd:Fs.greys.grey80}},ec={bgd:Fs.greys.grey10,fontColor:Fs.greys.grey80},tc=(Object.assign({name:"Dark Theme",buttons:Vs,colors:Fs,globalStyle:Us,links:Ks,shadows:Bs,inputs:zs,modal:Hs,popOver:Ws,notification:qs,controlBar:Gs,roster:Js,navbar:$s,videoGrid:Ys,chatBubble:Qs,channelList:Xs,chatDateHeader:ec,messageAttachment:Zs},ys),Object(it.c)(Ke||(Ke=Object(tt.a)(["\n  /* http://meyerweb.com/eric/tools/css/reset/\n    v2.0 | 20110126\n    License: none (public domain)\n  */\n\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n"]))));Object(it.b)(Ge||(Ge=Object(tt.a)(["\n  ",";\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  html {\n    font-size: ",";\n    font-family: ",";;\n    background-color: ",";\n    color: ",";\n    min-height: 100%;\n  }\n"])),tc,(function(e){return e.theme.fontSizes.baseFontSize}),(function(e){return e.theme.fonts.body}),(function(e){return e.theme.globalStyle.bgd}),(function(e){return e.theme.globalStyle.text}))}).call(this,n(34))},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(180),c=n(135),u=function(){function e(t){i(this,e),this.logger=t,this.taskName="BaseTask",this.parentTask=null,this.status=c.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}return o(e,[{key:"once",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new s.default(this.logger,this,t)}},{key:"cancel",value:function(){}},{key:"name",value:function(){return this.parentTask?"".concat(this.parentTask.name(),"/").concat(this.taskName):this.taskName}},{key:"setParent",value:function(e){this.parentTask=e}},{key:"getStatus",value:function(){return this.status}},{key:"logAndThrow",value:function(e){throw this.logger.info(e),new Error(e)}},{key:"baseRun",value:function(e){return a(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:switch(t.prev=0,n=Date.now(),this.logger.info("running task ".concat(this.name())),this.status){case c.default.RUNNING:this.logAndThrow("".concat(this.name()," is already running"));case c.default.CANCELED:this.logAndThrow("".concat(this.name()," was canceled before running"));case c.default.FINISHED:this.logAndThrow("".concat(this.name()," was already finished"))}return this.status=c.default.RUNNING,t.next=7,e.call(this);case 7:this.logger.info("".concat(this.name()," took ").concat(Math.round(Date.now()-n)," ms")),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:return t.prev=13,this.status!==c.default.CANCELED&&(this.status=c.default.FINISHED),t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[0,10,13,16]])})))}},{key:"baseCancel",value:function(e){this.status!==c.default.CANCELED&&this.status!==c.default.FINISHED?(this.logger.info("canceling task ".concat(this.name())),this.status=c.default.CANCELED,e.call(this)):this.logger.info("Not canceling ".concat(this.name(),": state is ").concat(this.status))}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(498),i=n(500);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),d=["%","/","?",";","#"].concat(l),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(501);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(s);if(y=y.trim(),!n&&1===e.split("#").length){var w=c.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=a.exec(y);if(S){var k=(S=S[0]).toLowerCase();this.protocol=k,y=y.substr(S.length)}if(n||S||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===y.substr(0,2);!C||S&&m[S]||(y=y.substr(2),this.slashes=!0)}if(!m[S]&&(C||S&&!g[S])){for(var O,x,E=-1,_=0;_<f.length;_++){-1!==(T=y.indexOf(f[_]))&&(-1===E||T<E)&&(E=T)}-1!==(x=-1===E?y.lastIndexOf("@"):y.lastIndexOf("@",E))&&(O=y.slice(0,x),y=y.slice(x+1),this.auth=decodeURIComponent(O)),E=-1;for(_=0;_<d.length;_++){var T;-1!==(T=y.indexOf(d[_]))&&(-1===E||T<E)&&(E=T)}-1===E&&(E=y.length),this.host=y.slice(0,E),y=y.slice(E),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var A=this.hostname.split(/\./),M=(_=0,A.length);_<M;_++){var P=A[_];if(P&&!P.match(h)){for(var j="",R=0,D=P.length;R<D;R++)P.charCodeAt(R)>127?j+="x":j+=P[R];if(!j.match(h)){var N=A.slice(0,_),L=A.slice(_+1),F=P.match(p);F&&(N.push(F[1]),L.unshift(F[2])),L.length&&(y="/"+L.join(".")+y),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+U,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!v[k])for(_=0,M=l.length;_<M;_++){var V=l[_];if(-1!==y.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),y=y.split(V).join(z)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),g[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var q=this.search||"";this.path=U+q}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var h=d[f];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",b=n.search||"";n.path=v+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||y||n.host&&e.pathname,k=S,C=n.pathname&&n.pathname.split("/")||[],O=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(O&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),S=S&&(""===p[0]||""===C[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=p;else if(p.length)C||(C=[]),C.pop(),C=C.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(O)n.hostname=n.host=C.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=C.slice(-1)[0],E=(n.host||e.host||C.length>1)&&("."===x||".."===x)||""===x,_=0,T=C.length;T>=0;T--)"."===(x=C[T])?C.splice(T,1):".."===x?(C.splice(T,1),_++):_&&(C.splice(T,1),_--);if(!S&&!k)for(;_--;_)C.unshift("..");!S||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),E&&"/"!==C.join("/").substr(-1)&&C.push("");var I,A=""===C[0]||C[0]&&"/"===C[0].charAt(0);O&&(n.hostname=n.host=A?"":C.length?C.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(S=S||n.host&&C.length)&&!A&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var r=n(390),i=r.Reader,o=r.Writer,a=r.util,s=r.roots.default||(r.roots.default={});s.SdkSignalFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.timestampMs=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.type=1,e.prototype.error=null,e.prototype.join=null,e.prototype.joinack=null,e.prototype.sub=null,e.prototype.suback=null,e.prototype.index=null,e.prototype.pause=null,e.prototype.leave=null,e.prototype.leaveAck=null,e.prototype.bitrates=null,e.prototype.audioControl=null,e.prototype.audioMetadata=null,e.prototype.audioStreamIdInfo=null,e.prototype.pingPong=null,e.prototype.audioStatus=null,e.prototype.clientMetric=null,e.prototype.dataMessage=null,e.prototype.remoteVideoUpdate=null,e.prototype.primaryMeetingJoin=null,e.prototype.primaryMeetingJoinAck=null,e.prototype.primaryMeetingLeave=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),null!=e.error&&Object.hasOwnProperty.call(e,"error")&&s.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),null!=e.join&&Object.hasOwnProperty.call(e,"join")&&s.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),null!=e.joinack&&Object.hasOwnProperty.call(e,"joinack")&&s.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),null!=e.sub&&Object.hasOwnProperty.call(e,"sub")&&s.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),null!=e.suback&&Object.hasOwnProperty.call(e,"suback")&&s.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&s.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),null!=e.pause&&Object.hasOwnProperty.call(e,"pause")&&s.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),null!=e.leave&&Object.hasOwnProperty.call(e,"leave")&&s.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),null!=e.leaveAck&&Object.hasOwnProperty.call(e,"leaveAck")&&s.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),null!=e.bitrates&&Object.hasOwnProperty.call(e,"bitrates")&&s.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),null!=e.audioControl&&Object.hasOwnProperty.call(e,"audioControl")&&s.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),null!=e.audioMetadata&&Object.hasOwnProperty.call(e,"audioMetadata")&&s.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),null!=e.audioStreamIdInfo&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&s.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),null!=e.pingPong&&Object.hasOwnProperty.call(e,"pingPong")&&s.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),null!=e.audioStatus&&Object.hasOwnProperty.call(e,"audioStatus")&&s.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),null!=e.clientMetric&&Object.hasOwnProperty.call(e,"clientMetric")&&s.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),null!=e.dataMessage&&Object.hasOwnProperty.call(e,"dataMessage")&&s.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),null!=e.remoteVideoUpdate&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&s.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),null!=e.primaryMeetingJoin&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&s.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),null!=e.primaryMeetingJoinAck&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&s.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),null!=e.primaryMeetingLeave&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&s.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkSignalFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.timestampMs=e.uint64();break;case 2:r.type=e.int32();break;case 3:r.error=s.SdkErrorFrame.decode(e,e.uint32());break;case 4:r.join=s.SdkJoinFrame.decode(e,e.uint32());break;case 5:r.joinack=s.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:r.sub=s.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:r.suback=s.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:r.index=s.SdkIndexFrame.decode(e,e.uint32());break;case 10:r.pause=s.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:r.leave=s.SdkLeaveFrame.decode(e,e.uint32());break;case 12:r.leaveAck=s.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:r.bitrates=s.SdkBitrateFrame.decode(e,e.uint32());break;case 17:r.audioControl=s.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:r.audioMetadata=s.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:r.audioStreamIdInfo=s.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:r.pingPong=s.SdkPingPongFrame.decode(e,e.uint32());break;case 21:r.audioStatus=s.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:r.clientMetric=s.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:r.dataMessage=s.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:r.remoteVideoUpdate=s.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:r.primaryMeetingJoin=s.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:r.primaryMeetingJoinAck=s.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:r.primaryMeetingLeave=s.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("timestampMs"))throw a.ProtocolError("missing required 'timestampMs'",{instance:r});if(!r.hasOwnProperty("type"))throw a.ProtocolError("missing required 'type'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!a.isInteger(e.timestampMs)&&!(e.timestampMs&&a.isInteger(e.timestampMs.low)&&a.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:}var t;if(null!=e.error&&e.hasOwnProperty("error")&&(t=s.SdkErrorFrame.verify(e.error)))return"error."+t;if(null!=e.join&&e.hasOwnProperty("join")&&(t=s.SdkJoinFrame.verify(e.join)))return"join."+t;if(null!=e.joinack&&e.hasOwnProperty("joinack")&&(t=s.SdkJoinAckFrame.verify(e.joinack)))return"joinack."+t;if(null!=e.sub&&e.hasOwnProperty("sub")&&(t=s.SdkSubscribeFrame.verify(e.sub)))return"sub."+t;if(null!=e.suback&&e.hasOwnProperty("suback")&&(t=s.SdkSubscribeAckFrame.verify(e.suback)))return"suback."+t;if(null!=e.index&&e.hasOwnProperty("index")&&(t=s.SdkIndexFrame.verify(e.index)))return"index."+t;if(null!=e.pause&&e.hasOwnProperty("pause")&&(t=s.SdkPauseResumeFrame.verify(e.pause)))return"pause."+t;if(null!=e.leave&&e.hasOwnProperty("leave")&&(t=s.SdkLeaveFrame.verify(e.leave)))return"leave."+t;if(null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&(t=s.SdkLeaveAckFrame.verify(e.leaveAck)))return"leaveAck."+t;if(null!=e.bitrates&&e.hasOwnProperty("bitrates")&&(t=s.SdkBitrateFrame.verify(e.bitrates)))return"bitrates."+t;if(null!=e.audioControl&&e.hasOwnProperty("audioControl")&&(t=s.SdkAudioControlFrame.verify(e.audioControl)))return"audioControl."+t;if(null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&(t=s.SdkAudioMetadataFrame.verify(e.audioMetadata)))return"audioMetadata."+t;if(null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&(t=s.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo)))return"audioStreamIdInfo."+t;if(null!=e.pingPong&&e.hasOwnProperty("pingPong")&&(t=s.SdkPingPongFrame.verify(e.pingPong)))return"pingPong."+t;if(null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(t=s.SdkAudioStatusFrame.verify(e.audioStatus)))return"audioStatus."+t;if(null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&(t=s.SdkClientMetricFrame.verify(e.clientMetric)))return"clientMetric."+t;if(null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&(t=s.SdkDataMessageFrame.verify(e.dataMessage)))return"dataMessage."+t;if(null!=e.remoteVideoUpdate&&e.hasOwnProperty("remoteVideoUpdate")&&(t=s.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate)))return"remoteVideoUpdate."+t;if(null!=e.primaryMeetingJoin&&e.hasOwnProperty("primaryMeetingJoin")&&(t=s.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin)))return"primaryMeetingJoin."+t;if(null!=e.primaryMeetingJoinAck&&e.hasOwnProperty("primaryMeetingJoinAck")&&(t=s.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck)))return"primaryMeetingJoinAck."+t;if(null!=e.primaryMeetingLeave&&e.hasOwnProperty("primaryMeetingLeave")&&(t=s.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave)))return"primaryMeetingLeave."+t;return null},e.fromObject=function(e){if(e instanceof s.SdkSignalFrame)return e;var t=new s.SdkSignalFrame;switch(null!=e.timestampMs&&(a.Long?(t.timestampMs=a.Long.fromValue(e.timestampMs)).unsigned=!0:"string"===typeof e.timestampMs?t.timestampMs=parseInt(e.timestampMs,10):"number"===typeof e.timestampMs?t.timestampMs=e.timestampMs:"object"===typeof e.timestampMs&&(t.timestampMs=new a.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27}if(null!=e.error){if("object"!==typeof e.error)throw TypeError(".SdkSignalFrame.error: object expected");t.error=s.SdkErrorFrame.fromObject(e.error)}if(null!=e.join){if("object"!==typeof e.join)throw TypeError(".SdkSignalFrame.join: object expected");t.join=s.SdkJoinFrame.fromObject(e.join)}if(null!=e.joinack){if("object"!==typeof e.joinack)throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=s.SdkJoinAckFrame.fromObject(e.joinack)}if(null!=e.sub){if("object"!==typeof e.sub)throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=s.SdkSubscribeFrame.fromObject(e.sub)}if(null!=e.suback){if("object"!==typeof e.suback)throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=s.SdkSubscribeAckFrame.fromObject(e.suback)}if(null!=e.index){if("object"!==typeof e.index)throw TypeError(".SdkSignalFrame.index: object expected");t.index=s.SdkIndexFrame.fromObject(e.index)}if(null!=e.pause){if("object"!==typeof e.pause)throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=s.SdkPauseResumeFrame.fromObject(e.pause)}if(null!=e.leave){if("object"!==typeof e.leave)throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=s.SdkLeaveFrame.fromObject(e.leave)}if(null!=e.leaveAck){if("object"!==typeof e.leaveAck)throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=s.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(null!=e.bitrates){if("object"!==typeof e.bitrates)throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=s.SdkBitrateFrame.fromObject(e.bitrates)}if(null!=e.audioControl){if("object"!==typeof e.audioControl)throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=s.SdkAudioControlFrame.fromObject(e.audioControl)}if(null!=e.audioMetadata){if("object"!==typeof e.audioMetadata)throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=s.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(null!=e.audioStreamIdInfo){if("object"!==typeof e.audioStreamIdInfo)throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=s.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(null!=e.pingPong){if("object"!==typeof e.pingPong)throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=s.SdkPingPongFrame.fromObject(e.pingPong)}if(null!=e.audioStatus){if("object"!==typeof e.audioStatus)throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=s.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(null!=e.clientMetric){if("object"!==typeof e.clientMetric)throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=s.SdkClientMetricFrame.fromObject(e.clientMetric)}if(null!=e.dataMessage){if("object"!==typeof e.dataMessage)throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=s.SdkDataMessageFrame.fromObject(e.dataMessage)}if(null!=e.remoteVideoUpdate){if("object"!==typeof e.remoteVideoUpdate)throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=s.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(null!=e.primaryMeetingJoin){if("object"!==typeof e.primaryMeetingJoin)throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=s.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(null!=e.primaryMeetingJoinAck){if("object"!==typeof e.primaryMeetingJoinAck)throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=s.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(null!=e.primaryMeetingLeave){if("object"!==typeof e.primaryMeetingLeave)throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=s.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var r=new a.Long(0,0,!0);n.timestampMs=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.timestampMs=t.longs===String?"0":0;n.type=t.enums===String?"JOIN":1,n.error=null,n.join=null,n.joinack=null,n.sub=null,n.suback=null,n.index=null,n.pause=null,n.leave=null,n.leaveAck=null,n.bitrates=null,n.audioControl=null,n.audioMetadata=null,n.audioStreamIdInfo=null,n.pingPong=null,n.audioStatus=null,n.clientMetric=null,n.dataMessage=null,n.remoteVideoUpdate=null,n.primaryMeetingJoin=null,n.primaryMeetingJoinAck=null,n.primaryMeetingLeave=null}return null!=e.timestampMs&&e.hasOwnProperty("timestampMs")&&("number"===typeof e.timestampMs?n.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:n.timestampMs=t.longs===String?a.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new a.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.SdkSignalFrame.Type[e.type]:e.type),null!=e.error&&e.hasOwnProperty("error")&&(n.error=s.SdkErrorFrame.toObject(e.error,t)),null!=e.join&&e.hasOwnProperty("join")&&(n.join=s.SdkJoinFrame.toObject(e.join,t)),null!=e.joinack&&e.hasOwnProperty("joinack")&&(n.joinack=s.SdkJoinAckFrame.toObject(e.joinack,t)),null!=e.sub&&e.hasOwnProperty("sub")&&(n.sub=s.SdkSubscribeFrame.toObject(e.sub,t)),null!=e.suback&&e.hasOwnProperty("suback")&&(n.suback=s.SdkSubscribeAckFrame.toObject(e.suback,t)),null!=e.index&&e.hasOwnProperty("index")&&(n.index=s.SdkIndexFrame.toObject(e.index,t)),null!=e.pause&&e.hasOwnProperty("pause")&&(n.pause=s.SdkPauseResumeFrame.toObject(e.pause,t)),null!=e.leave&&e.hasOwnProperty("leave")&&(n.leave=s.SdkLeaveFrame.toObject(e.leave,t)),null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&(n.leaveAck=s.SdkLeaveAckFrame.toObject(e.leaveAck,t)),null!=e.bitrates&&e.hasOwnProperty("bitrates")&&(n.bitrates=s.SdkBitrateFrame.toObject(e.bitrates,t)),null!=e.audioControl&&e.hasOwnProperty("audioControl")&&(n.audioControl=s.SdkAudioControlFrame.toObject(e.audioControl,t)),null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&(n.audioMetadata=s.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&(n.audioStreamIdInfo=s.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),null!=e.pingPong&&e.hasOwnProperty("pingPong")&&(n.pingPong=s.SdkPingPongFrame.toObject(e.pingPong,t)),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=s.SdkAudioStatusFrame.toObject(e.audioStatus,t)),null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&(n.clientMetric=s.SdkClientMetricFrame.toObject(e.clientMetric,t)),null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&(n.dataMessage=s.SdkDataMessageFrame.toObject(e.dataMessage,t)),null!=e.remoteVideoUpdate&&e.hasOwnProperty("remoteVideoUpdate")&&(n.remoteVideoUpdate=s.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),null!=e.primaryMeetingJoin&&e.hasOwnProperty("primaryMeetingJoin")&&(n.primaryMeetingJoin=s.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),null!=e.primaryMeetingJoinAck&&e.hasOwnProperty("primaryMeetingJoinAck")&&(n.primaryMeetingJoinAck=s.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),null!=e.primaryMeetingLeave&&e.hasOwnProperty("primaryMeetingLeave")&&(n.primaryMeetingLeave=s.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="JOIN"]=1,t[e[2]="JOIN_ACK"]=2,t[e[3]="SUBSCRIBE"]=3,t[e[4]="SUBSCRIBE_ACK"]=4,t[e[5]="INDEX"]=5,t[e[7]="PAUSE"]=7,t[e[8]="RESUME"]=8,t[e[9]="LEAVE"]=9,t[e[10]="LEAVE_ACK"]=10,t[e[13]="BITRATES"]=13,t[e[16]="AUDIO_CONTROL"]=16,t[e[17]="AUDIO_METADATA"]=17,t[e[18]="AUDIO_STREAM_ID_INFO"]=18,t[e[19]="PING_PONG"]=19,t[e[20]="AUDIO_STATUS"]=20,t[e[21]="CLIENT_METRIC"]=21,t[e[22]="DATA_MESSAGE"]=22,t[e[24]="REMOTE_VIDEO_UPDATE"]=24,t[e[25]="PRIMARY_MEETING_JOIN"]=25,t[e[26]="PRIMARY_MEETING_JOIN_ACK"]=26,t[e[27]="PRIMARY_MEETING_LEAVE"]=27,t}(),e}(),s.SdkErrorFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.status=0,e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkErrorFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.status=e.uint32();break;case 2:r.description=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.status&&e.hasOwnProperty("status")&&!a.isInteger(e.status)?"status: integer expected":null!=e.description&&e.hasOwnProperty("description")&&!a.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof s.SdkErrorFrame)return e;var t=new s.SdkErrorFrame;return null!=e.status&&(t.status=e.status>>>0),null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.status=0,n.description=""),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkJoinFlags=function(){var e={},t=Object.create(e);return t[e[2]="HAS_STREAM_UPDATE"]=2,t[e[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,t[e[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,t}(),s.SdkClientDetails=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.appName="",e.prototype.appVersion="",e.prototype.deviceModel="",e.prototype.deviceMake="",e.prototype.platformName="",e.prototype.platformVersion="",e.prototype.clientSource="",e.prototype.chimeSdkVersion="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.appName&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),null!=e.appVersion&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),null!=e.deviceModel&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),null!=e.deviceMake&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),null!=e.platformName&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),null!=e.platformVersion&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),null!=e.clientSource&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),null!=e.chimeSdkVersion&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkClientDetails;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.appName=e.string();break;case 2:r.appVersion=e.string();break;case 3:r.deviceModel=e.string();break;case 4:r.deviceMake=e.string();break;case 5:r.platformName=e.string();break;case 6:r.platformVersion=e.string();break;case 7:r.clientSource=e.string();break;case 8:r.chimeSdkVersion=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.appName&&e.hasOwnProperty("appName")&&!a.isString(e.appName)?"appName: string expected":null!=e.appVersion&&e.hasOwnProperty("appVersion")&&!a.isString(e.appVersion)?"appVersion: string expected":null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&!a.isString(e.deviceModel)?"deviceModel: string expected":null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&!a.isString(e.deviceMake)?"deviceMake: string expected":null!=e.platformName&&e.hasOwnProperty("platformName")&&!a.isString(e.platformName)?"platformName: string expected":null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&!a.isString(e.platformVersion)?"platformVersion: string expected":null!=e.clientSource&&e.hasOwnProperty("clientSource")&&!a.isString(e.clientSource)?"clientSource: string expected":null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&!a.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":null},e.fromObject=function(e){if(e instanceof s.SdkClientDetails)return e;var t=new s.SdkClientDetails;return null!=e.appName&&(t.appName=String(e.appName)),null!=e.appVersion&&(t.appVersion=String(e.appVersion)),null!=e.deviceModel&&(t.deviceModel=String(e.deviceModel)),null!=e.deviceMake&&(t.deviceMake=String(e.deviceMake)),null!=e.platformName&&(t.platformName=String(e.platformName)),null!=e.platformVersion&&(t.platformVersion=String(e.platformVersion)),null!=e.clientSource&&(t.clientSource=String(e.clientSource)),null!=e.chimeSdkVersion&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.appName="",n.appVersion="",n.deviceModel="",n.deviceMake="",n.platformName="",n.platformVersion="",n.clientSource="",n.chimeSdkVersion=""),null!=e.appName&&e.hasOwnProperty("appName")&&(n.appName=e.appName),null!=e.appVersion&&e.hasOwnProperty("appVersion")&&(n.appVersion=e.appVersion),null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&(n.deviceModel=e.deviceModel),null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&(n.deviceMake=e.deviceMake),null!=e.platformName&&e.hasOwnProperty("platformName")&&(n.platformName=e.platformName),null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&(n.platformVersion=e.platformVersion),null!=e.clientSource&&e.hasOwnProperty("clientSource")&&(n.clientSource=e.clientSource),null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&(n.chimeSdkVersion=e.chimeSdkVersion),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkServerSideNetworkAdaption=function(){var e={},t=Object.create(e);return t[e[1]="DEFAULT"]=1,t[e[2]="NONE"]=2,t[e[3]="BANDWIDTH_PROBING"]=3,t}(),s.SdkJoinFrame=function(){function e(e){if(this.supportedServerSideNetworkAdaptions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.protocolVersion=2,e.prototype.maxNumOfVideos=0,e.prototype.flags=0,e.prototype.clientDetails=null,e.prototype.audioSessionId=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.wantsCompressedSdp=!1,e.prototype.wantsServerSideNetworkProbingOnReceiveSideEstimator=!1,e.prototype.serverSideNetworkAdaption=1,e.prototype.supportedServerSideNetworkAdaptions=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.protocolVersion&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),null!=e.maxNumOfVideos&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),null!=e.clientDetails&&Object.hasOwnProperty.call(e,"clientDetails")&&s.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),null!=e.audioSessionId&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),null!=e.wantsCompressedSdp&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),null!=e.wantsServerSideNetworkProbingOnReceiveSideEstimator&&Object.hasOwnProperty.call(e,"wantsServerSideNetworkProbingOnReceiveSideEstimator")&&t.uint32(64).bool(e.wantsServerSideNetworkProbingOnReceiveSideEstimator),null!=e.serverSideNetworkAdaption&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),null!=e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length)for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkJoinFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.protocolVersion=e.uint32();break;case 2:r.maxNumOfVideos=e.uint32();break;case 3:r.flags=e.uint32();break;case 4:r.clientDetails=s.SdkClientDetails.decode(e,e.uint32());break;case 6:r.audioSessionId=e.uint64();break;case 7:r.wantsCompressedSdp=e.bool();break;case 8:r.wantsServerSideNetworkProbingOnReceiveSideEstimator=e.bool();break;case 10:r.serverSideNetworkAdaption=e.int32();break;case 11:if(r.supportedServerSideNetworkAdaptions&&r.supportedServerSideNetworkAdaptions.length||(r.supportedServerSideNetworkAdaptions=[]),2===(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)r.supportedServerSideNetworkAdaptions.push(e.int32());else r.supportedServerSideNetworkAdaptions.push(e.int32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&!a.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&!a.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(null!=e.flags&&e.hasOwnProperty("flags")&&!a.isInteger(e.flags))return"flags: integer expected";if(null!=e.clientDetails&&e.hasOwnProperty("clientDetails")){var t=s.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&!a.isInteger(e.audioSessionId)&&!(e.audioSessionId&&a.isInteger(e.audioSessionId.low)&&a.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&"boolean"!==typeof e.wantsCompressedSdp)return"wantsCompressedSdp: boolean expected";if(null!=e.wantsServerSideNetworkProbingOnReceiveSideEstimator&&e.hasOwnProperty("wantsServerSideNetworkProbingOnReceiveSideEstimator")&&"boolean"!==typeof e.wantsServerSideNetworkProbingOnReceiveSideEstimator)return"wantsServerSideNetworkProbingOnReceiveSideEstimator: boolean expected";if(null!=e.serverSideNetworkAdaption&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:}if(null!=e.supportedServerSideNetworkAdaptions&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:}}return null},e.fromObject=function(e){if(e instanceof s.SdkJoinFrame)return e;var t=new s.SdkJoinFrame;if(null!=e.protocolVersion&&(t.protocolVersion=e.protocolVersion>>>0),null!=e.maxNumOfVideos&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.clientDetails){if("object"!==typeof e.clientDetails)throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=s.SdkClientDetails.fromObject(e.clientDetails)}switch(null!=e.audioSessionId&&(a.Long?(t.audioSessionId=a.Long.fromValue(e.audioSessionId)).unsigned=!0:"string"===typeof e.audioSessionId?t.audioSessionId=parseInt(e.audioSessionId,10):"number"===typeof e.audioSessionId?t.audioSessionId=e.audioSessionId:"object"===typeof e.audioSessionId&&(t.audioSessionId=new a.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),null!=e.wantsCompressedSdp&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),null!=e.wantsServerSideNetworkProbingOnReceiveSideEstimator&&(t.wantsServerSideNetworkProbingOnReceiveSideEstimator=Boolean(e.wantsServerSideNetworkProbingOnReceiveSideEstimator)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[n]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[n]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[n]=3}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.supportedServerSideNetworkAdaptions=[]),t.defaults){if(n.protocolVersion=2,n.maxNumOfVideos=0,n.flags=0,n.clientDetails=null,a.Long){var r=new a.Long(0,0,!0);n.audioSessionId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.audioSessionId=t.longs===String?"0":0;n.wantsCompressedSdp=!1,n.wantsServerSideNetworkProbingOnReceiveSideEstimator=!1,n.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1}if(null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&(n.maxNumOfVideos=e.maxNumOfVideos),null!=e.flags&&e.hasOwnProperty("flags")&&(n.flags=e.flags),null!=e.clientDetails&&e.hasOwnProperty("clientDetails")&&(n.clientDetails=s.SdkClientDetails.toObject(e.clientDetails,t)),null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&("number"===typeof e.audioSessionId?n.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:n.audioSessionId=t.longs===String?a.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new a.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),null!=e.wantsServerSideNetworkProbingOnReceiveSideEstimator&&e.hasOwnProperty("wantsServerSideNetworkProbingOnReceiveSideEstimator")&&(n.wantsServerSideNetworkProbingOnReceiveSideEstimator=e.wantsServerSideNetworkProbingOnReceiveSideEstimator),null!=e.serverSideNetworkAdaption&&e.hasOwnProperty("serverSideNetworkAdaption")&&(n.serverSideNetworkAdaption=t.enums===String?s.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){n.supportedServerSideNetworkAdaptions=[];for(var i=0;i<e.supportedServerSideNetworkAdaptions.length;++i)n.supportedServerSideNetworkAdaptions[i]=t.enums===String?s.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[i]]:e.supportedServerSideNetworkAdaptions[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkJoinAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.turnCredentials=null,e.prototype.videoSubscriptionLimit=0,e.prototype.wantsCompressedSdp=!1,e.prototype.defaultServerSideNetworkAdaption=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.turnCredentials&&Object.hasOwnProperty.call(e,"turnCredentials")&&s.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),null!=e.videoSubscriptionLimit&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),null!=e.wantsCompressedSdp&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),null!=e.defaultServerSideNetworkAdaption&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkJoinAckFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.turnCredentials=s.SdkTurnCredentials.decode(e,e.uint32());break;case 2:r.videoSubscriptionLimit=e.uint32();break;case 3:r.wantsCompressedSdp=e.bool();break;case 4:r.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")){var t=s.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(null!=e.videoSubscriptionLimit&&e.hasOwnProperty("videoSubscriptionLimit")&&!a.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&"boolean"!==typeof e.wantsCompressedSdp)return"wantsCompressedSdp: boolean expected";if(null!=e.defaultServerSideNetworkAdaption&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof s.SdkJoinAckFrame)return e;var t=new s.SdkJoinAckFrame;if(null!=e.turnCredentials){if("object"!==typeof e.turnCredentials)throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=s.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(null!=e.videoSubscriptionLimit&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),null!=e.wantsCompressedSdp&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.turnCredentials=null,n.videoSubscriptionLimit=0,n.wantsCompressedSdp=!1,n.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")&&(n.turnCredentials=s.SdkTurnCredentials.toObject(e.turnCredentials,t)),null!=e.videoSubscriptionLimit&&e.hasOwnProperty("videoSubscriptionLimit")&&(n.videoSubscriptionLimit=e.videoSubscriptionLimit),null!=e.wantsCompressedSdp&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),null!=e.defaultServerSideNetworkAdaption&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(n.defaultServerSideNetworkAdaption=t.enums===String?s.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkLeaveFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkLeaveFrame;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof s.SdkLeaveFrame?e:new s.SdkLeaveFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkLeaveAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkLeaveAckFrame;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof s.SdkLeaveAckFrame?e:new s.SdkLeaveAckFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkStreamServiceType=function(){var e={},t=Object.create(e);return t[e[1]="RX"]=1,t[e[2]="TX"]=2,t[e[3]="DUPLEX"]=3,t}(),s.SdkStreamMediaType=function(){var e={},t=Object.create(e);return t[e[1]="AUDIO"]=1,t[e[2]="VIDEO"]=2,t}(),s.SdkSubscribeFrame=function(){function e(e){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.duplex=1,e.prototype.sendStreams=a.emptyArray,e.prototype.receiveStreamIds=a.emptyArray,e.prototype.sdpOffer="",e.prototype.audioHost="",e.prototype.audioCheckin=!1,e.prototype.audioMuted=!1,e.prototype.compressedSdpOffer=a.newBuffer([]),e.prototype.videoSubscriptionConfiguration=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.duplex&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),null!=e.sendStreams&&e.sendStreams.length)for(var n=0;n<e.sendStreams.length;++n)s.SdkStreamDescriptor.encode(e.sendStreams[n],t.uint32(18).fork()).ldelim();if(null!=e.receiveStreamIds&&e.receiveStreamIds.length)for(n=0;n<e.receiveStreamIds.length;++n)t.uint32(24).uint32(e.receiveStreamIds[n]);if(null!=e.sdpOffer&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),null!=e.audioHost&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),null!=e.audioCheckin&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),null!=e.audioMuted&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),null!=e.compressedSdpOffer&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),null!=e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length)for(n=0;n<e.videoSubscriptionConfiguration.length;++n)s.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[n],t.uint32(74).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkSubscribeFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.duplex=e.int32();break;case 2:r.sendStreams&&r.sendStreams.length||(r.sendStreams=[]),r.sendStreams.push(s.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(r.receiveStreamIds&&r.receiveStreamIds.length||(r.receiveStreamIds=[]),2===(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)r.receiveStreamIds.push(e.uint32());else r.receiveStreamIds.push(e.uint32());break;case 4:r.sdpOffer=e.string();break;case 5:r.audioHost=e.string();break;case 6:r.audioCheckin=e.bool();break;case 7:r.audioMuted=e.bool();break;case 8:r.compressedSdpOffer=e.bytes();break;case 9:r.videoSubscriptionConfiguration&&r.videoSubscriptionConfiguration.length||(r.videoSubscriptionConfiguration=[]),r.videoSubscriptionConfiguration.push(s.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.duplex&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:}if(null!=e.sendStreams&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){if(n=s.SdkStreamDescriptor.verify(e.sendStreams[t]))return"sendStreams."+n}}if(null!=e.receiveStreamIds&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(t=0;t<e.receiveStreamIds.length;++t)if(!a.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&!a.isString(e.sdpOffer))return"sdpOffer: string expected";if(null!=e.audioHost&&e.hasOwnProperty("audioHost")&&!a.isString(e.audioHost))return"audioHost: string expected";if(null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&"boolean"!==typeof e.audioCheckin)return"audioCheckin: boolean expected";if(null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&"boolean"!==typeof e.audioMuted)return"audioMuted: boolean expected";if(null!=e.compressedSdpOffer&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&"number"===typeof e.compressedSdpOffer.length||a.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(null!=e.videoSubscriptionConfiguration&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(t=0;t<e.videoSubscriptionConfiguration.length;++t){var n;if(n=s.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]))return"videoSubscriptionConfiguration."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkSubscribeFrame)return e;var t=new s.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var n=0;n<e.sendStreams.length;++n){if("object"!==typeof e.sendStreams[n])throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[n]=s.SdkStreamDescriptor.fromObject(e.sendStreams[n])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(n=0;n<e.receiveStreamIds.length;++n)t.receiveStreamIds[n]=e.receiveStreamIds[n]>>>0}if(null!=e.sdpOffer&&(t.sdpOffer=String(e.sdpOffer)),null!=e.audioHost&&(t.audioHost=String(e.audioHost)),null!=e.audioCheckin&&(t.audioCheckin=Boolean(e.audioCheckin)),null!=e.audioMuted&&(t.audioMuted=Boolean(e.audioMuted)),null!=e.compressedSdpOffer&&("string"===typeof e.compressedSdpOffer?a.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=a.newBuffer(a.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(n=0;n<e.videoSubscriptionConfiguration.length;++n){if("object"!==typeof e.videoSubscriptionConfiguration[n])throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[n]=s.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sendStreams=[],n.receiveStreamIds=[],n.videoSubscriptionConfiguration=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpOffer="",n.audioHost="",n.audioCheckin=!1,n.audioMuted=!1,t.bytes===String?n.compressedSdpOffer="":(n.compressedSdpOffer=[],t.bytes!==Array&&(n.compressedSdpOffer=a.newBuffer(n.compressedSdpOffer)))),null!=e.duplex&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?s.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){n.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r)n.sendStreams[r]=s.SdkStreamDescriptor.toObject(e.sendStreams[r],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){n.receiveStreamIds=[];for(r=0;r<e.receiveStreamIds.length;++r)n.receiveStreamIds[r]=e.receiveStreamIds[r]}if(null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&(n.sdpOffer=e.sdpOffer),null!=e.audioHost&&e.hasOwnProperty("audioHost")&&(n.audioHost=e.audioHost),null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&(n.audioCheckin=e.audioCheckin),null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&(n.audioMuted=e.audioMuted),null!=e.compressedSdpOffer&&e.hasOwnProperty("compressedSdpOffer")&&(n.compressedSdpOffer=t.bytes===String?a.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){n.videoSubscriptionConfiguration=[];for(r=0;r<e.videoSubscriptionConfiguration.length;++r)n.videoSubscriptionConfiguration[r]=s.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkSubscribeAckFrame=function(){function e(e){if(this.allocations=[],this.tracks=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.duplex=1,e.prototype.allocations=a.emptyArray,e.prototype.sdpAnswer="",e.prototype.tracks=a.emptyArray,e.prototype.compressedSdpAnswer=a.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.duplex&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),null!=e.allocations&&e.allocations.length)for(var n=0;n<e.allocations.length;++n)s.SdkStreamAllocation.encode(e.allocations[n],t.uint32(18).fork()).ldelim();if(null!=e.sdpAnswer&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),null!=e.tracks&&e.tracks.length)for(n=0;n<e.tracks.length;++n)s.SdkTrackMapping.encode(e.tracks[n],t.uint32(34).fork()).ldelim();return null!=e.compressedSdpAnswer&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkSubscribeAckFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.duplex=e.int32();break;case 2:r.allocations&&r.allocations.length||(r.allocations=[]),r.allocations.push(s.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:r.sdpAnswer=e.string();break;case 4:r.tracks&&r.tracks.length||(r.tracks=[]),r.tracks.push(s.SdkTrackMapping.decode(e,e.uint32()));break;case 5:r.compressedSdpAnswer=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.duplex&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:}if(null!=e.allocations&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){if(n=s.SdkStreamAllocation.verify(e.allocations[t]))return"allocations."+n}}if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&!a.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(null!=e.tracks&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(t=0;t<e.tracks.length;++t){var n;if(n=s.SdkTrackMapping.verify(e.tracks[t]))return"tracks."+n}}return null!=e.compressedSdpAnswer&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&"number"===typeof e.compressedSdpAnswer.length||a.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},e.fromObject=function(e){if(e instanceof s.SdkSubscribeAckFrame)return e;var t=new s.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var n=0;n<e.allocations.length;++n){if("object"!==typeof e.allocations[n])throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[n]=s.SdkStreamAllocation.fromObject(e.allocations[n])}}if(null!=e.sdpAnswer&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(n=0;n<e.tracks.length;++n){if("object"!==typeof e.tracks[n])throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[n]=s.SdkTrackMapping.fromObject(e.tracks[n])}}return null!=e.compressedSdpAnswer&&("string"===typeof e.compressedSdpAnswer?a.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=a.newBuffer(a.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.allocations=[],n.tracks=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpAnswer="",t.bytes===String?n.compressedSdpAnswer="":(n.compressedSdpAnswer=[],t.bytes!==Array&&(n.compressedSdpAnswer=a.newBuffer(n.compressedSdpAnswer)))),null!=e.duplex&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?s.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){n.allocations=[];for(var r=0;r<e.allocations.length;++r)n.allocations[r]=s.SdkStreamAllocation.toObject(e.allocations[r],t)}if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&(n.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){n.tracks=[];for(r=0;r<e.tracks.length;++r)n.tracks[r]=s.SdkTrackMapping.toObject(e.tracks[r],t)}return null!=e.compressedSdpAnswer&&e.hasOwnProperty("compressedSdpAnswer")&&(n.compressedSdpAnswer=t.bytes===String?a.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkIndexFrame=function(){function e(e){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.atCapacity=!1,e.prototype.sources=a.emptyArray,e.prototype.pausedAtSourceIds=a.emptyArray,e.prototype.numParticipants=0,e.prototype.supportedReceiveCodecIntersection=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.atCapacity&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),null!=e.sources&&e.sources.length)for(var n=0;n<e.sources.length;++n)s.SdkStreamDescriptor.encode(e.sources[n],t.uint32(18).fork()).ldelim();if(null!=e.pausedAtSourceIds&&e.pausedAtSourceIds.length)for(n=0;n<e.pausedAtSourceIds.length;++n)t.uint32(24).uint32(e.pausedAtSourceIds[n]);if(null!=e.numParticipants&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),null!=e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length)for(n=0;n<e.supportedReceiveCodecIntersection.length;++n)t.uint32(40).int32(e.supportedReceiveCodecIntersection[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkIndexFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.atCapacity=e.bool();break;case 2:r.sources&&r.sources.length||(r.sources=[]),r.sources.push(s.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(r.pausedAtSourceIds&&r.pausedAtSourceIds.length||(r.pausedAtSourceIds=[]),2===(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)r.pausedAtSourceIds.push(e.uint32());else r.pausedAtSourceIds.push(e.uint32());break;case 4:r.numParticipants=e.uint32();break;case 5:if(r.supportedReceiveCodecIntersection&&r.supportedReceiveCodecIntersection.length||(r.supportedReceiveCodecIntersection=[]),2===(7&o))for(a=e.uint32()+e.pos;e.pos<a;)r.supportedReceiveCodecIntersection.push(e.int32());else r.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&"boolean"!==typeof e.atCapacity)return"atCapacity: boolean expected";if(null!=e.sources&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var n=s.SdkStreamDescriptor.verify(e.sources[t]);if(n)return"sources."+n}}if(null!=e.pausedAtSourceIds&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(t=0;t<e.pausedAtSourceIds.length;++t)if(!a.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&!a.isInteger(e.numParticipants))return"numParticipants: integer expected";if(null!=e.supportedReceiveCodecIntersection&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:}}return null},e.fromObject=function(e){if(e instanceof s.SdkIndexFrame)return e;var t=new s.SdkIndexFrame;if(null!=e.atCapacity&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var n=0;n<e.sources.length;++n){if("object"!==typeof e.sources[n])throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[n]=s.SdkStreamDescriptor.fromObject(e.sources[n])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(n=0;n<e.pausedAtSourceIds.length;++n)t.pausedAtSourceIds[n]=e.pausedAtSourceIds[n]>>>0}if(null!=e.numParticipants&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(n=0;n<e.supportedReceiveCodecIntersection.length;++n)switch(e.supportedReceiveCodecIntersection[n]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[n]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[n]=3}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sources=[],n.pausedAtSourceIds=[],n.supportedReceiveCodecIntersection=[]),t.defaults&&(n.atCapacity=!1,n.numParticipants=0),null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&(n.atCapacity=e.atCapacity),e.sources&&e.sources.length){n.sources=[];for(var r=0;r<e.sources.length;++r)n.sources[r]=s.SdkStreamDescriptor.toObject(e.sources[r],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){n.pausedAtSourceIds=[];for(r=0;r<e.pausedAtSourceIds.length;++r)n.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]}if(null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&(n.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){n.supportedReceiveCodecIntersection=[];for(r=0;r<e.supportedReceiveCodecIntersection.length;++r)n.supportedReceiveCodecIntersection[r]=t.enums===String?s.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[r]]:e.supportedReceiveCodecIntersection[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkPauseResumeFrame=function(){function e(e){if(this.streamIds=[],this.groupIds=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamIds=a.emptyArray,e.prototype.groupIds=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.streamIds&&e.streamIds.length)for(var n=0;n<e.streamIds.length;++n)t.uint32(8).uint32(e.streamIds[n]);if(null!=e.groupIds&&e.groupIds.length)for(n=0;n<e.groupIds.length;++n)t.uint32(16).uint32(e.groupIds[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkPauseResumeFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(r.streamIds&&r.streamIds.length||(r.streamIds=[]),2===(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)r.streamIds.push(e.uint32());else r.streamIds.push(e.uint32());break;case 2:if(r.groupIds&&r.groupIds.length||(r.groupIds=[]),2===(7&o))for(a=e.uint32()+e.pos;e.pos<a;)r.groupIds.push(e.uint32());else r.groupIds.push(e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.streamIds&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!a.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(null!=e.groupIds&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(t=0;t<e.groupIds.length;++t)if(!a.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof s.SdkPauseResumeFrame)return e;var t=new s.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var n=0;n<e.streamIds.length;++n)t.streamIds[n]=e.streamIds[n]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(n=0;n<e.groupIds.length;++n)t.groupIds[n]=e.groupIds[n]>>>0}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streamIds=[],n.groupIds=[]),e.streamIds&&e.streamIds.length){n.streamIds=[];for(var r=0;r<e.streamIds.length;++r)n.streamIds[r]=e.streamIds[r]}if(e.groupIds&&e.groupIds.length){n.groupIds=[];for(r=0;r<e.groupIds.length;++r)n.groupIds[r]=e.groupIds[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkBitrateFrame=function(){function e(e){if(this.bitrates=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bitrates=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.bitrates&&e.bitrates.length)for(var n=0;n<e.bitrates.length;++n)s.SdkBitrate.encode(e.bitrates[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkBitrateFrame;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.bitrates&&r.bitrates.length||(r.bitrates=[]),r.bitrates.push(s.SdkBitrate.decode(e,e.uint32()));else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.bitrates&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var n=s.SdkBitrate.verify(e.bitrates[t]);if(n)return"bitrates."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkBitrateFrame)return e;var t=new s.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var n=0;n<e.bitrates.length;++n){if("object"!==typeof e.bitrates[n])throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[n]=s.SdkBitrate.fromObject(e.bitrates[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bitrates=[]),e.bitrates&&e.bitrates.length){n.bitrates=[];for(var r=0;r<e.bitrates.length;++r)n.bitrates[r]=s.SdkBitrate.toObject(e.bitrates[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkStreamDescriptor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.framerate=0,e.prototype.maxBitrateKbps=0,e.prototype.trackLabel="",e.prototype.groupId=0,e.prototype.avgBitrateBps=0,e.prototype.attendeeId="",e.prototype.mediaType=1,e.prototype.externalUserId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),null!=e.framerate&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),null!=e.maxBitrateKbps&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),null!=e.avgBitrateBps&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),null!=e.mediaType&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkStreamDescriptor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.streamId=e.uint32();break;case 2:r.framerate=e.uint32();break;case 3:r.maxBitrateKbps=e.uint32();break;case 4:r.trackLabel=e.string();break;case 6:r.groupId=e.uint32();break;case 7:r.avgBitrateBps=e.uint32();break;case 8:r.attendeeId=e.string();break;case 9:r.mediaType=e.int32();break;case 10:r.externalUserId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.streamId&&e.hasOwnProperty("streamId")&&!a.isInteger(e.streamId))return"streamId: integer expected";if(null!=e.framerate&&e.hasOwnProperty("framerate")&&!a.isInteger(e.framerate))return"framerate: integer expected";if(null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&!a.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!a.isString(e.trackLabel))return"trackLabel: string expected";if(null!=e.groupId&&e.hasOwnProperty("groupId")&&!a.isInteger(e.groupId))return"groupId: integer expected";if(null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&!a.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!a.isString(e.attendeeId))return"attendeeId: string expected";if(null!=e.mediaType&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:}return null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!a.isString(e.externalUserId)?"externalUserId: string expected":null},e.fromObject=function(e){if(e instanceof s.SdkStreamDescriptor)return e;var t=new s.SdkStreamDescriptor;switch(null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.framerate&&(t.framerate=e.framerate>>>0),null!=e.maxBitrateKbps&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),null!=e.groupId&&(t.groupId=e.groupId>>>0),null!=e.avgBitrateBps&&(t.avgBitrateBps=e.avgBitrateBps>>>0),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2}return null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.framerate=0,n.maxBitrateKbps=0,n.trackLabel="",n.groupId=0,n.avgBitrateBps=0,n.attendeeId="",n.mediaType=t.enums===String?"AUDIO":1,n.externalUserId=""),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.framerate&&e.hasOwnProperty("framerate")&&(n.framerate=e.framerate),null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&(n.maxBitrateKbps=e.maxBitrateKbps),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.mediaType&&e.hasOwnProperty("mediaType")&&(n.mediaType=t.enums===String?s.SdkStreamMediaType[e.mediaType]:e.mediaType),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkStreamAllocation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.trackLabel="",e.prototype.streamId=0,e.prototype.groupId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkStreamAllocation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.trackLabel=e.string();break;case 2:r.streamId=e.uint32();break;case 3:r.groupId=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!a.isString(e.trackLabel)?"trackLabel: string expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!a.isInteger(e.streamId)?"streamId: integer expected":null!=e.groupId&&e.hasOwnProperty("groupId")&&!a.isInteger(e.groupId)?"groupId: integer expected":null},e.fromObject=function(e){if(e instanceof s.SdkStreamAllocation)return e;var t=new s.SdkStreamAllocation;return null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.trackLabel="",n.streamId=0,n.groupId=0),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTrackMapping=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.ssrc=0,e.prototype.trackLabel="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),null!=e.ssrc&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),null!=e.trackLabel&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTrackMapping;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.streamId=e.uint32();break;case 2:r.ssrc=e.uint32();break;case 3:r.trackLabel=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!a.isInteger(e.streamId)?"streamId: integer expected":null!=e.ssrc&&e.hasOwnProperty("ssrc")&&!a.isInteger(e.ssrc)?"ssrc: integer expected":null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!a.isString(e.trackLabel)?"trackLabel: string expected":null},e.fromObject=function(e){if(e instanceof s.SdkTrackMapping)return e;var t=new s.SdkTrackMapping;return null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.ssrc&&(t.ssrc=e.ssrc>>>0),null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.ssrc=0,n.trackLabel=""),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.ssrc&&e.hasOwnProperty("ssrc")&&(n.ssrc=e.ssrc),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkBitrate=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sourceStreamId=0,e.prototype.avgBitrateBps=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.sourceStreamId&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),null!=e.avgBitrateBps&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkBitrate;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.sourceStreamId=e.uint32();break;case 2:r.avgBitrateBps=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&!a.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&!a.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},e.fromObject=function(e){if(e instanceof s.SdkBitrate)return e;var t=new s.SdkBitrate;return null!=e.sourceStreamId&&(t.sourceStreamId=e.sourceStreamId>>>0),null!=e.avgBitrateBps&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.sourceStreamId=0,n.avgBitrateBps=0),null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&(n.sourceStreamId=e.sourceStreamId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkAudioControlFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.muted=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkAudioControlFrame;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.muted=e.bool();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!==typeof e.muted?"muted: boolean expected":null},e.fromObject=function(e){if(e instanceof s.SdkAudioControlFrame)return e;var t=new s.SdkAudioControlFrame;return null!=e.muted&&(t.muted=Boolean(e.muted)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.muted=!1),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkAudioMetadataFrame=function(){function e(e){if(this.attendeeStates=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.attendeeStates=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.attendeeStates&&e.attendeeStates.length)for(var n=0;n<e.attendeeStates.length;++n)s.SdkAudioAttendeeState.encode(e.attendeeStates[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkAudioMetadataFrame;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.attendeeStates&&r.attendeeStates.length||(r.attendeeStates=[]),r.attendeeStates.push(s.SdkAudioAttendeeState.decode(e,e.uint32()));else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.attendeeStates&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var n=s.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(n)return"attendeeStates."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkAudioMetadataFrame)return e;var t=new s.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var n=0;n<e.attendeeStates.length;++n){if("object"!==typeof e.attendeeStates[n])throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[n]=s.SdkAudioAttendeeState.fromObject(e.attendeeStates[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){n.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r)n.attendeeStates[r]=s.SdkAudioAttendeeState.toObject(e.attendeeStates[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkAudioAttendeeState=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStreamId=0,e.prototype.volume=0,e.prototype.muted=!1,e.prototype.signalStrength=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.audioStreamId&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),null!=e.volume&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),null!=e.signalStrength&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkAudioAttendeeState;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.audioStreamId=e.uint32();break;case 2:r.volume=e.uint32();break;case 3:r.muted=e.bool();break;case 4:r.signalStrength=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&!a.isInteger(e.audioStreamId)?"audioStreamId: integer expected":null!=e.volume&&e.hasOwnProperty("volume")&&!a.isInteger(e.volume)?"volume: integer expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!==typeof e.muted?"muted: boolean expected":null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&!a.isInteger(e.signalStrength)?"signalStrength: integer expected":null},e.fromObject=function(e){if(e instanceof s.SdkAudioAttendeeState)return e;var t=new s.SdkAudioAttendeeState;return null!=e.audioStreamId&&(t.audioStreamId=e.audioStreamId>>>0),null!=e.volume&&(t.volume=e.volume>>>0),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.signalStrength&&(t.signalStrength=e.signalStrength>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.volume=0,n.muted=!1,n.signalStrength=0),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),null!=e.volume&&e.hasOwnProperty("volume")&&(n.volume=e.volume),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&(n.signalStrength=e.signalStrength),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkAudioStreamIdInfoFrame=function(){function e(e){if(this.streams=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streams=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.streams&&e.streams.length)for(var n=0;n<e.streams.length;++n)s.SdkAudioStreamIdInfo.encode(e.streams[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkAudioStreamIdInfoFrame;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.streams&&r.streams.length||(r.streams=[]),r.streams.push(s.SdkAudioStreamIdInfo.decode(e,e.uint32()));else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.streams&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var n=s.SdkAudioStreamIdInfo.verify(e.streams[t]);if(n)return"streams."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkAudioStreamIdInfoFrame)return e;var t=new s.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var n=0;n<e.streams.length;++n){if("object"!==typeof e.streams[n])throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[n]=s.SdkAudioStreamIdInfo.fromObject(e.streams[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streams=[]),e.streams&&e.streams.length){n.streams=[];for(var r=0;r<e.streams.length;++r)n.streams[r]=s.SdkAudioStreamIdInfo.toObject(e.streams[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkAudioStreamIdInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStreamId=0,e.prototype.attendeeId="",e.prototype.muted=!1,e.prototype.externalUserId="",e.prototype.dropped=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.audioStreamId&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),null!=e.muted&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),null!=e.dropped&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkAudioStreamIdInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.audioStreamId=e.uint32();break;case 2:r.attendeeId=e.string();break;case 3:r.muted=e.bool();break;case 4:r.externalUserId=e.string();break;case 5:r.dropped=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&!a.isInteger(e.audioStreamId)?"audioStreamId: integer expected":null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!a.isString(e.attendeeId)?"attendeeId: string expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!==typeof e.muted?"muted: boolean expected":null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!a.isString(e.externalUserId)?"externalUserId: string expected":null!=e.dropped&&e.hasOwnProperty("dropped")&&"boolean"!==typeof e.dropped?"dropped: boolean expected":null},e.fromObject=function(e){if(e instanceof s.SdkAudioStreamIdInfo)return e;var t=new s.SdkAudioStreamIdInfo;return null!=e.audioStreamId&&(t.audioStreamId=e.audioStreamId>>>0),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),null!=e.dropped&&(t.dropped=Boolean(e.dropped)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.attendeeId="",n.muted=!1,n.externalUserId="",n.dropped=!1),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),null!=e.dropped&&e.hasOwnProperty("dropped")&&(n.dropped=e.dropped),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkPingPongType=function(){var e={},t=Object.create(e);return t[e[1]="PING"]=1,t[e[2]="PONG"]=2,t}(),s.SdkPingPongFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.pingId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkPingPongFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.pingId=e.uint32();break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("type"))throw a.ProtocolError("missing required 'type'",{instance:r});if(!r.hasOwnProperty("pingId"))throw a.ProtocolError("missing required 'pingId'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:}return a.isInteger(e.pingId)?null:"pingId: integer expected"},e.fromObject=function(e){if(e instanceof s.SdkPingPongFrame)return e;var t=new s.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2}return null!=e.pingId&&(t.pingId=e.pingId>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"PING":1,n.pingId=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.SdkPingPongType[e.type]:e.type),null!=e.pingId&&e.hasOwnProperty("pingId")&&(n.pingId=e.pingId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkAudioStatusFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStatus=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.audioStatus&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkAudioStatusFrame;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.audioStatus=e.uint32();else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&!a.isInteger(e.audioStatus)?"audioStatus: integer expected":null},e.fromObject=function(e){if(e instanceof s.SdkAudioStatusFrame)return e;var t=new s.SdkAudioStatusFrame;return null!=e.audioStatus&&(t.audioStatus=e.audioStatus>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStatus=0),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=e.audioStatus),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkMetric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkMetric;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.value=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:}return null!=e.value&&e.hasOwnProperty("value")&&"number"!==typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof s.SdkMetric)return e;var t=new s.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_AVERAGE_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87}return null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,n.value=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.SdkMetric.Type[e.type]:e.type),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,t[e[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,t[e[3]="VIDEO_RETRANSMIT_BITRATE"]=3,t[e[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,t[e[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,t[e[6]="VIDEO_BUCKET_DELAY_MS"]=6,t[e[7]="STUN_RTT_MS"]=7,t[e[8]="SOCKET_DISCARDED_PPS"]=8,t[e[9]="RTC_MIC_JITTER_MS"]=9,t[e[10]="RTC_MIC_PPS"]=10,t[e[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,t[e[12]="RTC_MIC_BITRATE"]=12,t[e[13]="RTC_MIC_RTT_MS"]=13,t[e[14]="RTC_SPK_PPS"]=14,t[e[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,t[e[16]="RTC_SPK_JITTER_MS"]=16,t[e[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,t[e[18]="RTC_SPK_BITRATE"]=18,t[e[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,t[e[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,t[e[21]="VIDEO_SENT_RTT_MS"]=21,t[e[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,t[e[23]="VIDEO_NACKS_RECEIVED"]=23,t[e[24]="VIDEO_PLIS_RECEIVED"]=24,t[e[25]="VIDEO_AVERAGE_ENCODE_MS"]=25,t[e[26]="VIDEO_INPUT_FPS"]=26,t[e[27]="VIDEO_ENCODE_FPS"]=27,t[e[28]="VIDEO_SENT_FPS"]=28,t[e[29]="VIDEO_FIRS_RECEIVED"]=29,t[e[30]="VIDEO_SENT_PPS"]=30,t[e[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,t[e[32]="VIDEO_SENT_BITRATE"]=32,t[e[33]="VIDEO_DROPPED_FPS"]=33,t[e[34]="VIDEO_TARGET_DELAY_MS"]=34,t[e[35]="VIDEO_DECODE_MS"]=35,t[e[36]="VIDEO_OUTPUT_FPS"]=36,t[e[37]="VIDEO_RECEIVED_PPS"]=37,t[e[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,t[e[39]="VIDEO_RENDER_DELAY_MS"]=39,t[e[40]="VIDEO_RECEIVED_FPS"]=40,t[e[41]="VIDEO_DECODE_FPS"]=41,t[e[42]="VIDEO_NACKS_SENT"]=42,t[e[43]="VIDEO_FIRS_SENT"]=43,t[e[44]="VIDEO_RECEIVED_BITRATE"]=44,t[e[45]="VIDEO_CURRENT_DELAY_MS"]=45,t[e[46]="VIDEO_JITTER_BUFFER_MS"]=46,t[e[47]="VIDEO_DISCARDED_PPS"]=47,t[e[48]="VIDEO_PLIS_SENT"]=48,t[e[49]="VIDEO_RECEIVED_JITTER_MS"]=49,t[e[64]="VIDEO_ENCODE_HEIGHT"]=64,t[e[66]="VIDEO_SENT_QP_SUM"]=66,t[e[69]="VIDEO_DECODE_HEIGHT"]=69,t[e[72]="VIDEO_RECEIVED_QP_SUM"]=72,t[e[86]="VIDEO_ENCODE_WIDTH"]=86,t[e[87]="VIDEO_DECODE_WIDTH"]=87,t}(),e}(),s.SdkStreamMetricFrame=function(){function e(e){if(this.metrics=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.groupId=0,e.prototype.metrics=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),null!=e.metrics&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)s.SdkMetric.encode(e.metrics[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkStreamMetricFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 3:r.streamId=e.uint32();break;case 4:r.groupId=e.uint32();break;case 5:r.metrics&&r.metrics.length||(r.metrics=[]),r.metrics.push(s.SdkMetric.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.streamId&&e.hasOwnProperty("streamId")&&!a.isInteger(e.streamId))return"streamId: integer expected";if(null!=e.groupId&&e.hasOwnProperty("groupId")&&!a.isInteger(e.groupId))return"groupId: integer expected";if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var n=s.SdkMetric.verify(e.metrics[t]);if(n)return"metrics."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkStreamMetricFrame)return e;var t=new s.SdkStreamMetricFrame;if(null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n){if("object"!==typeof e.metrics[n])throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[n]=s.SdkMetric.fromObject(e.metrics[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[]),t.defaults&&(n.streamId=0,n.groupId=0),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.metrics&&e.metrics.length){n.metrics=[];for(var r=0;r<e.metrics.length;++r)n.metrics[r]=s.SdkMetric.toObject(e.metrics[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkClientMetricFrame=function(){function e(e){if(this.globalMetrics=[],this.streamMetricFrames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.globalMetrics=a.emptyArray,e.prototype.streamMetricFrames=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.globalMetrics&&e.globalMetrics.length)for(var n=0;n<e.globalMetrics.length;++n)s.SdkMetric.encode(e.globalMetrics[n],t.uint32(10).fork()).ldelim();if(null!=e.streamMetricFrames&&e.streamMetricFrames.length)for(n=0;n<e.streamMetricFrames.length;++n)s.SdkStreamMetricFrame.encode(e.streamMetricFrames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkClientMetricFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.globalMetrics&&r.globalMetrics.length||(r.globalMetrics=[]),r.globalMetrics.push(s.SdkMetric.decode(e,e.uint32()));break;case 2:r.streamMetricFrames&&r.streamMetricFrames.length||(r.streamMetricFrames=[]),r.streamMetricFrames.push(s.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.globalMetrics&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){if(n=s.SdkMetric.verify(e.globalMetrics[t]))return"globalMetrics."+n}}if(null!=e.streamMetricFrames&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(t=0;t<e.streamMetricFrames.length;++t){var n;if(n=s.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]))return"streamMetricFrames."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkClientMetricFrame)return e;var t=new s.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var n=0;n<e.globalMetrics.length;++n){if("object"!==typeof e.globalMetrics[n])throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[n]=s.SdkMetric.fromObject(e.globalMetrics[n])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(n=0;n<e.streamMetricFrames.length;++n){if("object"!==typeof e.streamMetricFrames[n])throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[n]=s.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.globalMetrics=[],n.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){n.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r)n.globalMetrics[r]=s.SdkMetric.toObject(e.globalMetrics[r],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){n.streamMetricFrames=[];for(r=0;r<e.streamMetricFrames.length;++r)n.streamMetricFrames[r]=s.SdkStreamMetricFrame.toObject(e.streamMetricFrames[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkDataMessageFrame=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.messages=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)s.SdkDataMessagePayload.encode(e.messages[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkDataMessageFrame;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.messages&&r.messages.length||(r.messages=[]),r.messages.push(s.SdkDataMessagePayload.decode(e,e.uint32()));else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=s.SdkDataMessagePayload.verify(e.messages[t]);if(n)return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkDataMessageFrame)return e;var t=new s.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!==typeof e.messages[n])throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[n]=s.SdkDataMessagePayload.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=s.SdkDataMessagePayload.toObject(e.messages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkDataMessagePayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.topic="",e.prototype.data=a.newBuffer([]),e.prototype.lifetimeMs=0,e.prototype.senderAttendeeId="",e.prototype.ingestTimeNs=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.senderExternalUserId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.topic&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.lifetimeMs&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),null!=e.senderAttendeeId&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),null!=e.ingestTimeNs&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),null!=e.senderExternalUserId&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkDataMessagePayload;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.topic=e.string();break;case 2:r.data=e.bytes();break;case 3:r.lifetimeMs=e.uint32();break;case 4:r.senderAttendeeId=e.string();break;case 5:r.ingestTimeNs=e.int64();break;case 6:r.senderExternalUserId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.topic&&e.hasOwnProperty("topic")&&!a.isString(e.topic)?"topic: string expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"===typeof e.data.length||a.isString(e.data))?"data: buffer expected":null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&!a.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&!a.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":null==e.ingestTimeNs||!e.hasOwnProperty("ingestTimeNs")||a.isInteger(e.ingestTimeNs)||e.ingestTimeNs&&a.isInteger(e.ingestTimeNs.low)&&a.isInteger(e.ingestTimeNs.high)?null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&!a.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null:"ingestTimeNs: integer|Long expected"},e.fromObject=function(e){if(e instanceof s.SdkDataMessagePayload)return e;var t=new s.SdkDataMessagePayload;return null!=e.topic&&(t.topic=String(e.topic)),null!=e.data&&("string"===typeof e.data?a.base64.decode(e.data,t.data=a.newBuffer(a.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.lifetimeMs&&(t.lifetimeMs=e.lifetimeMs>>>0),null!=e.senderAttendeeId&&(t.senderAttendeeId=String(e.senderAttendeeId)),null!=e.ingestTimeNs&&(a.Long?(t.ingestTimeNs=a.Long.fromValue(e.ingestTimeNs)).unsigned=!1:"string"===typeof e.ingestTimeNs?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):"number"===typeof e.ingestTimeNs?t.ingestTimeNs=e.ingestTimeNs:"object"===typeof e.ingestTimeNs&&(t.ingestTimeNs=new a.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),null!=e.senderExternalUserId&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.topic="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=a.newBuffer(n.data))),n.lifetimeMs=0,n.senderAttendeeId="",a.Long){var r=new a.Long(0,0,!1);n.ingestTimeNs=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.ingestTimeNs=t.longs===String?"0":0;n.senderExternalUserId=""}return null!=e.topic&&e.hasOwnProperty("topic")&&(n.topic=e.topic),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?a.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&(n.lifetimeMs=e.lifetimeMs),null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&(n.senderAttendeeId=e.senderAttendeeId),null!=e.ingestTimeNs&&e.hasOwnProperty("ingestTimeNs")&&("number"===typeof e.ingestTimeNs?n.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:n.ingestTimeNs=t.longs===String?a.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new a.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&(n.senderExternalUserId=e.senderExternalUserId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTurnCredentials=function(){function e(e){if(this.uris=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.username="",e.prototype.password="",e.prototype.ttl=0,e.prototype.uris=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),null!=e.password&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),null!=e.ttl&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),null!=e.uris&&e.uris.length)for(var n=0;n<e.uris.length;++n)t.uint32(34).string(e.uris[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTurnCredentials;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.username=e.string();break;case 2:r.password=e.string();break;case 3:r.ttl=e.uint32();break;case 4:r.uris&&r.uris.length||(r.uris=[]),r.uris.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.username&&e.hasOwnProperty("username")&&!a.isString(e.username))return"username: string expected";if(null!=e.password&&e.hasOwnProperty("password")&&!a.isString(e.password))return"password: string expected";if(null!=e.ttl&&e.hasOwnProperty("ttl")&&!a.isInteger(e.ttl))return"ttl: integer expected";if(null!=e.uris&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!a.isString(e.uris[t]))return"uris: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.SdkTurnCredentials)return e;var t=new s.SdkTurnCredentials;if(null!=e.username&&(t.username=String(e.username)),null!=e.password&&(t.password=String(e.password)),null!=e.ttl&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var n=0;n<e.uris.length;++n)t.uris[n]=String(e.uris[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uris=[]),t.defaults&&(n.username="",n.password="",n.ttl=0),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.password&&e.hasOwnProperty("password")&&(n.password=e.password),null!=e.ttl&&e.hasOwnProperty("ttl")&&(n.ttl=e.ttl),e.uris&&e.uris.length){n.uris=[];for(var r=0;r<e.uris.length;++r)n.uris[r]=e.uris[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTranscriptItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.content="",e.prototype.endTime=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.speakerAttendeeId="",e.prototype.speakerExternalUserId="",e.prototype.startTime=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.type=1,e.prototype.vocabularyFilterMatch=!1,e.prototype.confidence=0,e.prototype.stable=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),null!=e.speakerAttendeeId&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),null!=e.speakerExternalUserId&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),null!=e.vocabularyFilterMatch&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),null!=e.stable&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscriptItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.content=e.string();break;case 2:r.endTime=e.int64();break;case 3:r.speakerAttendeeId=e.string();break;case 4:r.speakerExternalUserId=e.string();break;case 5:r.startTime=e.int64();break;case 6:r.type=e.int32();break;case 7:r.vocabularyFilterMatch=e.bool();break;case 8:r.confidence=e.double();break;case 9:r.stable=e.bool();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.content&&e.hasOwnProperty("content")&&!a.isString(e.content))return"content: string expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!a.isInteger(e.endTime)&&!(e.endTime&&a.isInteger(e.endTime.low)&&a.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.speakerAttendeeId&&e.hasOwnProperty("speakerAttendeeId")&&!a.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(null!=e.speakerExternalUserId&&e.hasOwnProperty("speakerExternalUserId")&&!a.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(null!=e.startTime&&e.hasOwnProperty("startTime")&&!a.isInteger(e.startTime)&&!(e.startTime&&a.isInteger(e.startTime.low)&&a.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:}return null!=e.vocabularyFilterMatch&&e.hasOwnProperty("vocabularyFilterMatch")&&"boolean"!==typeof e.vocabularyFilterMatch?"vocabularyFilterMatch: boolean expected":null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!==typeof e.confidence?"confidence: number expected":null!=e.stable&&e.hasOwnProperty("stable")&&"boolean"!==typeof e.stable?"stable: boolean expected":null},e.fromObject=function(e){if(e instanceof s.SdkTranscriptItem)return e;var t=new s.SdkTranscriptItem;switch(null!=e.content&&(t.content=String(e.content)),null!=e.endTime&&(a.Long?(t.endTime=a.Long.fromValue(e.endTime)).unsigned=!1:"string"===typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"===typeof e.endTime?t.endTime=e.endTime:"object"===typeof e.endTime&&(t.endTime=new a.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.speakerAttendeeId&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),null!=e.speakerExternalUserId&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),null!=e.startTime&&(a.Long?(t.startTime=a.Long.fromValue(e.startTime)).unsigned=!1:"string"===typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"===typeof e.startTime?t.startTime=e.startTime:"object"===typeof e.startTime&&(t.startTime=new a.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2}return null!=e.vocabularyFilterMatch&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),null!=e.confidence&&(t.confidence=Number(e.confidence)),null!=e.stable&&(t.stable=Boolean(e.stable)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.content="",a.Long){var r=new a.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(n.speakerAttendeeId="",n.speakerExternalUserId="",a.Long){r=new a.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.type=t.enums===String?"PRONUNCIATION":1,n.vocabularyFilterMatch=!1,n.confidence=0,n.stable=!1}return null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"===typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?a.Long.prototype.toString.call(e.endTime):t.longs===Number?new a.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.speakerAttendeeId&&e.hasOwnProperty("speakerAttendeeId")&&(n.speakerAttendeeId=e.speakerAttendeeId),null!=e.speakerExternalUserId&&e.hasOwnProperty("speakerExternalUserId")&&(n.speakerExternalUserId=e.speakerExternalUserId),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"===typeof e.startTime?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?a.Long.prototype.toString.call(e.startTime):t.longs===Number?new a.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.SdkTranscriptItem.Type[e.type]:e.type),null!=e.vocabularyFilterMatch&&e.hasOwnProperty("vocabularyFilterMatch")&&(n.vocabularyFilterMatch=e.vocabularyFilterMatch),null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),null!=e.stable&&e.hasOwnProperty("stable")&&(n.stable=e.stable),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="PRONUNCIATION"]=1,t[e[2]="PUNCTUATION"]=2,t}(),e}(),s.SdkTranscriptEntity=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.category="",e.prototype.confidence=0,e.prototype.content="",e.prototype.endTime=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.startTime=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.type="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.category&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),null!=e.confidence&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscriptEntity;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.category=e.string();break;case 2:r.confidence=e.double();break;case 3:r.content=e.string();break;case 4:r.endTime=e.int64();break;case 5:r.startTime=e.int64();break;case 6:r.type=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.category&&e.hasOwnProperty("category")&&!a.isString(e.category)?"category: string expected":null!=e.confidence&&e.hasOwnProperty("confidence")&&"number"!==typeof e.confidence?"confidence: number expected":null!=e.content&&e.hasOwnProperty("content")&&!a.isString(e.content)?"content: string expected":null==e.endTime||!e.hasOwnProperty("endTime")||a.isInteger(e.endTime)||e.endTime&&a.isInteger(e.endTime.low)&&a.isInteger(e.endTime.high)?null==e.startTime||!e.hasOwnProperty("startTime")||a.isInteger(e.startTime)||e.startTime&&a.isInteger(e.startTime.low)&&a.isInteger(e.startTime.high)?null!=e.type&&e.hasOwnProperty("type")&&!a.isString(e.type)?"type: string expected":null:"startTime: integer|Long expected":"endTime: integer|Long expected"},e.fromObject=function(e){if(e instanceof s.SdkTranscriptEntity)return e;var t=new s.SdkTranscriptEntity;return null!=e.category&&(t.category=String(e.category)),null!=e.confidence&&(t.confidence=Number(e.confidence)),null!=e.content&&(t.content=String(e.content)),null!=e.endTime&&(a.Long?(t.endTime=a.Long.fromValue(e.endTime)).unsigned=!1:"string"===typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"===typeof e.endTime?t.endTime=e.endTime:"object"===typeof e.endTime&&(t.endTime=new a.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.startTime&&(a.Long?(t.startTime=a.Long.fromValue(e.startTime)).unsigned=!1:"string"===typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"===typeof e.startTime?t.startTime=e.startTime:"object"===typeof e.startTime&&(t.startTime=new a.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),null!=e.type&&(t.type=String(e.type)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.category="",n.confidence=0,n.content="",a.Long){var r=new a.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(a.Long){r=new a.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.type=""}return null!=e.category&&e.hasOwnProperty("category")&&(n.category=e.category),null!=e.confidence&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"===typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?a.Long.prototype.toString.call(e.endTime):t.longs===Number?new a.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"===typeof e.startTime?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?a.Long.prototype.toString.call(e.startTime):t.longs===Number?new a.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTranscriptAlternative=function(){function e(e){if(this.items=[],this.entities=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.items=a.emptyArray,e.prototype.transcript="",e.prototype.entities=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.items&&e.items.length)for(var n=0;n<e.items.length;++n)s.SdkTranscriptItem.encode(e.items[n],t.uint32(10).fork()).ldelim();if(null!=e.transcript&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),null!=e.entities&&e.entities.length)for(n=0;n<e.entities.length;++n)s.SdkTranscriptEntity.encode(e.entities[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscriptAlternative;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.items&&r.items.length||(r.items=[]),r.items.push(s.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:r.transcript=e.string();break;case 3:r.entities&&r.entities.length||(r.entities=[]),r.entities.push(s.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.items&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){if(n=s.SdkTranscriptItem.verify(e.items[t]))return"items."+n}}if(null!=e.transcript&&e.hasOwnProperty("transcript")&&!a.isString(e.transcript))return"transcript: string expected";if(null!=e.entities&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(t=0;t<e.entities.length;++t){var n;if(n=s.SdkTranscriptEntity.verify(e.entities[t]))return"entities."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkTranscriptAlternative)return e;var t=new s.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if("object"!==typeof e.items[n])throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[n]=s.SdkTranscriptItem.fromObject(e.items[n])}}if(null!=e.transcript&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(n=0;n<e.entities.length;++n){if("object"!==typeof e.entities[n])throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[n]=s.SdkTranscriptEntity.fromObject(e.entities[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[],n.entities=[]),t.defaults&&(n.transcript=""),e.items&&e.items.length){n.items=[];for(var r=0;r<e.items.length;++r)n.items[r]=s.SdkTranscriptItem.toObject(e.items[r],t)}if(null!=e.transcript&&e.hasOwnProperty("transcript")&&(n.transcript=e.transcript),e.entities&&e.entities.length){n.entities=[];for(r=0;r<e.entities.length;++r)n.entities[r]=s.SdkTranscriptEntity.toObject(e.entities[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTranscriptLanguageWithScore=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.languageCode="",e.prototype.score=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.languageCode&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscriptLanguageWithScore;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.languageCode=e.string();break;case 2:r.score=e.double();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.languageCode&&e.hasOwnProperty("languageCode")&&!a.isString(e.languageCode)?"languageCode: string expected":null!=e.score&&e.hasOwnProperty("score")&&"number"!==typeof e.score?"score: number expected":null},e.fromObject=function(e){if(e instanceof s.SdkTranscriptLanguageWithScore)return e;var t=new s.SdkTranscriptLanguageWithScore;return null!=e.languageCode&&(t.languageCode=String(e.languageCode)),null!=e.score&&(t.score=Number(e.score)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.languageCode="",n.score=0),null!=e.languageCode&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),null!=e.score&&e.hasOwnProperty("score")&&(n.score=t.json&&!isFinite(e.score)?String(e.score):e.score),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTranscriptResult=function(){function e(e){if(this.alternatives=[],this.languageIdentification=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.alternatives=a.emptyArray,e.prototype.channelId="",e.prototype.endTime=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.isPartial=!1,e.prototype.resultId="",e.prototype.startTime=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.languageCode="",e.prototype.languageIdentification=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.alternatives&&e.alternatives.length)for(var n=0;n<e.alternatives.length;++n)s.SdkTranscriptAlternative.encode(e.alternatives[n],t.uint32(10).fork()).ldelim();if(null!=e.channelId&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),null!=e.isPartial&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),null!=e.resultId&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),null!=e.startTime&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),null!=e.languageCode&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),null!=e.languageIdentification&&e.languageIdentification.length)for(n=0;n<e.languageIdentification.length;++n)s.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[n],t.uint32(66).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscriptResult;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.alternatives&&r.alternatives.length||(r.alternatives=[]),r.alternatives.push(s.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:r.channelId=e.string();break;case 3:r.endTime=e.int64();break;case 4:r.isPartial=e.bool();break;case 5:r.resultId=e.string();break;case 6:r.startTime=e.int64();break;case 7:r.languageCode=e.string();break;case 8:r.languageIdentification&&r.languageIdentification.length||(r.languageIdentification=[]),r.languageIdentification.push(s.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.alternatives&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){if(n=s.SdkTranscriptAlternative.verify(e.alternatives[t]))return"alternatives."+n}}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!a.isString(e.channelId))return"channelId: string expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!a.isInteger(e.endTime)&&!(e.endTime&&a.isInteger(e.endTime.low)&&a.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.isPartial&&e.hasOwnProperty("isPartial")&&"boolean"!==typeof e.isPartial)return"isPartial: boolean expected";if(null!=e.resultId&&e.hasOwnProperty("resultId")&&!a.isString(e.resultId))return"resultId: string expected";if(null!=e.startTime&&e.hasOwnProperty("startTime")&&!a.isInteger(e.startTime)&&!(e.startTime&&a.isInteger(e.startTime.low)&&a.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(null!=e.languageCode&&e.hasOwnProperty("languageCode")&&!a.isString(e.languageCode))return"languageCode: string expected";if(null!=e.languageIdentification&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(t=0;t<e.languageIdentification.length;++t){var n;if(n=s.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]))return"languageIdentification."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkTranscriptResult)return e;var t=new s.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var n=0;n<e.alternatives.length;++n){if("object"!==typeof e.alternatives[n])throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[n]=s.SdkTranscriptAlternative.fromObject(e.alternatives[n])}}if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.endTime&&(a.Long?(t.endTime=a.Long.fromValue(e.endTime)).unsigned=!1:"string"===typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"===typeof e.endTime?t.endTime=e.endTime:"object"===typeof e.endTime&&(t.endTime=new a.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.isPartial&&(t.isPartial=Boolean(e.isPartial)),null!=e.resultId&&(t.resultId=String(e.resultId)),null!=e.startTime&&(a.Long?(t.startTime=a.Long.fromValue(e.startTime)).unsigned=!1:"string"===typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"===typeof e.startTime?t.startTime=e.startTime:"object"===typeof e.startTime&&(t.startTime=new a.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),null!=e.languageCode&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(n=0;n<e.languageIdentification.length;++n){if("object"!==typeof e.languageIdentification[n])throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[n]=s.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.alternatives=[],n.languageIdentification=[]),t.defaults){if(n.channelId="",a.Long){var r=new a.Long(0,0,!1);n.endTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.endTime=t.longs===String?"0":0;if(n.isPartial=!1,n.resultId="",a.Long){r=new a.Long(0,0,!1);n.startTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startTime=t.longs===String?"0":0;n.languageCode=""}if(e.alternatives&&e.alternatives.length){n.alternatives=[];for(var i=0;i<e.alternatives.length;++i)n.alternatives[i]=s.SdkTranscriptAlternative.toObject(e.alternatives[i],t)}if(null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"===typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?a.Long.prototype.toString.call(e.endTime):t.longs===Number?new a.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.isPartial&&e.hasOwnProperty("isPartial")&&(n.isPartial=e.isPartial),null!=e.resultId&&e.hasOwnProperty("resultId")&&(n.resultId=e.resultId),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"===typeof e.startTime?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?a.Long.prototype.toString.call(e.startTime):t.longs===Number?new a.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.languageCode&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){n.languageIdentification=[];for(i=0;i<e.languageIdentification.length;++i)n.languageIdentification[i]=s.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTranscript=function(){function e(e){if(this.results=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.results=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.results&&e.results.length)for(var n=0;n<e.results.length;++n)s.SdkTranscriptResult.encode(e.results[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscript;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.results&&r.results.length||(r.results=[]),r.results.push(s.SdkTranscriptResult.decode(e,e.uint32()));else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.results&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var n=s.SdkTranscriptResult.verify(e.results[t]);if(n)return"results."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkTranscript)return e;var t=new s.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var n=0;n<e.results.length;++n){if("object"!==typeof e.results[n])throw TypeError(".SdkTranscript.results: object expected");t.results[n]=s.SdkTranscriptResult.fromObject(e.results[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.results=[]),e.results&&e.results.length){n.results=[];for(var r=0;r<e.results.length;++r)n.results[r]=s.SdkTranscriptResult.toObject(e.results[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTranscriptionStatus=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.eventTime=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.transcriptionRegion="",e.prototype.transcriptionConfiguration="",e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.eventTime&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),null!=e.transcriptionRegion&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),null!=e.transcriptionConfiguration&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscriptionStatus;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.eventTime=e.int64();break;case 3:r.transcriptionRegion=e.string();break;case 4:r.transcriptionConfiguration=e.string();break;case 5:r.message=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null==e.eventTime||!e.hasOwnProperty("eventTime")||a.isInteger(e.eventTime)||e.eventTime&&a.isInteger(e.eventTime.low)&&a.isInteger(e.eventTime.high)?null!=e.transcriptionRegion&&e.hasOwnProperty("transcriptionRegion")&&!a.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":null!=e.transcriptionConfiguration&&e.hasOwnProperty("transcriptionConfiguration")&&!a.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":null!=e.message&&e.hasOwnProperty("message")&&!a.isString(e.message)?"message: string expected":null:"eventTime: integer|Long expected"},e.fromObject=function(e){if(e instanceof s.SdkTranscriptionStatus)return e;var t=new s.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5}return null!=e.eventTime&&(a.Long?(t.eventTime=a.Long.fromValue(e.eventTime)).unsigned=!1:"string"===typeof e.eventTime?t.eventTime=parseInt(e.eventTime,10):"number"===typeof e.eventTime?t.eventTime=e.eventTime:"object"===typeof e.eventTime&&(t.eventTime=new a.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),null!=e.transcriptionRegion&&(t.transcriptionRegion=String(e.transcriptionRegion)),null!=e.transcriptionConfiguration&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.type=t.enums===String?"STARTED":1,a.Long){var r=new a.Long(0,0,!1);n.eventTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.eventTime=t.longs===String?"0":0;n.transcriptionRegion="",n.transcriptionConfiguration="",n.message=""}return null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.SdkTranscriptionStatus.Type[e.type]:e.type),null!=e.eventTime&&e.hasOwnProperty("eventTime")&&("number"===typeof e.eventTime?n.eventTime=t.longs===String?String(e.eventTime):e.eventTime:n.eventTime=t.longs===String?a.Long.prototype.toString.call(e.eventTime):t.longs===Number?new a.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),null!=e.transcriptionRegion&&e.hasOwnProperty("transcriptionRegion")&&(n.transcriptionRegion=e.transcriptionRegion),null!=e.transcriptionConfiguration&&e.hasOwnProperty("transcriptionConfiguration")&&(n.transcriptionConfiguration=e.transcriptionConfiguration),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="STARTED"]=1,t[e[2]="INTERRUPTED"]=2,t[e[3]="RESUMED"]=3,t[e[4]="STOPPED"]=4,t[e[5]="FAILED"]=5,t}(),e}(),s.SdkTranscriptEvent=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.status=null,e.prototype.transcript=null,Object.defineProperty(e.prototype,"Event",{get:a.oneOfGetter(t=["status","transcript"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&s.SdkTranscriptionStatus.encode(e.status,t.uint32(10).fork()).ldelim(),null!=e.transcript&&Object.hasOwnProperty.call(e,"transcript")&&s.SdkTranscript.encode(e.transcript,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscriptEvent;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.status=s.SdkTranscriptionStatus.decode(e,e.uint32());break;case 2:r.transcript=s.SdkTranscript.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t={};if(null!=e.status&&e.hasOwnProperty("status")&&(t.Event=1,n=s.SdkTranscriptionStatus.verify(e.status)))return"status."+n;if(null!=e.transcript&&e.hasOwnProperty("transcript")){if(1===t.Event)return"Event: multiple values";var n;if(t.Event=1,n=s.SdkTranscript.verify(e.transcript))return"transcript."+n}return null},e.fromObject=function(e){if(e instanceof s.SdkTranscriptEvent)return e;var t=new s.SdkTranscriptEvent;if(null!=e.status){if("object"!==typeof e.status)throw TypeError(".SdkTranscriptEvent.status: object expected");t.status=s.SdkTranscriptionStatus.fromObject(e.status)}if(null!=e.transcript){if("object"!==typeof e.transcript)throw TypeError(".SdkTranscriptEvent.transcript: object expected");t.transcript=s.SdkTranscript.fromObject(e.transcript)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.status&&e.hasOwnProperty("status")&&(n.status=s.SdkTranscriptionStatus.toObject(e.status,t),t.oneofs&&(n.Event="status")),null!=e.transcript&&e.hasOwnProperty("transcript")&&(n.transcript=s.SdkTranscript.toObject(e.transcript,t),t.oneofs&&(n.Event="transcript")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkTranscriptFrame=function(){function e(e){if(this.events=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.events=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.events&&e.events.length)for(var n=0;n<e.events.length;++n)s.SdkTranscriptEvent.encode(e.events[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkTranscriptFrame;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.events&&r.events.length||(r.events=[]),r.events.push(s.SdkTranscriptEvent.decode(e,e.uint32()));else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var n=s.SdkTranscriptEvent.verify(e.events[t]);if(n)return"events."+n}}return null},e.fromObject=function(e){if(e instanceof s.SdkTranscriptFrame)return e;var t=new s.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var n=0;n<e.events.length;++n){if("object"!==typeof e.events[n])throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[n]=s.SdkTranscriptEvent.fromObject(e.events[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.events=[]),e.events&&e.events.length){n.events=[];for(var r=0;r<e.events.length;++r)n.events[r]=s.SdkTranscriptEvent.toObject(e.events[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkRemoteVideoUpdateFrame=function(){function e(e){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.addedOrUpdatedVideoSubscriptions=a.emptyArray,e.prototype.removedVideoSubscriptionMids=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length)for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n)s.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[n],t.uint32(10).fork()).ldelim();if(null!=e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length)for(n=0;n<e.removedVideoSubscriptionMids.length;++n)t.uint32(18).string(e.removedVideoSubscriptionMids[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkRemoteVideoUpdateFrame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.addedOrUpdatedVideoSubscriptions&&r.addedOrUpdatedVideoSubscriptions.length||(r.addedOrUpdatedVideoSubscriptions=[]),r.addedOrUpdatedVideoSubscriptions.push(s.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:r.removedVideoSubscriptionMids&&r.removedVideoSubscriptionMids.length||(r.removedVideoSubscriptionMids=[]),r.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.addedOrUpdatedVideoSubscriptions&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var n=s.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(n)return"addedOrUpdatedVideoSubscriptions."+n}}if(null!=e.removedVideoSubscriptionMids&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!a.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.SdkRemoteVideoUpdateFrame)return e;var t=new s.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n){if("object"!==typeof e.addedOrUpdatedVideoSubscriptions[n])throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[n]=s.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[n])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(n=0;n<e.removedVideoSubscriptionMids.length;++n)t.removedVideoSubscriptionMids[n]=String(e.removedVideoSubscriptionMids[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addedOrUpdatedVideoSubscriptions=[],n.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){n.addedOrUpdatedVideoSubscriptions=[];for(var r=0;r<e.addedOrUpdatedVideoSubscriptions.length;++r)n.addedOrUpdatedVideoSubscriptions[r]=s.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[r],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){n.removedVideoSubscriptionMids=[];for(r=0;r<e.removedVideoSubscriptionMids.length;++r)n.removedVideoSubscriptionMids[r]=e.removedVideoSubscriptionMids[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkVideoSubscriptionConfiguration=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mid="",e.prototype.attendeeId="",e.prototype.streamId=0,e.prototype.priority=0,e.prototype.targetBitrateKbps=0,e.prototype.groupId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),t.uint32(10).string(e.mid),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),null!=e.streamId&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),null!=e.priority&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),null!=e.targetBitrateKbps&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),null!=e.groupId&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkVideoSubscriptionConfiguration;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.mid=e.string();break;case 2:r.attendeeId=e.string();break;case 3:r.streamId=e.uint32();break;case 4:r.priority=e.uint32();break;case 5:r.targetBitrateKbps=e.uint32();break;case 6:r.groupId=e.uint32();break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("mid"))throw a.ProtocolError("missing required 'mid'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":a.isString(e.mid)?null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!a.isString(e.attendeeId)?"attendeeId: string expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!a.isInteger(e.streamId)?"streamId: integer expected":null!=e.priority&&e.hasOwnProperty("priority")&&!a.isInteger(e.priority)?"priority: integer expected":null!=e.targetBitrateKbps&&e.hasOwnProperty("targetBitrateKbps")&&!a.isInteger(e.targetBitrateKbps)?"targetBitrateKbps: integer expected":null!=e.groupId&&e.hasOwnProperty("groupId")&&!a.isInteger(e.groupId)?"groupId: integer expected":null:"mid: string expected"},e.fromObject=function(e){if(e instanceof s.SdkVideoSubscriptionConfiguration)return e;var t=new s.SdkVideoSubscriptionConfiguration;return null!=e.mid&&(t.mid=String(e.mid)),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.priority&&(t.priority=e.priority>>>0),null!=e.targetBitrateKbps&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.mid="",n.attendeeId="",n.streamId=0,n.priority=0,n.targetBitrateKbps=0,n.groupId=0),null!=e.mid&&e.hasOwnProperty("mid")&&(n.mid=e.mid),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.priority&&e.hasOwnProperty("priority")&&(n.priority=e.priority),null!=e.targetBitrateKbps&&e.hasOwnProperty("targetBitrateKbps")&&(n.targetBitrateKbps=e.targetBitrateKbps),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkPrimaryMeetingJoinFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.credentials=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.credentials&&Object.hasOwnProperty.call(e,"credentials")&&s.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkPrimaryMeetingJoinFrame;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.credentials=s.SdkMeetingSessionCredentials.decode(e,e.uint32());else e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.credentials&&e.hasOwnProperty("credentials")){var t=s.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},e.fromObject=function(e){if(e instanceof s.SdkPrimaryMeetingJoinFrame)return e;var t=new s.SdkPrimaryMeetingJoinFrame;if(null!=e.credentials){if("object"!==typeof e.credentials)throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=s.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.credentials=null),null!=e.credentials&&e.hasOwnProperty("credentials")&&(n.credentials=s.SdkMeetingSessionCredentials.toObject(e.credentials,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkPrimaryMeetingJoinAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkPrimaryMeetingJoinAckFrame;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof s.SdkPrimaryMeetingJoinAckFrame?e:new s.SdkPrimaryMeetingJoinAckFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkPrimaryMeetingLeaveFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkPrimaryMeetingLeaveFrame;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof s.SdkPrimaryMeetingLeaveFrame?e:new s.SdkPrimaryMeetingLeaveFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkMeetingSessionCredentials=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.attendeeId="",e.prototype.externalUserId="",e.prototype.joinToken="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.attendeeId&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),null!=e.externalUserId&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),null!=e.joinToken&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkMeetingSessionCredentials;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.attendeeId=e.string();break;case 2:r.externalUserId=e.string();break;case 3:r.joinToken=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!a.isString(e.attendeeId)?"attendeeId: string expected":null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!a.isString(e.externalUserId)?"externalUserId: string expected":null!=e.joinToken&&e.hasOwnProperty("joinToken")&&!a.isString(e.joinToken)?"joinToken: string expected":null},e.fromObject=function(e){if(e instanceof s.SdkMeetingSessionCredentials)return e;var t=new s.SdkMeetingSessionCredentials;return null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),null!=e.joinToken&&(t.joinToken=String(e.joinToken)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.attendeeId="",n.externalUserId="",n.joinToken=""),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),null!=e.joinToken&&e.hasOwnProperty("joinToken")&&(n.joinToken=e.joinToken),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.SdkVideoCodecCapability=function(){var e={},t=Object.create(e);return t[e[1]="VP8"]=1,t[e[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,t}(),e.exports=s,a.Long=void 0,r.configure()},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(49),i=n(53),o=n(71),a=new o.a("I18n"),s=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!==typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),a.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return"undefined"!==typeof t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||("undefined"!==typeof t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),c=new o.a("I18n"),u=null,l=null,d=function(){function e(){}return e.configure=function(t){return c.debug("configure I18n"),t?(u=Object.assign({},u,t.I18n||t),e.createInstance(),u):u},e.getModuleName=function(){return"I18n"},e.createInstance=function(){c.debug("create I18n instance"),l||(l=new s(u))},e.setLanguage=function(t){return e.checkConfig(),l.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?l.get(t,n):"undefined"===typeof n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),l.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),l.putVocabularies(t)},e.checkConfig=function(){return l||(l=new s(u)),!0},e}();r.a.register(d);n(167);var f={userAgent:i.a.userAgent};r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return z})),n.d(t,"g",(function(){return ue})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return de}));var r,i=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=a||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),o=n(15),a=n(30),s=n.n(a),c=(n(311),n(98)),u=n.n(c),l=n(85),d=n.n(l);function f(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}"undefined"!==typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto);var h,p=function(){function e(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(f());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),v=m;function m(e,t){null!=e&&this.fromString(e,t)}function g(){return new m(null)}var b="undefined"!==typeof navigator;b&&"Microsoft Internet Explorer"==navigator.appName?(m.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],u=this[e++]>>15,l=s*c+u*a;i=((c=a*c+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*u+(i>>>30),n[r++]=1073741823&c}return i},h=30):b&&"Netscape"!=navigator.appName?(m.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},h=26):(m.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,l=s*c+u*a;i=((c=a*c+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*u,n[r++]=268435455&c}return i},h=28),m.prototype.DB=h,m.prototype.DM=(1<<h)-1,m.prototype.DV=1<<h;m.prototype.FV=Math.pow(2,52),m.prototype.F1=52-h,m.prototype.F2=2*h-52;var y,w,S=new Array;for(y="0".charCodeAt(0),w=0;w<=9;++w)S[y++]=w;for(y="a".charCodeAt(0),w=10;w<36;++w)S[y++]=w;for(y="A".charCodeAt(0),w=10;w<36;++w)S[y++]=w;function k(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function C(e,t){var n=S[e.charCodeAt(t)];return null==n?-1:n}function O(e){var t=g();return t.fromInt(e),t}function x(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function E(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function _(e){return o.Buffer.from((new p).random(e).toString(),"hex")}E.prototype.convert=function(e){var t=g();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(m.ZERO)>0&&this.m.subTo(t,t),t},E.prototype.revert=function(e){var t=g();return e.copyTo(t),this.reduce(t),t},E.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},E.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},E.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},m.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},m.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=C(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&m.ZERO.subTo(this,this)},m.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},m.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},m.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},m.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},m.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},m.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},m.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&m.ZERO.subTo(t,t)},m.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},m.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=g());var o=g(),a=this.s,s=e.s,c=this.DB-x(r[r.t-1]);c>0?(r.lShiftTo(c,o),i.lShiftTo(c,n)):(r.copyTo(o),i.copyTo(n));var u=o.t,l=o[u-1];if(0!=l){var d=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),f=this.FV/d,h=(1<<this.F1)/d,p=1<<this.F2,v=n.t,b=v-u,y=null==t?g():t;for(o.dlShiftTo(b,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),m.ONE.dlShiftTo(u,y),y.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--b>=0;){var w=n[--v]==l?this.DM:Math.floor(n[v]*f+(n[v-1]+p)*h);if((n[v]+=o.am(0,w,n,b,0,u))<w)for(o.dlShiftTo(b,y),n.subTo(y,n);n[v]<--w;)n.subTo(y,n)}null!=t&&(n.drShiftTo(u,t),a!=s&&m.ZERO.subTo(t,t)),n.t=u,n.clamp(),c>0&&n.rShiftTo(c,n),a<0&&m.ZERO.subTo(n,n)}}},m.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},m.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},m.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=k(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=k(n));return i?o:"0"},m.prototype.negate=function(){var e=g();return m.ZERO.subTo(this,e),e},m.prototype.abs=function(){return this.s<0?this.negate():this},m.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},m.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+x(this[this.t-1]^this.s&this.DM)},m.prototype.mod=function(e){var t=g();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(m.ZERO)>0&&e.subTo(t,t),t},m.prototype.equals=function(e){return 0==this.compareTo(e)},m.prototype.add=function(e){var t=g();return this.addTo(e,t),t},m.prototype.subtract=function(e){var t=g();return this.subTo(e,t),t},m.prototype.multiply=function(e){var t=g();return this.multiplyTo(e,t),t},m.prototype.divide=function(e){var t=g();return this.divRemTo(e,t,null),t},m.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=O(1),a=new E(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var s=new Array,c=3,u=r-1,l=(1<<r)-1;if(s[1]=a.convert(this),r>1){var d=g();for(a.sqrTo(s[1],d);c<=l;)s[c]=g(),a.mulTo(d,s[c-2],s[c]),c+=2}var f,h,p=e.t-1,v=!0,m=g();for(i=x(e[p])-1;p>=0;){for(i>=u?f=e[p]>>i-u&l:(f=(e[p]&(1<<i+1)-1)<<u-i,p>0&&(f|=e[p-1]>>this.DB+i-u)),c=r;0==(1&f);)f>>=1,--c;if((i-=c)<0&&(i+=this.DB,--p),v)s[f].copyTo(o),v=!1;else{for(;c>1;)a.sqrTo(o,m),a.sqrTo(m,o),c-=2;c>0?a.sqrTo(o,m):(h=o,o=m,m=h),a.mulTo(m,s[f],o)}for(;p>=0&&0==(e[p]&1<<i);)a.sqrTo(o,m),h=o,o=m,m=h,--i<0&&(i=this.DB-1,--p)}var b=a.revert(o);return n(null,b),b},m.ZERO=O(0),m.ONE=O(1);var T=/^[89a-f]/i,I=function(){function e(e){this.N=new v("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new v("2",16),this.k=new v(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=o.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=_(128).toString("hex");return new v(e,16)},t.generateRandomString=function(){return _(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),a=_(16).toString("hex");this.SaltToHashDevices=this.padHex(new v(a,16)),this.g.modPow(new v(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(v.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new v(this.UHexHash,16)},t.hash=function(e){var t=e instanceof o.Buffer?s.a.lib.WordArray.create(e):e,n=u()(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(o.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var n=s.a.lib.WordArray.create(o.Buffer.concat([this.infoBits,o.Buffer.from(String.fromCharCode(1),"utf8")])),r=e instanceof o.Buffer?s.a.lib.WordArray.create(e):e,i=t instanceof o.Buffer?s.a.lib.WordArray.create(t):t,a=d()(r,i),c=d()(n,a);return o.Buffer.from(c.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var a=this;if(n.mod(this.N).equals(v.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(v.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,c=this.hash(s),u=new v(this.hexHash(this.padHex(r)+c),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=a.computehkdf(o.Buffer.from(a.padHex(t),"hex"),o.Buffer.from(a.padHex(a.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof v))throw new Error("Not a BigInteger");var t=e.compareTo(v.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!==0?"0"+n:n,n=T.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new v(r,16).add(v.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),A=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(o.Buffer.from(e,"base64").toString("utf8"))}catch(t){return{}}},e}();function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var P=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,M(t,n),r}(A);function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}var R=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,j(t,n),r}(A),D=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),N=n(102),L=n.n(N),F=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=B[e.getUTCDay()],n=U[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+i+":"+o+":"+a+" UTC "+e.getUTCFullYear()},e}(),z=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),H={},W=function(){function e(){}return e.setItem=function(e,t){return H[e]=t,H[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(H,e)?H[e]:void 0},e.removeItem=function(e){return delete H[e]},e.clear=function(){return H={}},e}(),q=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=W}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),K="undefined"!==typeof navigator?navigator.userAgent:"nodejs",G=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new q).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,a=new I(this.pool.getUserPoolId().split("_")[1]),c=new V,u={};null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,a.getLargeAValue((function(l,f){l&&t.onFailure(l),u.SRP_A=f.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(u.CHALLENGE_NAME="SRP_A");var h=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),p={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:u,ClientMetadata:h};i.getUserContextData(i.username)&&(p.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",p,(function(u,l){if(u)return t.onFailure(u);var f=l.ChallengeParameters;i.username=f.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new v(f.SRP_B,16),r=new v(f.SALT,16),i.getCachedDeviceKeyAndPassword(),a.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=c.getNowString(),u=s.a.lib.WordArray.create(o.Buffer.concat([o.Buffer.from(i.pool.getUserPoolId().split("_")[1],"utf8"),o.Buffer.from(i.username,"utf8"),o.Buffer.from(f.SECRET_BLOCK,"base64"),o.Buffer.from(r,"utf8")])),p=s.a.lib.WordArray.create(n),v=L.a.stringify(d()(u,p)),m={};m.USERNAME=i.username,m.PASSWORD_CLAIM_SECRET_BLOCK=f.SECRET_BLOCK,m.TIMESTAMP=r,m.PASSWORD_CLAIM_SIGNATURE=v,null!=i.deviceKey&&(m.DEVICE_KEY=i.deviceKey);var g={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:m,Session:l.Session,ClientMetadata:h};i.getUserContextData()&&(g.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(m.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(g,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,a,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new I(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,a=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,a);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,a);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,a);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,a);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(a);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,c=null,u=[],l=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(a&&(s=JSON.parse(e.ChallengeParameters.userAttributes),c=JSON.parse(e.ChallengeParameters.requiredAttributes)),c)for(var d=0;d<c.length;d++)u[d]=c[d].substr(l.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var a={Salt:o.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=a.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:K},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new I(this.pool.getUserPoolId().split("_")[1]),a=o.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var c={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new I(this.deviceGroupKey),i=new V,a={};a.USERNAME=this.username,a.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(c,u){c&&e.onFailure(c),a.SRP_A=u.toString(16);var l={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:a,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(l.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",l,(function(t,a){if(t)return e.onFailure(t);var c=a.ChallengeParameters,u=new v(c.SRP_B,16),l=new v(c.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,u,l,(function(t,r){if(t)return e.onFailure(t);var u=i.getNowString(),l=s.a.lib.WordArray.create(o.Buffer.concat([o.Buffer.from(n.deviceGroupKey,"utf8"),o.Buffer.from(n.deviceKey,"utf8"),o.Buffer.from(c.SECRET_BLOCK,"base64"),o.Buffer.from(u,"utf8")])),f=s.a.lib.WordArray.create(r),h=L.a.stringify(d()(l,f)),p={};p.USERNAME=n.username,p.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,p.TIMESTAMP=u,p.PASSWORD_CLAIM_SIGNATURE=h,p.DEVICE_KEY=n.deviceKey;var v={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:p,Session:a.Session};n.getUserContextData()&&(v.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",v,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new I(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,a={};a.USERNAME=this.username,a.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(a.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey);var c={ChallengeName:s,ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new I(i.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var a={Salt:o.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=a.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:K},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},a=new z(o);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(i){return this.clearCachedUserData(),void e(i,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new R({IdToken:this.storage.getItem(r)}),c=new P({AccessToken:this.storage.getItem(i)}),u=new D({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(a),0)||0,d=new F({IdToken:s,AccessToken:c,RefreshToken:u,ClockDrift:l});if(d.isValid())return this.signInUserSession=d,e(null,this.signInUserSession);if(!u.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(u,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var c=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(c),o.DEVICE_KEY=this.deviceKey}var u={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",u,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new R(e),n=new P(e),r=new D(e);return new F({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"===typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"===typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"===typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!==typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"===typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(t){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}(),J=(n(497),"aws-amplify/5.0.4"),$={userAgent:J+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!==typeof navigator&&navigator.product)if($.product=navigator.product||"",$.navigator=navigator||null,"ReactNative"===navigator.product)$.userAgent=J+" react-native",$.isReactNative=!0;else $.userAgent=J+" js",$.isReactNative=!1;function Y(){}Y.prototype.userAgent=$.userAgent;var Q=Y;function Z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ne(e,t)}function X(e){var t="function"===typeof Map?new Map:void 0;return X=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ee(e,arguments,re(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ne(r,e)},X(e)}function ee(e,t,n){return ee=te()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ne(i,n.prototype),i},ee.apply(null,arguments)}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ie=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return Z(t,e),t}(X(Error)),oe=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new ie(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=ce);return se(e,t,function(e){var t=100,n=100;return function(r){var i=Math.pow(2,r)*t+n*Math.random();return!(i>e)&&i}}(n))})((function(t){return new Promise((function(n,i){r.request(e,t,(function(e,t){e?i(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":Q.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(o){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),ae=function(){};Error;function se(e,t,n,r){if(void 0===r&&(r=1),"function"!==typeof e)throw Error("functionToRetry must be a function");return ae(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(ae("error on "+e.name,i),(o=i)&&o.nonRetryable)throw ae(e.name+" non retryable error",i),i;var o,a=n(r,t,i);if(ae(e.name+" retrying in "+a+" ms"),!1!==a)return new Promise((function(e){return setTimeout(e,a)})).then((function(){return se(e,t,n,r+1)}));throw i}))}var ce=3e5;var ue=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var c=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new oe(c,o,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new q).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:a,Storage:a.storage},o={user:new G(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new G(n)}return null},t.getUserContextData=function(e){if("undefined"!==typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),le=n(88),de=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),le.set(e,t,n),le.get(e)},t.getItem=function(e){return le.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),le.remove(e,t)},t.clear=function(){for(var e=le.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}()},,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers},e}();var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};function o(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var a=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers},e.prototype.clone=function(){var t,n=new e(i(i({},this),{headers:i({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,a=t[n];return i(i({},e),((r={})[n]=Array.isArray(a)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}(a):a,r))}),{}))),n},e}()},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return Z})),n.d(t,"c",(function(){return ge})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return ye})),n.d(t,"f",(function(){return be})),n.d(t,"g",(function(){return p}));var i=n(68);n(97);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l={}.constructor;function d(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(d);if(e.constructor!==l)return e;var t={};for(var n in e)t[n]=d(e[n]);return t}function f(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=d(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var h=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},p=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=h(e[n]," ");else t=h(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function v(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function m(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function g(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=v(n),c=s.linebreak,u=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var d=a[l];for(var f in d){var h=d[f];null!=h&&(r&&(r+=c),r+=m(f+":"+u+p(h)+";",o))}}else for(var g in a){var b=a[g];null!=b&&(r&&(r+=c),r+=m(g+":"+u+p(b)+";",o))}for(var y in t){var w=t[y];null!=w&&"fallbacks"!==y&&(r&&(r+=c),r+=m(y+":"+u+p(w)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+c+r+c),m(""+e+u+"{"+r,--o)+m("}",o)):r}var b=/([[\].#*$><+~=|^:(),"'`\s])/g,y="undefined"!==typeof CSS&&CSS.escape,w=function(e){return y?y(e):e.replace(b,"\\$1")},S=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var c=this.options.sheet;return c&&c.attached,this},e}(),k=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(u(u(i)),s),i.selectorText="."+w(i.id)),i}c(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=p(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?r({},e,{allowEmpty:!0}):e;return g(this.selectorText,this.style,n)},a(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(S),C={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new k(e,t,n)}},O={indent:1,children:!0},x=/@([\w-]+)/,E=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(x);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new $(r({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=O);var t=v(e).linebreak;if(null==e.indent&&(e.indent=O.indent),null==e.children&&(e.children=O.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),_=/@media|@supports\s+/,T={onCreateRule:function(e,t,n){return _.test(e)?new E(e,t,n):null}},I={indent:1,children:!0},A=/@keyframes\s+([\w-]+)/,M=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(A);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var c in this.id=!1===o?this.name:w(s(this,a)),this.rules=new $(r({},n,{parent:this})),t)this.rules.add(c,t[c],r({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=I);var t=v(e).linebreak;if(null==e.indent&&(e.indent=I.indent),null==e.children&&(e.children=I.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),P=/@keyframes\s+/,j=/\$([\w-]+)/g,R=function(e,t){return"string"===typeof e?e.replace(j,(function(e,n){return n in t?t[n]:e})):e},D=function(e,t,n){var r=e[t],i=R(r,n);i!==r&&(e[t]=i)},N={onCreateRule:function(e,t,n){return"string"===typeof e&&P.test(e)?new M(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&D(e,"animation-name",n.keyframes),"animation"in e&&D(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return R(e,r.keyframes);default:return e}}},L=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?r({},e,{allowEmpty:!0}):e;return g(this.key,this.style,n)},t}(S),F={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new L(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=v(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=g(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return g(this.at,this.style,e)},e}(),B=/@font-face/,V={onCreateRule:function(e,t,n){return B.test(e)?new U(e,t,n):null}},z=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return g(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new z(e,t,n):null}},W=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},K=[C,T,N,F,V,H,{onCreateRule:function(e,t,n){return e in q?new W(e,t,n):null}}],G={process:!0},J={force:!0,process:!0},$=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,c=i.Renderer,u=i.generateId,l=i.scoped,d=r({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:c,generateId:u,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(d.selector="."+w(this.classes[h]));var p=f(h,t,d);if(!p)return null;this.register(p);var v=void 0===d.index?this.index.length:d.index;return this.index.splice(v,0,p),p},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=r({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof k?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof M&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof k?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof M&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=G);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var c in o.onProcessStyle(t.style,t,a),t.style){var u=t.style[c];u!==s[c]&&t.prop(c,u,J)}for(var l in s){var d=t.style[l],f=s[l];null==d&&d!==f&&t.prop(l,null,J)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=v(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),Y=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=r({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new $(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Q=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Z=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["attached"]),i=v(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},a(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),X=new Z,ee="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),te="2f1acc6c3a606b082e5eef5e54414ffb";null==ee[te]&&(ee[te]=0);var ne=ee[te]++,re=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ne+i+t:o+n.key+"-"+ne+(i?"-"+i:"")+"-"+t}},ie=function(e){var t;return function(){return t||(t=e()),t}},oe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ae=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=p(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},se=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ce=function(e,t){return e.selectorText=t,e.selectorText===t},ue=ie((function(){return document.querySelector("head")}));function le(e){var t=X.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ue(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=ie((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),fe=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},he=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},pe=function(){function e(e){this.getPropertyValue=oe,this.setProperty=ae,this.removeProperty=se,this.setSelector=ce,this.hasInsertedRules=!1,this.cssRules=[],e&&X.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=de();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=le(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ue().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=he(n,t);if(!1===(i=fe(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=he(n,t),c=fe(n,a,s);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,s,c),c)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Y&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ve=0,me=function(){function e(e){this.id=ve++,this.version="10.9.2",this.plugins=new Q,this.options={id:{minify:!1},createGenerateId:re,Renderer:i.a?pe:null,plugins:[]},this.generateId=re({minify:!1});for(var t=0;t<K.length;t++)this.plugins.use(K[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=r({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===X.index?0:X.index+1);var i=new Y(e,r({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),X.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=r({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=f(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),ge=function(e){return new me(e)},be="object"===typeof CSS&&null!=CSS&&"number"in CSS;function ye(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ye(r);o&&(t||(t={}),t[n]=o)}}return t}ge()},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(r||(r={}))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingClientEventType=void 0,function(e){e[e.WebSocketConnecting=0]="WebSocketConnecting",e[e.WebSocketOpen=1]="WebSocketOpen",e[e.WebSocketError=2]="WebSocketError",e[e.WebSocketClosing=3]="WebSocketClosing",e[e.WebSocketClosed=4]="WebSocketClosed",e[e.WebSocketFailed=5]="WebSocketFailed",e[e.WebSocketMessage=6]="WebSocketMessage",e[e.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",e[e.WebSocketSentMessage=8]="WebSocketSentMessage",e[e.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",e[e.ReceivedSignalFrame=10]="ReceivedSignalFrame",e[e.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"}(r=t.SignalingClientEventType||(t.SignalingClientEventType={})),t.default=r},function(e,t,n){(function(t){e.exports=function(){var e=e||function(e,r){var i;if("undefined"!==typeof window&&window.crypto&&(i=window.crypto),"undefined"!==typeof self&&self.crypto&&(i=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!==typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&"undefined"!==typeof t&&t.crypto&&(i=t.crypto),!i)try{i=n(495)}catch(g){}var o=function(){if(i){if("function"===typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},u=c.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=r?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new l.init(t,e)}}),d=s.enc={},f=d.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},h=d.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},p=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},v=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*c,o);if(c){for(var d=0;d<c;d+=a)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(c.Hasher=v.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math);return e}()}).call(this,n(34))},function(e,t,n){"use strict";var r=n(7).default,i=n(12).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(381),u=function(){function e(){o(this,e),this.browser=c.detect(),this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview"]}return a(e,[{key:"version",value:function(){return this.browser.version}},{key:"majorVersion",value:function(){return parseInt(this.version().split(".")[0])}},{key:"name",value:function(){return this.browser.name}},{key:"hasChromiumWebRTC",value:function(){var e,t=i(this.chromeLike);try{for(t.s();!(e=t.n()).done;){if(e.value===this.browser.name)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"hasWebKitWebRTC",value:function(){var e,t=i(this.webkitBrowsers);try{for(t.s();!(e=t.n()).done;){if(e.value===this.browser.name)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"hasFirefoxWebRTC",value:function(){return this.isFirefox()}},{key:"supportsCanvasCapturedStreamPlayback",value:function(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}},{key:"supportsBackgroundFilter",value:function(){return("safari"!==this.name()||15!==this.majorVersion())&&!!this.supportsCanvasCapturedStreamPlayback()}},{key:"supportsVideoLayersAllocationRtpHeaderExtension",value:function(){return this.hasChromiumWebRTC()}},{key:"requiresResolutionAlignment",value:function(e,t){return this.isAndroid()&&this.isPixel3()?[64*Math.ceil(e/64),64*Math.ceil(t/64)]:[e,t]}},{key:"requiresCheckForSdpConnectionAttributes",value:function(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}},{key:"requiresIceCandidateGatheringTimeoutWorkaround",value:function(){return this.hasChromiumWebRTC()}},{key:"requiresBundlePolicy",value:function(){return"max-bundle"}},{key:"requiresNoExactMediaStreamConstraints",value:function(){return this.isSamsungInternet()}},{key:"requiresGroupIdMediaStreamConstraints",value:function(){return this.isSamsungInternet()}},{key:"getDisplayMediaAudioCaptureSupport",value:function(){return this.isChrome()||this.isEdge()}},{key:"doesNotSupportMediaDeviceLabels",value:function(){return"chromium-webview"===this.browser.name}},{key:"isSupported",value:function(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name])&&("firefox"!==this.browser.name||!this.isAndroid())}},{key:"isSimulcastSupported",value:function(){return this.hasChromiumWebRTC()}},{key:"supportDownlinkBandwidthEstimation",value:function(){return!this.isFirefox()}},{key:"supportString",value:function(){if(this.isAndroid())return"".concat(this.browserName.chrome," ").concat(this.browserSupport.chrome,"+, ").concat(this.browserName.samsung," ").concat(this.browserSupport.samsung,"+");var e=[];for(var t in this.browserSupport)e.push("".concat(this.browserName[t]," ").concat(this.browserSupport[t],"+"));return e.join(", ")}},{key:"supportedVideoCodecs",value:function(){return s(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new RTCPeerConnection).addTransceiver("video",{direction:"inactive",streams:[]}),e.next=4,t.createOffer({offerToReceiveVideo:!0});case 4:return e.abrupt("return",e.sent.sdp.split("\r\n").filter((function(e){return e.includes("a=rtpmap:")})).map((function(e){return e.replace(/.* /,"").replace(/\/.*/,"")})).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(e){return"rtx"!==e&&"red"!==e&&"ulpfec"!==e})));case 5:case"end":return e.stop()}}),e)})))}},{key:"supportsSetSinkId",value:function(){return"setSinkId"in HTMLAudioElement.prototype}},{key:"disableResolutionScaleDown",value:function(){return this.isAndroid()}},{key:"disable480pResolutionScaleDown",value:function(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}},{key:"requiresDisablingH264Encoding",value:function(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&("15.1.0"===this.version()||/( OS 15_1)/i.test(navigator.userAgent))}},{key:"requiresVideoPlayWorkaround",value:function(){return this.isSafari()}},{key:"isIOSSafari",value:function(){return"ios"===this.browser.name||"ios-webview"===this.browser.name||"safari"===this.browser.name&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}},{key:"isSafari",value:function(){return"safari"===this.browser.name||this.isIOSSafari()}},{key:"isFirefox",value:function(){return"firefox"===this.browser.name}},{key:"isIOSFirefox",value:function(){return"fxios"===this.browser.name}},{key:"isIOSChrome",value:function(){return"crios"===this.browser.name}},{key:"isChrome",value:function(){return"chrome"===this.browser.name}},{key:"isEdge",value:function(){return"edge-chromium"===this.browser.name}},{key:"isSamsungInternet",value:function(){return"samsung"===this.browser.name}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isPixel3",value:function(){return/( pixel 3)/i.test(navigator.userAgent)}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(324),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:c,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";var r=n(349),i=n.n(r).a;t.a=i},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(11),i=n(18),o=n(39),a=n(1),s=n.n(a),c=n(54),u=n.n(c),l=n(574),d=n(571),f=n(569),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,a=t.withTheme,c=void 0!==a&&a,h=t.name,p=Object(o.a)(t,["defaultTheme","withTheme","name"]);var v=h,m=Object(l.a)(e,Object(i.a)({defaultTheme:r,Component:n,name:h||n.displayName,classNamePrefix:v},p)),g=s.a.forwardRef((function(e,t){e.classes;var a,u=e.innerRef,l=Object(o.a)(e,["classes","innerRef"]),p=m(Object(i.a)({},n.defaultProps,e)),v=l;return("string"===typeof h||c)&&(a=Object(f.a)()||r,h&&(v=Object(d.a)({theme:a,name:h,props:l})),c&&!v.theme&&(v.theme=a)),s.a.createElement(n,Object(i.a)({ref:u||t,classes:p},v))}));return u()(g,n),g}},p=n(50);t.a=function(e,t){return h(e,Object(r.a)({defaultTheme:p.a},t))}},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,"clsx",(function(){return i})),t.default=i},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],i=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},o=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return"undefined"===typeof o?"undefined"===typeof i?0:1*r:"undefined"===typeof i||i<o?-1*r:i>o?1*r:0})),!0},a=function(e,t){var n=Object.assign({},e);return t&&("string"===typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},s=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),i=r.filter((function(e){return n.endsWith("."+e.ext)}));return i.length>0?i[0].type:t},c=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},u=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},l=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},d=function(){if("undefined"===typeof self)return!1;var e=self;return"undefined"!==typeof e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},f=function(){return{isBrowser:"undefined"!==typeof window&&"undefined"!==typeof window.document,isNode:"undefined"!==typeof e&&null!=e.versions&&null!=e.versions.node}},h=function e(t,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),!v(t))return t;var i={};for(var o in t){if(t.hasOwnProperty(o))i[n.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=r.includes(o)?t[o]:e(t[o],n,r)}return i},p=function e(t,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),!v(t))return t;var i={};for(var o in t){if(t.hasOwnProperty(o))i[n.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=r.includes(o)?t[o]:e(t[o],n,r)}return i},v=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)};!function(){function e(){}e.isEmpty=i,e.sortByField=o,e.objectLessAttributes=a,e.filenameToContentType=s,e.isTextFile=c,e.generateRandomString=u,e.makeQuerablePromise=l,e.isWebWorker=d,e.browserOrNode=f,e.transferKeyToLowerCase=h,e.transferKeyToUpperCase=p,e.isStrictObject=v}()}).call(this,n(72))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));for(var r={},i={},o=0;o<256;o++){var a=o.toString(16).toLowerCase();1===a.length&&(a="0"+a),r[o]=a,i[a]=o}function s(e){for(var t="",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(c[s[d]]=n[s[d]])}}return c}},,function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0}),t.None=t.Some=t.Maybe=void 0;var o=function(){function e(){r(this,e)}return i(e,null,[{key:"of",value:function(e){return void 0===e||null===e?s.of():a.of(e)}}]),e}();t.Maybe=o;var a=function(){function e(t){r(this,e),this.value=t,this.isSome=!0,this.isNone=!1}return i(e,[{key:"map",value:function(e){return o.of(e(this.value))}},{key:"flatMap",value:function(e){return e(this.value)}},{key:"get",value:function(){return this.value}},{key:"getOrElse",value:function(e){return this.value}},{key:"defaulting",value:function(e){return o.of(this.getOrElse(e))}}],[{key:"of",value:function(t){if(null===t||void 0===t)throw new Error("value is ${value}");return new e(t)}}]),e}();t.Some=a;var s=function(){function e(){r(this,e),this.isSome=!1,this.isNone=!0}return i(e,[{key:"get",value:function(){throw new Error("value is null")}},{key:"getOrElse",value:function(e){return e}},{key:"map",value:function(t){return new e}},{key:"flatMap",value:function(t){return new e}},{key:"defaulting",value:function(e){return o.of(this.getOrElse(e))}}],[{key:"of",value:function(){return new e}}]),e}();t.None=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionStatusCode=void 0,function(e){e[e.OK=0]="OK",e[e.Left=1]="Left",e[e.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",e[e.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",e[e.AudioCallAtCapacity=4]="AudioCallAtCapacity",e[e.MeetingEnded=5]="MeetingEnded",e[e.AudioInternalServerError=6]="AudioInternalServerError",e[e.AudioServiceUnavailable=7]="AudioServiceUnavailable",e[e.AudioDisconnected=8]="AudioDisconnected",e[e.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",e[e.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",e[e.SignalingBadRequest=11]="SignalingBadRequest",e[e.SignalingInternalServerError=12]="SignalingInternalServerError",e[e.SignalingRequestFailed=13]="SignalingRequestFailed",e[e.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",e[e.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",e[e.RealtimeApiFailed=16]="RealtimeApiFailed",e[e.TaskFailed=17]="TaskFailed",e[e.IncompatibleSDP=18]="IncompatibleSDP",e[e.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",e[e.NoAttendeePresent=20]="NoAttendeePresent",e[e.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",e[e.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",e[e.AudioDisconnectAudio=23]="AudioDisconnectAudio"}(r=t.MeetingSessionStatusCode||(t.MeetingSessionStatusCode={})),t.default=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.call(this,0)}return i(n,null,[{key:"nextTick",value:function(e){setTimeout(e,0)}}]),n}(n(90).default);t.default=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(r=t.LogLevel||(t.LogLevel={})),t.default=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(71),i=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=new r.a("Amplify"),a=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=r.a,this.ServiceWorker=null}return e.prototype.register=function(e){o.debug("component registered in amplify",e),this._components.push(e),"function"===typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):o.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),o.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=i(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"===typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"===typeof t.addPluggable&&t.addPluggable(e)}))},e}())},function(e,t,n){"use strict";var r=n(79),i=Object(r.a)();t.a=i},,function(e,t,n){"use strict";var r=n(382).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),s=n(383),c=function(){function e(){i(this,e)}return o(e,null,[{key:"sdkName",get:function(){return"amazon-chime-sdk-js"}},{key:"sdkVersion",get:function(){return s.default.semverString}},{key:"sdkVersionSemVer",get:function(){var e,t,n,i,o=s.default.semverString.match(r(/^([0-9]+)\.([0-9]+)((?:\.([0-9]+))(?:\x2D([a-zA-Z]+(\.[0-9])*))?)?/,{major:1,minor:2,patch:4,preRelease:5}));return{major:null===(e=null===o||void 0===o?void 0:o.groups)||void 0===e?void 0:e.major,minor:null===(t=null===o||void 0===o?void 0:o.groups)||void 0===t?void 0:t.minor,patch:null===(n=null===o||void 0===o?void 0:o.groups)||void 0===n?void 0:n.patch,preRelease:null===(i=null===o||void 0===o?void 0:o.groups)||void 0===i?void 0:i.preRelease}}},{key:"buildSHA",get:function(){return s.default.hash.substr(1)}},{key:"sdkUserAgentLowResolution",get:function(){var e=new a.default;return"".concat(e.name(),"-").concat(e.majorVersion())}},{key:"urlWithVersion",value:function(t){var n=new URL(t);return n.searchParams.append(e.X_AMZN_VERSION,e.sdkVersion),n.searchParams.append(e.X_AMZN_USER_AGENT,e.sdkUserAgentLowResolution),n.toString()}}]),e}();t.default=c,c.X_AMZN_VERSION="X-Amzn-Version",c.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r="aws-amplify/4.7.3",i={userAgent:r+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!==typeof navigator&&navigator.product)if(i.product=navigator.product||"",i.navigator=navigator||null,"ReactNative"===navigator.product)i.userAgent=r+" react-native",i.isReactNative=!0;else i.userAgent=r+" js",i.isReactNative=!1;var o=function(e){return""+i.userAgent+(e||"")}},function(e,t,n){"use strict";var r=n(485),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),v=c(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var b=f(n,g);try{u(t,g,b)}catch(y){}}}}return t}},function(e,t,n){"use strict";var r=n(557);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(183);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(411),i=n(412),o=n(132),a=n(413);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(168);n(23);t.a=r.a},,function(e,t,n){"use strict";(function(e){var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(392),r.base64=n(393),r.EventEmitter=n(394),r.float=n(395),r.inquire=n(396),r.utf8=n(397),r.pool=n(398),r.LongBits=n(399),r.isNode=Boolean("undefined"!==typeof e&&e&&e.process&&e.process.versions&&e.process.versions.node),r.global=r.isNode&&e||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"===typeof e||e instanceof String},r.isObject=function(e){return e&&"object"===typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"===typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(34))},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){r(this,e),this.intervalMs=t}return i(e,[{key:"start",value:function(e){this.stop(),this.timer=setInterval(e,this.intervalMs)}},{key:"stop",value:function(){void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}},{key:"running",value:function(){return void 0!==this.timer}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(94),a=function(){function e(t){r(this,e),this._id=t}return i(e,[{key:"id",value:function(){return this._id}},{key:"base",value:function(){return this._id?this._id.split(e.MODALITY_SEPARATOR)[0]:""}},{key:"modality",value:function(){if(!this._id)return"";var t=this._id.split(e.MODALITY_SEPARATOR);return 2===t.length?t[1]:""}},{key:"hasModality",value:function(e){return""!==e&&this.modality()===e}},{key:"withModality",value:function(t){var n=new e(this.base()+e.MODALITY_SEPARATOR+t);return""===t||""===this.base()||new e(n._id).modality()!==t?new e(this.base()):n}}]),e}();t.default=a,a.MODALITY_SEPARATOR=o.default.Modality[0],a.MODALITY_CONTENT=o.default.Modality.substr(1)},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default,s=n(405).default;Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){o(n,e);var t=a(n);function n(e,r){var o;return i(this,n),(o=t.call(this,r||"Error fetching device.")).cause=e,o.name="GetUserMediaError",o}return r(n)}(s(Error));t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertServerSideNetworkAdaptionEnumToSignaled=t.convertServerSideNetworkAdaptionEnumFromSignaled=t.ServerSideNetworkAdaption=void 0;var r,i=n(21);!function(e){e[e.Default=0]="Default",e[e.None=1]="None",e[e.BandwidthProbing=2]="BandwidthProbing"}(r=t.ServerSideNetworkAdaption||(t.ServerSideNetworkAdaption={})),t.default=r,t.convertServerSideNetworkAdaptionEnumFromSignaled=function(e){switch(e){case i.SdkServerSideNetworkAdaption.DEFAULT:return r.Default;case i.SdkServerSideNetworkAdaption.NONE:return r.None;case i.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return r.BandwidthProbing}},t.convertServerSideNetworkAdaptionEnumToSignaled=function(e){switch(e){case r.Default:return i.SdkServerSideNetworkAdaption.DEFAULT;case r.None:return i.SdkServerSideNetworkAdaption.NONE;case r.BandwidthProbing:return i.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING}}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,i){r(this,e),this.fixedWaitMs=t,this.shortBackoffMs=n,this.longBackoffMs=i,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}return i(e,[{key:"reset",value:function(){this.currentRetry=0}},{key:"nextBackoffAmountMs",value:function(){var e=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,e}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(49),i={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new(n(96).a)).getStorage()};function o(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function a(){return(new Date).getTime()}function s(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var c={},u=(function(){function e(){}e.clear=function(){c={}},e.getItem=function(e){return c[e]||null},e.setItem=function(e,t){c[e]=t},e.removeItem=function(e){delete c[e]}}(),n(71)),l=new u.a("StorageCache"),d=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){s(this.config.capacityInBytes)||(l.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=i.capacityInBytes),s(this.config.itemMaxSize)||(l.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=i.itemMaxSize),s(this.config.defaultTTL)||(l.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=i.defaultTTL),s(this.config.defaultPriority)||(l.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=i.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(l.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=i.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(l.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=i.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(l.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=i.warningThreshold);this.config.capacityInBytes>5242880&&(l.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=i.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:a(),visitedTime:a(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=o(JSON.stringify(r)),r.byteSize=o(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&l.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),f=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=new u.a("Cache"),p=new(function(e){function t(t){var n=this,r=t?Object.assign({},i,t):i;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return f(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=a(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return a()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(n){this._decreaseCurSizeInBytes(t.byteSize),h.error("Failed to set item "+n)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var a=JSON.parse(o);n.push(a)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){h.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if("undefined"!==typeof t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+a()};if(i.priority<1||i.priority>5)h.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)h.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var s=this.config.storage.getItem(r);if(s&&this._removeItem(r,JSON.parse(s).byteSize),this._isCacheFull(o.byteSize)){var c=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(c,u)}}this._setItem(r,o)}catch(l){h.warn("setItem failed! "+l)}}}else h.warn("The value of item should not be undefined!");else h.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){h.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return h.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(a){return h.warn("getItem failed! "+a),null}},t.prototype.removeItem=function(e){h.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(r){h.warn("removeItem failed! "+r)}},t.prototype.clear=function(){h.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(r){h.warn("clear failed! "+r)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==i.keyPrefix||(h.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=a.toString()),new t(e)},t}(d));t.a=p;r.a.register(p)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(352);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(81);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},s={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(r||(r={}));var c=function(){function e(e,t){void 0===t&&(t=r.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,o,a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];var u=this.level;e.LOG_LEVEL&&(u=e.LOG_LEVEL),"undefined"!==typeof window&&window.LOG_LEVEL&&(u=window.LOG_LEVEL);var l=s[u],d=s[t];if(d>=l){var f=console.log.bind(console);t===r.ERROR&&console.error&&(f=console.error.bind(console)),t===r.WARN&&console.warn&&(f=console.warn.bind(console));var h="["+t+"] "+this._ts()+" "+this.name,p="";if(1===a.length&&"string"===typeof a[0])f(p=h+" - "+a[0]);else if(1===a.length)p=h+" "+a[0],f(h,a[0]);else if("string"===typeof a[0]){var v=a.slice(1);1===v.length&&(v=v[0]),p=h+" - "+a[0]+" "+v,f(h+" - "+a[0],v)}else p=h+" "+a,f(h,a);try{for(var m=i(this._pluggables),g=m.next();!g.done;g=m.next()){var b=g.value,y={message:p,timestamp:Date.now()};b.pushLogs([y])}}catch(w){n={error:w}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}()},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){r(this,e),this.ids=new Set(t)}return i(e,[{key:"add",value:function(e){this.ids.add(e)}},{key:"array",value:function(){return Array.from(this.ids.values()).sort((function(e,t){return e-t}))}},{key:"contain",value:function(e){return this.ids.has(e)}},{key:"forEach",value:function(e){this.ids.forEach(e)}},{key:"empty",value:function(){return 0===this.ids.size}},{key:"size",value:function(){return this.ids.size}},{key:"equal",value:function(e){if(!e)return 0===this.ids.size;var t=this.array(),n=e.array();if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}},{key:"clone",value:function(){return new e(this.array())}},{key:"remove",value:function(e){this.ids.delete(e)}},{key:"toJSON",value:function(){return this.array()}},{key:"truncate",value:function(t){return new e(this.array().splice(0,t))}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isOldChrome=t.supportsWASMStreaming=t.supportsSharedArrayBuffer=t.supportsWASM=t.supportsAudioWorklet=t.supportsWorker=t.supportsVoiceFocusWorker=t.supportsWASMPostMessage=t.isSafari=void 0;var o=n(91),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,t=e.navigator.userAgent;return!!t.match(/Chrom(?:e|ium)\/([0-9]+)/)};t.isSafari=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,t=e.navigator.userAgent,n=t.match(/Safari\//),r=t.match(/Chrom(?:e|ium)\//);return!(!n||r)};t.supportsWASMPostMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;if(t.isSafari(e))return!1;if(a(e)){var n=s(e)||0;return n<95}return!0};t.supportsVoiceFocusWorker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return i(void 0,void 0,void 0,r().mark((function i(){var s,c;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.supportsWorker(e,a)){r.next=2;break}return r.abrupt("return",!1);case 2:return s="".concat(n.paths.workers,"worker-v1.js"),r.prev=3,r.next=6,o.loadWorker(s,"VoiceFocusTestWorker",n,a);case 6:c=r.sent;try{c.terminate()}catch(i){null===a||void 0===a||a.debug("Failed to terminate worker.",i)}return r.abrupt("return",!0);case 11:return r.prev=11,r.t0=r.catch(3),null===a||void 0===a||a.info("Failed to fetch and instantiate test worker",r.t0),r.abrupt("return",!1);case 15:case"end":return r.stop()}}),i,null,[[3,11]])})))};t.supportsWorker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,t=arguments.length>1?arguments[1]:void 0;try{return!!e.Worker}catch(n){return null===t||void 0===t||t.info("Does not support Worker",n),!1}};t.supportsAudioWorklet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,t=arguments.length>1?arguments[1]:void 0;try{return!!e.AudioWorklet&&!!e.AudioWorkletNode}catch(n){return null===t||void 0===t||t.info("Does not support Audio Worklet",n),!1}};t.supportsWASM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,t=arguments.length>1?arguments[1]:void 0;try{return!!e.WebAssembly&&(!!e.WebAssembly.compile||!!e.WebAssembly.compileStreaming)}catch(n){return null===t||void 0===t||t.info("Does not support WASM",n),!1}};t.supportsSharedArrayBuffer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis,n=arguments.length>2?arguments[2]:void 0;try{return!!e.SharedArrayBuffer&&(!!t.chrome||!!e.crossOriginIsolated)}catch(r){return null===n||void 0===n||n.info("Does not support SharedArrayBuffer."),!1}};t.supportsWASMStreaming=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,n=arguments.length>1?arguments[1]:void 0;try{return!!(null===(e=t.WebAssembly)||void 0===e?void 0:e.compileStreaming)}catch(r){return null===n||void 0===n||n.info("Does not support WASM streaming compilation",r),!1}};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;try{if(!e.chrome)return}catch(n){}var t=e.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(t)return parseInt(t[1],10)};t.isOldChrome=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,t=arguments.length>1?arguments[1]:void 0,n=s(e);return!!n&&(n<90&&(null===t||void 0===t||t.debug("Chrome ".concat(n," has incomplete SIMD support.")),!0))}},function(e,t,n){"use strict";var r=n(76).default,i=n(58).default,o=n(12).default,a=n(2).default,s=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var c=n(222),u=n(223),l=n(145),d=function(){function e(t){a(this,e),this.sdp=t}return s(e,[{key:"clone",value:function(){return new e(this.sdp)}},{key:"lines",value:function(){return this.sdp.split(e.CRLF)}},{key:"hasVideo",value:function(){return null!==/^m=video/gm.exec(this.sdp)}},{key:"hasCandidates",value:function(){return null!==/a[=]candidate[:]/g.exec(this.sdp)}},{key:"hasCandidatesForAllMLines",value:function(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}},{key:"withoutCandidateType",value:function(t){return e.linesToSDP(this.lines().filter((function(n){return e.candidateType(n)!==t})))}},{key:"withoutServerReflexiveCandidates",value:function(){return this.withoutCandidateType(c.default.ServerReflexive)}},{key:"withAudioMaxAverageBitrate",value:function(t){if(!t)return this.clone();t=Math.trunc(Math.min(Math.max(t,e.rfc7587LowestBitrate),e.rfc7587HighestBitrate));var n=this.lines(),r=e.findOpusFmtpAttributes(n),i=e.updateOpusFmtpAttributes(n,r,["maxaveragebitrate=".concat(t)]);return e.linesToSDP(i)}},{key:"withStereoAudio",value:function(){var t=this.lines(),n=e.findOpusFmtpAttributes(t),r=e.updateOpusFmtpAttributes(t,n,["stereo=1","sprop-stereo=1"]);return e.linesToSDP(r)}},{key:"withUnifiedPlanFormat",value:function(){var t=this.sdp;return t.includes("mozilla")?this.clone():new e(t=t.replace("o=-","o=mozilla-chrome"))}},{key:"getUniqueRtpHeaderExtensionId",value:function(e){var t,n=[],r=o(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(/^a=extmap:/.test(i.trim())){var a=+i.split("a=extmap:")[1].split(" ")[0];n.includes(a)||n.push(a)}}}catch(d){r.e(d)}finally{r.f()}n.sort((function(e,t){return e-t}));for(var s=0,c=0,u=n;c<u.length;c++){var l=u[c];if(l-s>1)return s+1;s=l}return 14===s?-1:s+1}},{key:"withVideoLayersAllocationRtpHeaderExtension",value:function(t){var n,r="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",i=t?t.getRtpHeaderExtensionId(r):-1,a=-1===i?this.getUniqueRtpHeaderExtensionId(e.splitLines(this.sdp)):i,s=e.splitSections(this.sdp),c=[],u=o(s);try{for(u.s();!(n=u.n()).done;){var l=n.value;if(/^m=video/.test(l)&&-1===e.getRtpHeaderExtensionIdInSection(l,r)){var d=e.splitLines(l),f=[];if(-1===a||this.hasRtpHeaderExtensionId(a)){c.push(l);continue}var h,p=o(d);try{for(p.s();!(h=p.n()).done;){var v=h.value;if(f.push(v),/^a=sendrecv/.test(v.trim())){var m="a=extmap:"+a+" "+r;f.push(m)}}}catch(C){p.e(C)}finally{p.f()}l=f.join(e.CRLF)+e.CRLF}else if(-1!==i&&/^m=video/.test(l)&&e.getRtpHeaderExtensionIdInSection(l,r)!==i){var g,b=e.splitLines(l),y=[],w=o(b);try{for(w.s();!(g=w.n()).done;){var S=g.value;if(/^a=extmap:/.test(S.trim()))if(S.split("a=extmap:")[1].split(" ")[1]===r){if(!this.hasRtpHeaderExtensionId(i)){var k="a=extmap:"+i+" "+r;y.push(k)}continue}y.push(S)}}catch(C){w.e(C)}finally{w.f()}l=y.join(e.CRLF)+e.CRLF}c.push(l)}}catch(C){u.e(C)}finally{u.f()}return new e(c.join(""))}},{key:"ssrcForVideoSendingSection",value:function(){var t=this.sdp,n=e.splitSections(t);if(n.length<2)return"";var r=e.findActiveCameraSection(n);if(-1===r)return"";var o=e.matchPrefix(n[r],"a=ssrc-group:FID ");if(o.length<1)return"";var a=e.extractSSRCsFromFIDGroupLine(o[0]).split(" ").map((function(e){return parseInt(e,10)}));return i(a,1)[0].toString()}},{key:"videoSendSectionHasDifferentSSRC",value:function(e){var t=this.ssrcForVideoSendingSection(),n=e.ssrcForVideoSendingSection();return""!==t&&""!==n&&parseInt(t,10)!==parseInt(n,10)}},{key:"removeH264SupportFromSendSection",value:function(){var t=this.sdp,n=e.splitSections(t),r=e.findActiveCameraSection(n);if(-1===r)return new e(this.sdp);var i=n[r],a=e.splitLines(i),s=[],c=new Map;a.forEach((function(e){if(/^a=rtpmap:/.test(e)){var t=/^a=rtpmap:([0-9]+)\s/.exec(e);t&&e.toLowerCase().includes("h264")&&s.push(parseInt(t[1],10))}if(/^a=fmtp:/.test(e)){var n=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(e);if(n&&3===n.length){var r=parseInt(n[1],10),i=parseInt(n[2],10);c.has(i)?c.get(i).push(r):c.set(i,[r])}}}));for(var u=new Set,l=0,d=s;l<d.length;l++){var f=d[l];u.add(f);var h=c.get(f);if(h){var p,v=o(h);try{for(v.s();!(p=v.n()).done;){var m=p.value;u.add(m)}}catch(y){v.e(y)}finally{v.f()}}}if(s.length>0){var g=a[0].split(" ");a[0]=g.filter((function(e){return!u.has(parseInt(e))})).join(" ")}var b=a.filter((function(e){if(!e.includes("rtpmap")&&!e.includes("rtcp-fb")&&!e.includes("fmtp"))return!0;var t,n=o(u);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.includes(r.toString()))return!1}}catch(y){n.e(y)}finally{n.f()}return!0}));return n[r]=b.join(e.CRLF)+e.CRLF,new e(n.join(""))}},{key:"mediaSections",value:function(){var t=e.splitSections(this.sdp);if(t.length<2)return[];for(var n=[],r=1;r<t.length;r++){var i,a=new u.default,s=e.splitLines(t[r]),c=o(s);try{for(c.s();!(i=c.n()).done;){var l=i.value,d=e.mediaType(l);if(void 0===d){var f=e.direction(l);if(void 0===f){var h=e.mid(l);void 0===h||(a.mid=h)}else a.direction=f}else a.mediaType=d}}catch(p){c.e(p)}finally{c.f()}n.push(a)}return n}},{key:"getRtpHeaderExtensionId",value:function(t){var n,r=e.splitSections(this.sdp),i=o(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(/^m=video/.test(a)){var s=e.getRtpHeaderExtensionIdInSection(a,t);if(-1!==s)return s}}}catch(c){i.e(c)}finally{i.f()}return-1}},{key:"hasRtpHeaderExtensionId",value:function(t){var n,r=e.splitLines(this.sdp),i=o(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(/^a=extmap:/.test(a.trim()))if(+a.split("a=extmap:")[1].split(" ")[0]===t)return!0}}catch(s){i.e(s)}finally{i.f()}return!1}},{key:"withVideoSendCodecPreferences",value:function(t){var n=this.sdp,r=e.splitSections(n),i=e.findActiveCameraSection(r);return-1===i?new e(this.sdp):(r[i]=this.sectionWithCodecPreferences(r[i],t),new e(r.join("")))}},{key:"sectionWithCodecPreferences",value:function(t,n){var i=new Map,a=e.splitLines(t);a.forEach((function(e){if(/^a=rtpmap:/.test(e)){var t,r=o(n);try{for(r.s();!(t=r.n()).done;){var s=t.value;if(e.includes("".concat(s.codecName,"/").concat(s.codecCapability.clockRate))){var c=/^a=rtpmap:([0-9]+)\s/.exec(e),u=!1;if(void 0!==s.codecCapability.sdpFmtpLine){var l,d=o(a);try{for(d.s();!(l=d.n()).done;){if(l.value.startsWith("a=fmtp:".concat(c[1]," ").concat(s.codecCapability.sdpFmtpLine))){u=!0;break}}}catch(f){d.e(f)}finally{d.f()}}else u=!0;if(u){i.set(s.codecName,c[1]);break}}}}catch(f){r.e(f)}finally{r.f()}}}));var s=new Set(i.values()),c=a[0].split(" ").filter((function(e){return!s.has(e)})),u=Array.from(i.values()).sort((function(e,t){return n.findIndex((function(t){return i.get(t.codecName)===e}))-n.findIndex((function(e){return i.get(e.codecName)===t}))}));return c.splice.apply(c,[3,0].concat(r(u.values()))),a[0]=c.join(" "),a.join(e.CRLF)+e.CRLF}},{key:"highestPriorityVideoSendCodec",value:function(){var t=this.sdp,n=e.splitSections(t),r=e.findActiveCameraSection(n);if(-1!==r){var i=e.splitLines(n[r]),a=i[0].split(" ");if(!(a.length<4)){var s,c=a[3],u=void 0,d=void 0,f=void 0,h=o(i);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=/^a=rtpmap:([0-9]+)\s/.exec(p);if(!(null===v||v.length<2||v[1]!==c)){var m=p.split(" ")[1].split("/");if(!(void 0===m||m.length<2)){u=m[0],d=m[1];var g,b=o(i);try{for(b.s();!(g=b.n()).done;){var y=g.value;if(y.startsWith("a=fmtp:".concat(c))){var w=y.split(" ");if(void 0===w||w.length<2)return;f=w[1]}else;}}catch(S){b.e(S)}finally{b.f()}break}}}}catch(S){h.e(S)}finally{h.f()}return void 0!==u?new l.default(u,{clockRate:parseInt(d),mimeType:"video/".concat(u),sdpFmtpLine:f}):void 0}}}}],[{key:"isRTPCandidate",value:function(e){var t=/candidate[:](\S+) (\d+)/g.exec(e);return null!==t&&"1"===t[2]}},{key:"linesToSDP",value:function(t){return new e(t.join(e.CRLF))}},{key:"candidateTypeFromString",value:function(e){switch(e){case c.default.Host:return c.default.Host;case c.default.ServerReflexive:return c.default.ServerReflexive;case c.default.PeerReflexive:return c.default.PeerReflexive;case c.default.Relay:return c.default.Relay}return null}},{key:"candidateType",value:function(t){var n=/a[=]candidate[:].* typ ([a-z]+) /g.exec(t);return null===n?null:e.candidateTypeFromString(n[1])}},{key:"mediaType",value:function(e){var t=/m=(audio|video)/g.exec(e);if(null!==t)return t[1]}},{key:"mid",value:function(e){if(e.includes("a=mid:"))return e.replace(/^(a=mid:)/,"")}},{key:"direction",value:function(e){var t=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(e);if(null!==t)return t[1]}},{key:"splitLines",value:function(e){return e.trim().split("\n").map((function(e){return e.trim()}))}},{key:"splitSections",value:function(t){return t.split("\nm=").map((function(t,n){return(n>0?"m="+t:t).trim()+e.CRLF}))}},{key:"findActiveCameraSection",value:function(e){var t,n=0,r=!1,i=o(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(/^m=video/.test(a)&&(a.indexOf("sendrecv")>-1||-1===a.indexOf("sendonly")&&-1===a.indexOf("recvonly")&&-1===a.indexOf("inactive"))){r=!0;break}n++}}catch(s){i.e(s)}finally{i.f()}return!1===r&&(n=-1),n}},{key:"extractSSRCsFromFIDGroupLine",value:function(e){return/^a=ssrc-group:FID\s(.+)/.exec(e)[1]}},{key:"matchPrefix",value:function(t,n){return e.splitLines(t).filter((function(e){return 0===e.indexOf(n)}))}},{key:"findOpusFmtpAttributes",value:function(e){var t,n=/^a=rtpmap:\s*(\d+)\s+opus\/48000/,r=!1,i=[],a=o(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(s.startsWith("m=audio")&&(i.push(null),r=!0),s.startsWith("m=video")&&(r=!1),r){var c=n.exec(s);null!==c&&(i[i.length-1]="a=fmtp:".concat(c[1]," "))}}}catch(u){a.e(u)}finally{a.f()}return i}},{key:"updateOpusFmtpAttributes",value:function(e,t,n){var r,i=[],a=0,s=null,c=o(e);try{for(c.s();!(r=c.n()).done;){var u=r.value;if(u.startsWith("m=audio")&&(s=t[a],a++),u.startsWith("m=video")&&(s=null),s&&u.startsWith(s)){var l,d=u.slice(s.length).split(";"),f=[],h=o(d);try{var p=function(){var e=l.value;n.findIndex((function(t){return t.startsWith(e.split("=")[0])}))<0&&f.push(e)};for(h.s();!(l=h.n()).done;)p()}catch(b){h.e(b)}finally{h.f()}var v,m=o(n);try{for(m.s();!(v=m.n()).done;){var g=v.value;f.push(g)}}catch(b){m.e(b)}finally{m.f()}i.push(s+f.join(";"))}else i.push(u)}}catch(b){c.e(b)}finally{c.f()}return i}},{key:"getRtpHeaderExtensionIdInSection",value:function(t,n){var r,i=e.splitLines(t),a=o(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(/^a=extmap:/.test(s.trim())){var c=s.split("a=extmap:")[1].split(" "),u=+c[0];if(c[1]===n)return u}}}catch(l){a.e(l)}finally{a.f()}return-1}}]),e}();t.default=d,d.CRLF="\r\n",d.rfc7587LowestBitrate=6e3,d.rfc7587HighestBitrate=51e4},function(e,t,n){var r=n(408),i=n(409),o=n(132),a=n(410);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),a=n(45),s=function(){function e(t){r(this,e),this._statusCode=t}return i(e,[{key:"statusCode",value:function(){return this._statusCode}},{key:"isFailure",value:function(){switch(this._statusCode){case a.default.AudioAuthenticationRejected:case a.default.AudioCallAtCapacity:case a.default.AudioInternalServerError:case a.default.AudioServiceUnavailable:case a.default.AudioDisconnected:case a.default.VideoCallAtSourceCapacity:case a.default.SignalingBadRequest:case a.default.SignalingInternalServerError:case a.default.SignalingRequestFailed:case a.default.ICEGatheringTimeoutWorkaround:case a.default.ConnectionHealthReconnect:case a.default.RealtimeApiFailed:case a.default.TaskFailed:case a.default.NoAttendeePresent:return!0;default:return!1}}},{key:"isTerminal",value:function(){switch(this._statusCode){case a.default.Left:case a.default.AudioJoinedFromAnotherDevice:case a.default.AudioAuthenticationRejected:case a.default.AudioCallAtCapacity:case a.default.MeetingEnded:case a.default.AudioDisconnected:case a.default.TURNCredentialsForbidden:case a.default.SignalingBadRequest:case a.default.SignalingRequestFailed:case a.default.VideoCallAtSourceCapacity:case a.default.RealtimeApiFailed:case a.default.AudioAttendeeRemoved:return!0;default:return!1}}},{key:"isAudioConnectionFailure",value:function(){switch(this._statusCode){case a.default.AudioAuthenticationRejected:case a.default.AudioInternalServerError:case a.default.AudioServiceUnavailable:case a.default.ICEGatheringTimeoutWorkaround:case a.default.SignalingBadRequest:case a.default.SignalingInternalServerError:case a.default.SignalingRequestFailed:case a.default.RealtimeApiFailed:case a.default.NoAttendeePresent:return!0;default:return!1}}},{key:"toString",value:function(){switch(this._statusCode){case a.default.OK:return"Everything is OK so far.";case a.default.Left:return"The attendee left the meeting.";case a.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case a.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case a.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case a.default.MeetingEnded:return"The meeting ended.";case a.default.AudioInternalServerError:case a.default.AudioServiceUnavailable:case a.default.AudioDisconnected:return"The audio connection failed.";case a.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case a.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case a.default.SignalingBadRequest:case a.default.SignalingInternalServerError:case a.default.SignalingRequestFailed:return"The signaling connection failed.";case a.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case a.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case a.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case a.default.TaskFailed:return"The connection failed. See the error message for more details.";case a.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case a.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case a.default.NoAttendeePresent:return"The attendee was not present.";case a.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case a.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case a.default.AudioDisconnectAudio:return"The audio connection failed.";default:var e=this._statusCode;throw new Error("Unhandled case: ".concat(e))}}}],[{key:"fromSignalFrame",value:function(t){return t.error&&t.error.status?this.fromSignalingStatus(t.error.status):t.type===o.SdkSignalFrame.Type.AUDIO_STATUS?t.audioStatus?this.fromAudioStatus(t.audioStatus.audioStatus):new e(a.default.SignalingRequestFailed):t.type===o.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new e(a.default.AudioVideoWasRemovedFromPrimaryMeeting):new e(a.default.OK)}},{key:"fromAudioStatus",value:function(t){switch(t){case 200:return new e(a.default.OK);case 301:return new e(a.default.AudioJoinedFromAnotherDevice);case 302:return new e(a.default.AudioDisconnectAudio);case 403:return new e(a.default.AudioAuthenticationRejected);case 409:return new e(a.default.AudioCallAtCapacity);case 410:return new e(a.default.MeetingEnded);case 411:return new e(a.default.AudioAttendeeRemoved);case 500:return new e(a.default.AudioInternalServerError);case 503:return new e(a.default.AudioServiceUnavailable);default:return 2===Math.floor(t/100)?new e(a.default.OK):new e(a.default.AudioDisconnected)}}},{key:"fromSignalingStatus",value:function(t){switch(t){case 206:return new e(a.default.VideoCallSwitchToViewOnly);case 509:return new e(a.default.VideoCallAtSourceCapacity);case 403:return new e(a.default.AudioAuthenticationRejected);case 409:return new e(a.default.AudioCallAtCapacity);default:switch(Math.floor(t/100)){case 2:return new e(a.default.OK);case 4:return new e(a.default.SignalingBadRequest);case 5:return new e(a.default.SignalingInternalServerError);default:return new e(a.default.SignalingRequestFailed)}}}}]),e}();t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"locateWindow",(function(){return i}));var r={};function i(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:r}},function(e,t,n){"use strict";var r=n(38),i=n(25),o=n(557),a=n(11),s=["xs","sm","md","lg","xl"];function c(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,c=e.step,u=void 0===c?5:c,l=Object(i.a)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function f(e,t){var r=s.indexOf(t);return r===s.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r+1]]?n[s[r+1]]:t)-u/100).concat(o,")")}return Object(a.a)({keys:s,values:n,up:d,down:function(e){var t=s.indexOf(e)+1,r=n[s[t]];return t===s.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(o,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},l)}function u(e,t,n){var i;return Object(a.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(a.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var l=n(352),d={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(83),w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function k(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(y.i)(e.main,i):"dark"===t&&(e.dark=Object(y.a)(e.main,o)))}function C(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,r=e.secondary,s=void 0===r?{light:p.A200,main:p.A400,dark:p.A700}:r,c=e.error,u=void 0===c?{light:v[300],main:v[500],dark:v[700]}:c,C=e.warning,O=void 0===C?{light:m[300],main:m[500],dark:m[700]}:C,x=e.info,E=void 0===x?{light:g[300],main:g[500],dark:g[700]}:x,_=e.success,T=void 0===_?{light:b[300],main:b[500],dark:b[700]}:_,I=e.type,A=void 0===I?"light":I,M=e.contrastThreshold,P=void 0===M?3:M,j=e.tonalOffset,R=void 0===j?.2:j,D=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function N(e){return Object(y.e)(e,S.text.primary)>=P?S.text.primary:w.text.primary}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(a.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(l.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(l.a)(5,JSON.stringify(e.main)));return k(e,"light",n,R),k(e,"dark",r,R),e.contrastText||(e.contrastText=N(e.main)),e},F={dark:S,light:w};return Object(o.a)(Object(a.a)({common:d,type:A,primary:L(n),secondary:L(s,"A400","A200","A700"),error:L(u),warning:L(O),info:L(E),success:L(T),grey:f,contrastThreshold:P,getContrastText:N,augmentColor:L,tonalOffset:R},F[A]),D)}function O(e){return Math.round(1e5*e)/1e5}var x={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function _(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,s=void 0===r?E:r,c=n.fontSize,u=void 0===c?14:c,l=n.fontWeightLight,d=void 0===l?300:l,f=n.fontWeightRegular,h=void 0===f?400:f,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,b=n.htmlFontSize,y=void 0===b?16:b,w=n.allVariants,S=n.pxToRem,k=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var C=u/14,_=S||function(e){return"".concat(e/y*C,"rem")},T=function(e,t,n,r,i){return Object(a.a)({fontFamily:s,fontWeight:e,fontSize:_(t),lineHeight:n},s===E?{letterSpacing:"".concat(O(r/t),"em")}:{},i,w)},I={h1:T(d,96,1.167,-1.5),h2:T(d,60,1.2,-.5),h3:T(h,48,1.167,0),h4:T(h,34,1.235,.25),h5:T(h,24,1.334,0),h6:T(v,20,1.6,.15),subtitle1:T(h,16,1.75,.15),subtitle2:T(v,14,1.57,.1),body1:T(h,16,1.5,.15),body2:T(h,14,1.43,.15),button:T(v,14,1.75,.4,x),caption:T(h,12,1.66,.4),overline:T(h,12,2.66,1,x)};return Object(o.a)(Object(a.a)({htmlFontSize:y,pxToRem:_,round:O,fontFamily:s,fontSize:u,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:g},I),k,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var I=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],A={borderRadius:4},M=n(575);function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(M.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var j=n(120),R={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,a=void 0===r?{}:r,s=e.palette,l=void 0===s?{}:s,d=e.spacing,f=e.typography,h=void 0===f?{}:f,p=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),v=C(l),m=c(n),g=P(d),b=Object(o.a)({breakpoints:m,direction:"ltr",mixins:u(m,g,a),overrides:{},palette:v,props:{},shadows:I,typography:_(v,h),spacing:g,shape:A,transitions:j.a,zIndex:R},p),y=arguments.length,w=new Array(y>1?y-1:0),S=1;S<y;S++)w[S-1]=arguments[S];return b=w.reduce((function(e,t){return Object(o.a)(e,t)}),b)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));var r=n(71),i=n(37),o=n(572),a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=new r.a("CognitoCredentials"),u=new Promise((function(e,t){return Object(i.a)().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(c.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(c.debug("not in the browser, directly resolved"),e())})),l=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(c.debug("need to wait for the Google SDK loaded"),[4,u]);case 1:e.sent(),this.initialized=!0,c.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Object(i.a)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(c.debug("google Auth undefined"),n(new o.a("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(c.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new o.a("Failed to reload google auth response"))}))):n(new o.a("User is not signed in with Google"))})).catch((function(e){c.debug("Failed to refresh google token",e),n(new o.a("Failed to refresh google token"))}))})):(c.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=new r.a("CognitoCredentials"),p=new Promise((function(e,t){return Object(i.a)().isBrowser?window.FB?(h.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(h.debug("not in the browser, directly resolved"),e())})),v=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(h.debug("need to wait for the Facebook SDK loaded"),[4,p]);case 1:e.sent(),this.initialized=!0,h.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Object(i.a)().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return h.debug(t),Promise.reject(new o.a(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,a=1e3*r.expiresIn+(new Date).getTime();if(!i){s="the jwtToken is undefined";h.debug(s),n(new o.a(s))}t({token:i,expires_at:a})}else{var s="no response from facebook when refreshing the jwt token";h.debug(s),n(new o.a(s))}}),{scope:"public_profile,email"})}))},e}(),m=new l,g=new v},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(100);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,c=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),a=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(o>0){var f=Object.keys(i),h=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return v}));var r=n(352);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}function a(e){if(0===e.indexOf("#"))return e;var t=c(e).values;return"#".concat(t.map((function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)})).join(""))}function s(e){var t=(e=c(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),u({type:s,values:l})}function c(e){if(e.type)return e;if("#"===e.charAt(0))return c(o(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function u(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function l(e,t){var n=d(e),r=d(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function d(e){var t="hsl"===(e=c(e)).type?c(s(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return d(e)>.5?p(e,t):v(e,t)}function h(e,t){return e=c(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,u(e)}function p(e,t){if(e=c(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function v(e,t){if(e=c(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return u(e)}},function(e,t,n){var r=n(504),i=n(505),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(30),n(98),n(496),o.HmacSHA256)}()},function(e,t,n){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},o=e.split(";"),s=i.decode||r,c=0;c<o.length;c++){var u=o[c],l=u.indexOf("=");if(!(l<0)){var d=u.substring(0,l).trim();if(void 0==n[d]){var f=u.substring(l+1,u.length).trim();'"'===f[0]&&(f=f.slice(1,-1)),n[d]=a(f,s)}}}return n},t.serialize=function(e,t,n){var r=n||{},a=r.encode||i;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var r=decodeURIComponent,i=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(n){return e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(100);var i=n(81);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){var r,i;!function(o){if(void 0===(i="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(u){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!==typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(l){}if(i[u]=c,e===u)break}catch(l){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},,function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){r(this,e),this.timeoutMs=t,this.timer=null}return i(e,[{key:"start",value:function(e){var t=this;this.stop(),this.timer=setTimeout((function(){clearTimeout(t.timer),e()}),this.timeoutMs)}},{key:"stop",value:function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadWorker=void 0;var r=n(184),i={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};t.loadWorker=function(e,t,n,o){null===o||void 0===o||o.debug("Loading ".concat(t," worker from ").concat(e,"."));var a=!1;try{a=self.origin===new URL(e).origin}catch(c){null===o||void 0===o||o.error("Could not compare origins.",c)}if(a){var s=r.withQueryString(e,n);return Promise.resolve(new Worker(s,{name:t}))}return r.fetchWithBehavior(e,i,n).then((function(e){if(e.ok)return e.blob().then((function(e){return new Worker(window.URL.createObjectURL(e))}));throw new Error("Fetch failed.")}))}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportDirection=void 0,function(e){e[e.UPSTREAM=0]="UPSTREAM",e[e.DOWNSTREAM=1]="DOWNSTREAM"}(r=t.ClientMetricReportDirection||(t.ClientMetricReportDirection={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportMediaType=void 0,function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO"}(r=t.ClientMetricReportMediaType||(t.ClientMetricReportMediaType={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Modality="#content"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,i,o,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;r(this,e),this.cameraWidth=t,this.cameraHeight=n,this.cameraFrameRate=i,this.maxEncodeBitrateKbps=o,this.isSimulcast=a,this.scaleResolutionDownBy=s}return i(e,[{key:"equal",value:function(e){var t=e.captureWidth()===this.cameraWidth&&e.captureHeight()===this.cameraHeight&&e.captureFrameRate()===this.cameraFrameRate&&e.encodeBitrates().length===this.encodeBitrates().length&&e.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&e.encodeWidths().length===this.encodeWidths().length&&e.encodeHeights().length===this.encodeHeights().length;if(t)for(var n=0;n<e.encodeWidths().length;n++)if(e.encodeWidths()[n]!==this.encodeWidths()[n]||e.encodeHeights()[n]!==this.encodeHeights()[n]||e.encodeBitrates()[n]!==this.encodeBitrates()[n]||e.encodeScaleResolutionDownBy()[n]!==this.encodeScaleResolutionDownBy()[n])return t=!1;return t}},{key:"clone",value:function(){return new e(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy)}},{key:"captureWidth",value:function(){return this.cameraWidth}},{key:"captureHeight",value:function(){return this.cameraHeight}},{key:"captureFrameRate",value:function(){return this.cameraFrameRate}},{key:"encodeBitrates",value:function(){return[this.maxEncodeBitrateKbps]}},{key:"encodeScaleResolutionDownBy",value:function(){return[this.scaleResolutionDownBy]}},{key:"encodeWidths",value:function(){return[this.cameraWidth]}},{key:"encodeHeights",value:function(){return[this.cameraHeight]}}]),e}();t.default=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r={},i=function(){function e(){}return e.setItem=function(e,t){return r[e]=t,r[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},e.removeItem=function(e){return delete r[e]},e.clear=function(){return r={}},e}(),o=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=i}}return e.prototype.getStorage=function(){return this.storageWindow},e}()},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){!function(t,r){var i;e.exports=(i=n(30),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=u[h-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[h]=v+u[h-7]+g+u[h-16]}var b=r&i^r&o^i&o,y=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+c[h]+u[h];f=d,d=l,l=s,s=a+w|0,a=o,o=i,i=r,r=w+(y+b)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),i.SHA256)}()},function(e,t,n){"use strict";n.r(t),n.d(t,"fromUtf8",(function(){return r})),n.d(t,"toUtf8",(function(){return i}));var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){!function(t,r){var i;e.exports=(i=n(30),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=n(525)},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BlurStrengthMapper=void 0;var o=function(){function e(){r(this,e)}return i(e,null,[{key:"getBlurAmount",value:function(e,t){if(e<=0)throw new Error("invalid value for blur strength: ".concat(e));return Math.round(e*t.height/this.BLUR_STRENGTH_DIVISOR)}}]),e}();t.BlurStrengthMapper=o,o.BLUR_STRENGTH_DIVISOR=540,t.default={LOW:7,MEDIUM:15,HIGH:30}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,i){r(this,e),this.minHealth=t.minHealth,this.maxHealth=t.maxHealth,this.currentHealth=t.initialHealth,this.currentData=n.clone(),this.name=i}return i(e,[{key:"minimumHealth",value:function(){return this.minHealth}},{key:"maximumHealth",value:function(){return this.maxHealth}},{key:"health",value:function(){return this.maximumHealth()}},{key:"update",value:function(e){this.currentData=e}},{key:"getConnectionHealthData",value:function(){return this.currentData.clone()}},{key:"healthy",value:function(){return this.health()>this.minimumHealth()}},{key:"healthIfChanged",value:function(){var e=this.health();return e!==this.currentHealth?(this.currentHealth=e,e):null}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),a=n(63),s=n(212),c=function(){function e(t,n,i,o){r(this,e),this.tileController=i,this.devicePixelRatioMonitor=o,this.tileState=new s.default,this.tileState.tileId=t,this.tileState.localTile=n,this.devicePixelRatioMonitor.registerObserver(this)}return i(e,[{key:"destroy",value:function(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&e.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new s.default}},{key:"devicePixelRatioChanged",value:function(e){this.tileState.devicePixelRatio=e,this.sendTileStateUpdate()}},{key:"id",value:function(){return this.tileState.tileId}},{key:"state",value:function(){return this.tileState.clone()}},{key:"stateRef",value:function(){return this.tileState}},{key:"bindVideoStream",value:function(e,t,n,r,i,o,s){var c=!1;this.tileState.boundAttendeeId!==e&&(this.tileState.boundAttendeeId=e,new a.default(e).hasModality(a.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),c=!0),this.tileState.boundExternalUserId!==s&&(this.tileState.boundExternalUserId=s,c=!0),this.tileState.localTile!==t&&(this.tileState.localTile=t,c=!0),this.tileState.boundVideoStream!==n&&(this.tileState.boundVideoStream=n,c=!0),this.tileState.videoStreamContentWidth!==r&&(this.tileState.videoStreamContentWidth=r,c=!0),this.tileState.videoStreamContentHeight!==i&&(this.tileState.videoStreamContentHeight=i,c=!0),this.tileState.streamId!==o&&(this.tileState.streamId=o,c=!0),c&&this.sendTileStateUpdate()}},{key:"bindVideoElement",value:function(e){var t=!1;this.tileState.boundVideoElement!==e&&(this.tileState.boundVideoElement=e,t=!0),null!==this.tileState.boundVideoElement?(this.tileState.videoElementCSSWidthPixels!==e.clientWidth&&(this.tileState.videoElementCSSWidthPixels=e.clientWidth,t=!0),this.tileState.videoElementCSSHeightPixels!==e.clientHeight&&(this.tileState.videoElementCSSHeightPixels=e.clientHeight,t=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),t&&this.sendTileStateUpdate()}},{key:"pause",value:function(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}},{key:"unpause",value:function(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}},{key:"markPoorConnection",value:function(){return!this.tileState.poorConnection&&(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}},{key:"unmarkPoorConnection",value:function(){return!!this.tileState.poorConnection&&(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0)}},{key:"capture",value:function(){if(!this.tileState.active)return null;var e=document.createElement("canvas"),t=this.tileState.boundVideoElement;e.width=t.videoWidth||t.width,e.height=t.videoHeight||t.height;var n=e.getContext("2d");return n.drawImage(t,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)}},{key:"setStreamId",value:function(e){this.tileState.streamId=e,this.tileController.sendTileStateUpdate(this.state())}},{key:"sendTileStateUpdate",value:function(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}},{key:"updateActiveState",value:function(){this.tileState.active=!(this.tileState.paused||this.tileState.poorConnection||!this.tileState.boundAttendeeId||!this.tileState.boundVideoElement||!this.tileState.boundVideoStream)}},{key:"updateVideoElementPhysicalPixels",value:function(){"number"===typeof this.tileState.videoElementCSSWidthPixels&&"number"===typeof this.tileState.videoElementCSSHeightPixels?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}},{key:"updateVideoStreamOnVideoElement",value:function(){this.tileState.active?e.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):e.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}}],[{key:"connectVideoStreamToVideoElement",value:function(t,n,r){var i=r&&"environment"!==t.getVideoTracks()[0].getSettings().facingMode?"rotateY(180deg)":"";if(e.setVideoElementFlag(n,"disablePictureInPicture",r),e.setVideoElementFlag(n,"disableRemotePlayback",r),n.style.transform!==i&&(n.style.transform=i),n.hasAttribute("controls")&&n.removeAttribute("controls"),n.hasAttribute("autoplay")||n.setAttribute("autoplay","true"),n.hasAttribute("playsinline")||n.setAttribute("playsinline","true"),n.hasAttribute("muted")||(n.setAttribute("muted","true"),n.muted=!0),n.srcObject!==t&&(n.srcObject=t,(new o.default).requiresVideoPlayWorkaround()&&n.paused)){var a=n.play();void 0!==a&&a.catch((function(e){console.warn("Error playing video in Safari",e)})).then((function(){console.debug("Video played successfully in Safari")}))}}},{key:"disconnectVideoStreamFromVideoElement",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t)if(n)r||(t.srcObject=null,t.style.transform="");else{if(!t.srcObject)return;t.pause(),t.style.transform="",e.setVideoElementFlag(t,"disablePictureInPicture",!1),e.setVideoElementFlag(t,"disableRemotePlayback",!1),t.srcObject=null}}},{key:"setVideoElementFlag",value:function(e,t,n){t in e&&(e[t]=n)}}]),e}();t.default=c},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketReadyState=void 0,function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Open=2]="Open",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed"}(r=t.WebSocketReadyState||(t.WebSocketReadyState={})),t.default=r},function(e,t,n){"use strict";var r=n(58).default,i=n(7).default,o=n(12).default,a=n(2).default,s=n(3).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t,n){a(this,e),this.logger=t,this.browserBehavior=n,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map}return s(e,[{key:"setEncodingParameters",value:function(e){return c(this,void 0,void 0,i().mark((function t(){var n,r,a,s,c,u,l,d,f,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._localCameraTransceiver&&"sendrecv"===this._localCameraTransceiver.direction){t.next=2;break}return t.abrupt("return");case 2:if(n=this._localCameraTransceiver.sender,e&&0!==e.size){t.next=5;break}return t.abrupt("return");case 5:if(r=Array.from(e.values()),(a=n.getParameters()).encodings&&0!==a.encodings.length){t.next=11;break}a.encodings=r,t.next=52;break;case 11:s=o(a.encodings),t.prev=12,s.s();case 14:if((c=s.n()).done){t.next=44;break}u=c.value,l=o(r),t.prev=17,l.s();case 19:if((d=l.n()).done){t.next=34;break}if(f=d.value,!u.rid&&!f.rid||u.rid===f.rid){t.next=23;break}return t.abrupt("continue",32);case 23:h=void 0,t.t0=i().keys(f);case 25:if((t.t1=t.t0()).done){t.next=32;break}if("rid"!==(h=t.t1.value)&&"codecPayloadType"!==h){t.next=29;break}return t.abrupt("continue",25);case 29:f.hasOwnProperty(h)&&(u[h]=f[h]),t.next=25;break;case 32:t.next=19;break;case 34:t.next=39;break;case 36:t.prev=36,t.t2=t.catch(17),l.e(t.t2);case 39:return t.prev=39,l.f(),t.finish(39);case 42:t.next=14;break;case 44:t.next=49;break;case 46:t.prev=46,t.t3=t.catch(12),s.e(t.t3);case 49:return t.prev=49,s.f(),t.finish(49);case 52:return t.next=54,n.setParameters(a);case 54:case"end":return t.stop()}}),t,this,[[12,46,49,52],[17,36,39,42]])})))}},{key:"localAudioTransceiver",value:function(){return this._localAudioTransceiver}},{key:"localVideoTransceiver",value:function(){return this._localCameraTransceiver}},{key:"setVideoSendingBitrateKbps",value:function(e){return c(this,void 0,void 0,i().mark((function t(){var n,r,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._localCameraTransceiver&&"sendrecv"===this._localCameraTransceiver.direction){t.next=2;break}return t.abrupt("return");case 2:if((n=this._localCameraTransceiver.sender)&&!(e<=0)){t.next=5;break}return t.abrupt("return");case 5:(r=n.getParameters()).encodings||(r.encodings=[{}]),a=o(r.encodings);try{for(a.s();!(s=a.n()).done;)s.value.maxBitrate=1e3*e}catch(i){a.e(i)}finally{a.f()}return t.next=11,n.setParameters(r);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"setPeer",value:function(e){this.peer=e}},{key:"reset",value:function(){this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}},{key:"useTransceivers",value:function(){return!!this.peer&&"undefined"!==typeof this.peer.getTransceivers}},{key:"hasVideoInput",value:function(){return!(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)}},{key:"trackIsVideoInput",value:function(e){return!!this._localCameraTransceiver&&(e===this._localCameraTransceiver.sender.track||e===this._localCameraTransceiver.receiver.track)}},{key:"setupLocalTransceivers",value:function(){this.useTransceivers()&&(this.defaultMediaStream||"undefined"===typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}},{key:"replaceAudioTrack",value:function(e){return c(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._localAudioTransceiver&&"sendrecv"===this._localAudioTransceiver.direction){t.next=3;break}return this.logger.info("audio transceiver direction is not set up or not activated"),t.abrupt("return",!1);case 3:return t.next=5,this._localAudioTransceiver.sender.replaceTrack(e);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setAudioInput",value:function(e){return c(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setTransceiverInput(this._localAudioTransceiver,e);case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t,this)})))}},{key:"setVideoInput",value:function(e){return c(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setTransceiverInput(this._localCameraTransceiver,e);case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),t,this)})))}},{key:"updateVideoTransceivers",value:function(e,t){var n=this;if(!this.useTransceivers())return t.array();var r=this.peer.getTransceivers();return this.videoSubscriptions=[0],t=t.clone(),this.updateTransceivers(r,e,t),this.logger.debug((function(){return n.debugDumpTransceivers()})),this.videoSubscriptions}},{key:"updateTransceivers",value:function(e,t,n){var r=n.array();0===e.length||e[0].stop?0!==e.length&&this.updateTransceiverWithStop(e,t,r):(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(e,t,r));var i,a=o(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,c=this.peer.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(s,c),this.videoSubscriptions.push(s),this.logger.info("adding transceiver mid: ".concat(c.mid," subscription: ").concat(s," direction: recvonly"))}}catch(u){a.e(u)}finally{a.f()}}},{key:"updateTransceiverWithStop",value:function(e,t,n){var i=1;this.videoSubscriptions=[0];var a,s=o(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c!==this._localCameraTransceiver&&this.transceiverIsVideo(c)&&c.mid){var u=!1,l=t.streamIdForTrack("v_"+c.mid);if("inactive"!==c.direction&&void 0!==l){var d,f=o(n.entries());try{for(f.s();!(d=f.n()).done;){var h=r(d.value,2),p=h[0],v=h[1];if(t.StreamIdsInSameGroup(l,v)){c.direction="recvonly",this.videoSubscriptions[i]=v,u=!0,this.streamIdToTransceiver.delete(l),this.streamIdToTransceiver.set(v,c),n.splice(p,1);break}}}catch(S){f.e(S)}finally{f.f()}}if(!u){this.videoSubscriptions[i]=0,this.logger.info("Stopping MID: ".concat(c.mid,", direction: ").concat(c.direction,", current direction: ").concat(c.currentDirection)),c.stop();var m,g=o(this.streamIdToTransceiver.entries());try{for(g.s();!(m=g.n()).done;){var b=r(m.value,2),y=b[0],w=b[1];c.mid===w.mid&&this.streamIdToTransceiver.delete(y)}}catch(S){g.e(S)}finally{g.f()}}i+=1}}}catch(S){s.e(S)}finally{s.f()}}},{key:"updateTransceiverWithoutStop",value:function(e,t,n){var i,a=1,s=o(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(c!==this._localCameraTransceiver&&this.transceiverIsVideo(c)){if(this.videoSubscriptions[a]=0,"inactive"!==c.direction){var u=t.streamIdForTrack("v_"+c.mid);if(void 0!==u){var l,d=o(n.entries());try{for(d.s();!(l=d.n()).done;){var f=r(l.value,2),h=f[0],p=f[1];if(t.StreamIdsInSameGroup(u,p)){c.direction="recvonly",this.videoSubscriptions[a]=p,this.streamIdToTransceiver.delete(u),this.streamIdToTransceiver.set(p,c),n.splice(h,1);break}}}catch(C){d.e(C)}finally{d.f()}}}a+=1}}}catch(C){s.e(C)}finally{s.f()}a=1;var v,m=o(e);try{for(m.s();!(v=m.n()).done;){var g=v.value;if(g!==this._localCameraTransceiver&&this.transceiverIsVideo(g)){if("inactive"===g.direction&&n.length>0){g.direction="recvonly";var b=n.shift();this.videoSubscriptions[a]=b,this.streamIdToTransceiver.set(b,g)}else if(0===this.videoSubscriptions[a]){g.direction="inactive";var y,w=o(this.streamIdToTransceiver.entries());try{for(w.s();!(y=w.n()).done;){var S=r(y.value,2),k=S[0];g===S[1]&&this.streamIdToTransceiver.delete(k)}}catch(C){w.e(C)}finally{w.f()}}a+=1}}}catch(C){m.e(C)}finally{m.f()}}},{key:"getMidForStreamId",value:function(e){var t;return null===(t=this.streamIdToTransceiver.get(e))||void 0===t?void 0:t.mid}},{key:"setStreamIdForMid",value:function(e,t){var n,i=o(this.streamIdToTransceiver.entries());try{for(i.s();!(n=i.n()).done;){var a=r(n.value,2),s=a[0],c=a[1];if(c.mid===e)return this.streamIdToTransceiver.delete(s),void this.streamIdToTransceiver.set(t,c)}}catch(u){i.e(u)}finally{i.f()}}},{key:"transceiverIsVideo",value:function(e){return e.receiver&&e.receiver.track&&"video"===e.receiver.track.kind||e.sender&&e.sender.track&&"video"===e.sender.track.kind}},{key:"debugDumpTransceivers",value:function(){var e,t="",n=0,r=o(this.peer.getTransceivers());try{for(r.s();!(e=r.n()).done;){var i=e.value;this.transceiverIsVideo(i)&&(t+="transceiver index=".concat(n," mid=").concat(i.mid," subscription=").concat(this.videoSubscriptions[n]," direction=").concat(i.direction,"\n"),n+=1)}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"setTransceiverInput",value:function(e,t){return c(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return e.direction=t?"sendrecv":"inactive",n.next=5,e.sender.replaceTrack(t);case 5:case"end":return n.stop()}}),n)})))}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){s(n,e);var t=c(n);function n(e,r){var i;o(this,n),(i=t.call(this,e,r)).videoQualityControlParameterMap=new Map;for(var a=4,s=0;s<n.NAME_ARR_ASCENDING.length;s++){var c=n.NAME_ARR_ASCENDING[s];i.videoQualityControlParameterMap.set(c,{rid:c,scaleResolutionDownBy:a,maxBitrate:1e3*n.BITRATE_ARR_ASCENDING[s]}),a/=2}return i}return a(n,[{key:"setEncodingParameters",value:function(e){return u(this,void 0,void 0,i().mark((function t(){var r,o,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._localCameraTransceiver&&"sendrecv"===this._localCameraTransceiver.direction){t.next=2;break}return t.abrupt("return");case 2:if(r=this._localCameraTransceiver.sender,!((o=Array.from(e.values())).length<=0)){t.next=6;break}return t.abrupt("return");case 6:if((a=r.getParameters()).encodings)for(s=0;s<a.encodings.length;s++)a.encodings[s].rid===n.LOW_LEVEL_NAME&&this.copyEncodingParams(e.get(n.LOW_LEVEL_NAME),a.encodings[s]),a.encodings[s].rid===n.MID_LEVEL_NAME&&this.copyEncodingParams(e.get(n.MID_LEVEL_NAME),a.encodings[s]),a.encodings[s].rid===n.HIGH_LEVEL_NAME&&this.copyEncodingParams(e.get(n.HIGH_LEVEL_NAME),a.encodings[s]);else a.encodings=o;return t.next=10,r.setParameters(a);case 10:this.logVideoTransceiverParameters();case 11:case"end":return t.stop()}}),t,this)})))}},{key:"setVideoSendingBitrateKbps",value:function(e){return u(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}},{key:"setupLocalTransceivers",value:function(){if(this.useTransceivers()&&(this.defaultMediaStream||"undefined"===typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),!this._localCameraTransceiver)){var e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}},{key:"logVideoTransceiverParameters",value:function(){var e,t=this._localCameraTransceiver.sender.getParameters().encodings,n="simulcast: current encoding parameters \n",i=r(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;n+="rid=".concat(o.rid," maxBitrate=").concat(o.maxBitrate," active=").concat(o.active," scaleDownBy=").concat(o.scaleResolutionDownBy," maxFrameRate = ").concat(o.maxFramerate," \n")}}catch(a){i.e(a)}finally{i.f()}this.logger.info(n)}},{key:"copyEncodingParams",value:function(e,t){t.active=e.active,t.maxBitrate=e.maxBitrate,t.scaleResolutionDownBy=e.scaleResolutionDownBy,t.maxFramerate=e.maxFramerate}}]),n}(n(110).default);t.default=l,l.LOW_LEVEL_NAME="low",l.MID_LEVEL_NAME="mid",l.HIGH_LEVEL_NAME="hi",l.NAME_ARR_ASCENDING=["low","mid","hi"],l.BITRATE_ARR_ASCENDING=[200,400,1100]},function(e,t,n){"use strict";var r=n(76).default,i=n(12).default,o=n(2).default,a=n(3).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPreferences=t.MutableVideoPreferences=void 0;var s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t),this.items=e}return a(t,[{key:e,value:function(){var e=0,t=this.items;return{next:function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0,value:null}}}}},{key:"first",value:function(){return this.items[0]}},{key:"add",value:function(e){this.items.push(e)}},{key:"replaceFirst",value:function(e,t){var n=this.items.findIndex(t);-1===n?this.items.push(e):this.has(e)?this.items.splice(n,1):this.items[n]=e}},{key:"remove",value:function(e){this.items=this.items.filter((function(t){return!t.equals(e)}))}},{key:"clear",value:function(){this.items=[]}},{key:"isEmpty",value:function(){return 0===this.items.length}},{key:"equals",value:function(e){if(e===this)return!0;if(e.items.length!==this.items.length)return!1;var t,n=i(this.items);try{var r=function(){var n=t.value;if(!e.items.some((function(e){return e.equals(n)})))return{v:!1}};for(n.s();!(t=n.n()).done;){var o=r();if("object"===typeof o)return o.v}}catch(a){n.e(a)}finally{n.f()}return!0}},{key:"has",value:function(e){return this.items.some((function(t){return t.equals(e)}))}},{key:"some",value:function(e){return this.items.some(e)}},{key:"clone",value:function(){return new t(r(this.items))}},{key:"sort",value:function(){this.items.sort((function(e,t){return e.partialCompare(t)}))}},{key:"modify",value:function(){return new c(this)}}],[{key:"default",value:function(){return new t([])}}]),t}(Symbol.iterator),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s;o(this,e),this.items=t,this.copied=!1}return a(e,[{key:"cow",value:function(){this.copied||(this.items=this.items.clone(),this.copied=!0)}},{key:"add",value:function(e){this.items.has(e)||(this.cow(),this.items.add(e))}},{key:"replaceFirst",value:function(e,t){this.items.has(e)&&!this.items.some(t)||(this.cow(),this.items.replaceFirst(e,t))}},{key:"remove",value:function(e){this.items.has(e)&&(this.cow(),this.items.remove(e))}},{key:"some",value:function(e){return this.items.some(e)}},{key:"clear",value:function(){this.items.isEmpty()||(this.cow(),this.items.clear())}},{key:"build",value:function(){return this.copied&&this.items.sort(),this.copied=!1,this.items}}]),e}(),u=function(){function e(t){o(this,e),this.builder=t}return a(e,[{key:"add",value:function(e){this.builder.add(e)}},{key:"replaceFirst",value:function(e,t){this.builder.replaceFirst(e,t)}},{key:"remove",value:function(e){this.builder.remove(e)}},{key:"some",value:function(e){return this.builder.some(e)}},{key:"clear",value:function(){this.builder.clear()}},{key:"build",value:function(){return new l(this.builder.build())}}]),e}();t.MutableVideoPreferences=u;var l=function(e){function t(e){o(this,t),this.items=e}return a(t,[{key:e,value:function(){return this.items[Symbol.iterator]()}},{key:"highestPriority",value:function(){var e;return null===(e=this.items.first())||void 0===e?void 0:e.priority}},{key:"sorted",value:function(){return this.items[Symbol.iterator]()}},{key:"equals",value:function(e){return e===this||this.items.equals(e.items)}},{key:"modify",value:function(){return new u(this.items.modify())}},{key:"some",value:function(e){return this.items.some(e)}},{key:"isEmpty",value:function(){return this.items.isEmpty()}},{key:"clone",value:function(){var e,n=t.prepare(),r=i(this.items);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.add(o.clone())}}catch(a){r.e(a)}finally{r.f()}return n.build()}}],[{key:"prepare",value:function(){return new u(new c)}},{key:"default",value:function(){return new t(s.default())}}]),t}(Symbol.iterator);t.VideoPreferences=l,t.default=l},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e),this.attendeeId=null,this.externalUserId=null,this.joinToken=null}return i(e,[{key:"toJSON",value:function(){return{attendeeId:this.attendeeId,joinToken:null===this.joinToken?null:"<redacted>"}}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDestroyable=void 0,t.isDestroyable=function(e){return e&&"destroy"in e}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=function(){function e(t,n){r(this,e),this.reconnectTimeoutMs=t,this.backoffPolicy=n,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}return i(e,[{key:"timeSpentReconnectingMs",value:function(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}},{key:"hasPastReconnectDeadline",value:function(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs||this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}},{key:"reset",value:function(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}},{key:"startedConnectionAttempt",value:function(e){this._isFirstConnection=e,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}},{key:"hasStartedConnectionAttempt",value:function(){return this.firstConnectionAttempted}},{key:"isFirstConnection",value:function(){return this._isFirstConnection}},{key:"disableReconnect",value:function(){this.shouldReconnect=!1}},{key:"enableRestartPeerConnection",value:function(){this.onlyRestartPeerConnection=!0}},{key:"cancel",value:function(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}},{key:"retryWithBackoff",value:function(e,t){var n=this,r=this.shouldReconnect&&!this.hasPastReconnectDeadline();return r&&(this.backoffCancel=t,this.backoffTimer=new o.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start((function(){n.backoffCancel=null,e()}))),r}},{key:"shouldOnlyRestartPeerConnection",value:function(){return this.onlyRestartPeerConnection}},{key:"clone",value:function(){return new e(this.reconnectTimeoutMs,this.backoffPolicy)}},{key:"setLastActiveTimestampMs",value:function(e){this.lastActiveTimestampMs=e}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(52),a=n(109),s=function(){function e(t){r(this,e),this.logger=t}return i(e,[{key:"create",value:function(e,t,n){this.connection=new WebSocket(n?e:o.default.urlWithVersion(e),t),this.connection.binaryType="arraybuffer"}},{key:"send",value:function(e){var t=this;if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return e instanceof Uint8Array?this.connection.send(e.buffer):this.connection.send(e),!0}catch(n){return this.logger.debug((function(){return"send error: ".concat(n.message,", websocket state=").concat(a.default[t.readyState()])})),!1}}},{key:"close",value:function(e,t){var n;null===(n=this.connection)||void 0===n||n.close(e,t)}},{key:"destroy",value:function(){this.connection=void 0}},{key:"addEventListener",value:function(e,t){this.connection?this.connection.addEventListener(e,t):this.logger.warn("Cannot add event listener with no WebSocket connection.")}},{key:"removeEventListener",value:function(e,t){var n;null===(n=this.connection)||void 0===n||n.removeEventListener(e,t)}},{key:"readyState",value:function(){if(!this.connection)return a.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return a.default.Connecting;case WebSocket.OPEN:return a.default.Open;case WebSocket.CLOSING:return a.default.Closing;case WebSocket.CLOSED:return a.default.Closed}}}]),e}();t.default=s},function(e,t,n){"use strict";(function(t){var r=n(32),i=n(530),o=n(326),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(327)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(a)})),e.exports=c}).call(this,n(72))},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r="undefined"!==typeof Symbol&&"function"===typeof Symbol.for,i=r?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",o=r?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",a="x-amz-user-agent"},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(25),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,c=t.easing,u=void 0===c?i.easeInOut:c,l=t.delay,d=void 0===l?0:l;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(u," ").concat("string"===typeof d?d:a(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";var r=n(11),i=n(18),o=n(39),a=n(1),s=n.n(a),c=n(36),u=n(54),l=n.n(u),d=n(574);function f(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var h=n(50);t.a=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=Object(o.a)(r,["name"]),h=a,p="function"===typeof t?function(e){return{root:function(n){return t(Object(i.a)({theme:e},n))}}}:{root:t},v=Object(d.a)(p,Object(i.a)({Component:e,name:a||e.displayName,classNamePrefix:h},u));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var m=s.a.forwardRef((function(t,r){var a=t.children,u=t.className,l=t.clone,d=t.component,h=Object(o.a)(t,["children","className","clone","component"]),p=v(t),m=Object(c.default)(p.root,u),g=h;if(n&&(g=f(g,n)),l)return s.a.cloneElement(a,Object(i.a)({className:Object(c.default)(a.props.className,m)},g));if("function"===typeof a)return a(Object(i.a)({className:m},g));var b=d||e;return s.a.createElement(b,Object(i.a)({ref:r,className:m},g),a)}));return l()(m,e),m}}(e);return function(e,n){return t(e,Object(r.a)({defaultTheme:h.a},n))}}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(372)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(101);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(1),i=n.n(r).a.createContext(null);t.a=i},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(101);var i=n(123);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.r(t),n.d(t,"fromUtf8",(function(){return r})),n.d(t,"toUtf8",(function(){return i}));var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(126),n(11);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(55);var i={xs:0,sm:600,md:960,lg:1280,xl:1920},o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function a(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||o;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===r(t)){var a=e.theme.breakpoints||o;return Object.keys(t).reduce((function(e,r){return e[a.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(46);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return S}));var r=n(41),i=n.n(r),o=function(e,t){var n=i()({},e,t);for(var r in e){var o;e[r]&&"object"===typeof t[r]&&i()(n,((o={})[r]=i()(e[r],t[r]),o))}return n},a={breakpoints:[40,52,64].map((function(e){return e+"em"}))},s=function(e){return"@media screen and (min-width: "+e+")"},c=function(e,t){return u(t,e,e)},u=function(e,t,n,r,i){for(t=t&&t.split?t.split("."):[t],r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e},l=function e(t){var n={},r=function(e){var r={},c=!1,l=e.theme&&e.theme.disableStyledSystemCache;for(var h in e)if(t[h]){var p=t[h],v=e[h],m=u(e.theme,p.scale,p.defaults);if("object"!==typeof v)i()(r,p(v,m,e));else{if(n.breakpoints=!l&&n.breakpoints||u(e.theme,"breakpoints",a.breakpoints),Array.isArray(v)){n.media=!l&&n.media||[null].concat(n.breakpoints.map(s)),r=o(r,d(n.media,p,m,v,e));continue}null!==v&&(r=o(r,f(n.breakpoints,p,m,v,e)),c=!0)}}return c&&(r=function(e){var t={};return Object.keys(e).sort((function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})})).forEach((function(n){t[n]=e[n]})),t}(r)),r};r.config=t,r.propNames=Object.keys(t),r.cache=n;var c=Object.keys(t).filter((function(e){return"config"!==e}));return c.length>1&&c.forEach((function(n){var i;r[n]=e(((i={})[n]=t[n],i))})),r},d=function(e,t,n,r,o){var a={};return r.slice(0,e.length).forEach((function(r,s){var c,u=e[s],l=t(r,n,o);u?i()(a,((c={})[u]=i()({},a[u],l),c)):i()(a,l)})),a},f=function(e,t,n,r,o){var a={};for(var c in r){var u=e[c],l=t(r[c],n,o);if(u){var d,f=s(u);i()(a,((d={})[f]=i()({},a[f],l),d))}else i()(a,l)}return a},h=function(e){var t=e.properties,n=e.property,r=e.scale,i=e.transform,o=void 0===i?c:i,a=e.defaultScale;t=t||[n];var s=function(e,n,r){var i={},a=o(e,n,r);if(null!==a)return t.forEach((function(e){i[e]=a})),i};return s.scale=r,s.defaults=a,s},p=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n]=!0!==r?"function"!==typeof r?h(r):r:h({property:n,scale:n})})),l(t)},v=p({width:{property:"width",scale:"sizes",transform:function(e,t){return u(t,e,!function(e){return"number"===typeof e&&!isNaN(e)}(e)||e>1?e:100*e+"%")}},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0}),m={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};m.bg=m.backgroundColor;var g=p(m),b=p({fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:[12,14,16,20,24,32,48,64,72]},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0}),y=p({alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0}),w={space:[0,4,8,16,32,64,128,256,512]},S=p({gridGap:{property:"gridGap",scale:"space",defaultScale:w.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:w.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:w.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0}),k=S,C={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"},borderTopWidth:{property:"borderTopWidth",scale:"borderWidths"},borderTopColor:{property:"borderTopColor",scale:"colors"},borderTopStyle:{property:"borderTopStyle",scale:"borderStyles"}};C.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"},C.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"},C.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"},C.borderBottomColor={property:"borderBottomColor",scale:"colors"},C.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"},C.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"},C.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"},C.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"},C.borderLeftColor={property:"borderLeftColor",scale:"colors"},C.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"},C.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"},C.borderRightColor={property:"borderRightColor",scale:"colors"},C.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};var O=p(C),x={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};x.bgImage=x.backgroundImage,x.bgSize=x.backgroundSize,x.bgPosition=x.backgroundPosition,x.bgRepeat=x.backgroundRepeat;var E=p(x),_={space:[0,4,8,16,32,64,128,256,512]},T=p({position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:_.space},right:{property:"right",scale:"space",defaultScale:_.space},bottom:{property:"bottom",scale:"space",defaultScale:_.space},left:{property:"left",scale:"space",defaultScale:_.space}}),I={space:[0,4,8,16,32,64,128,256,512]},A=function(e){return"number"===typeof e&&!isNaN(e)},M=function(e,t){if(!A(e))return u(t,e,e);var n=e<0,r=Math.abs(e),i=u(t,r,r);return A(i)?i*(n?-1:1):n?"-"+i:i},P={};P.margin={margin:{property:"margin",scale:"space",transform:M,defaultScale:I.space},marginTop:{property:"marginTop",scale:"space",transform:M,defaultScale:I.space},marginRight:{property:"marginRight",scale:"space",transform:M,defaultScale:I.space},marginBottom:{property:"marginBottom",scale:"space",transform:M,defaultScale:I.space},marginLeft:{property:"marginLeft",scale:"space",transform:M,defaultScale:I.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:M,defaultScale:I.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:M,defaultScale:I.space}},P.margin.m=P.margin.margin,P.margin.mt=P.margin.marginTop,P.margin.mr=P.margin.marginRight,P.margin.mb=P.margin.marginBottom,P.margin.ml=P.margin.marginLeft,P.margin.mx=P.margin.marginX,P.margin.my=P.margin.marginY,P.padding={padding:{property:"padding",scale:"space",defaultScale:I.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:I.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:I.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:I.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:I.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:I.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:I.space}},P.padding.p=P.padding.padding,P.padding.pt=P.padding.paddingTop,P.padding.pr=P.padding.paddingRight,P.padding.pb=P.padding.paddingBottom,P.padding.pl=P.padding.paddingLeft,P.padding.px=P.padding.paddingX,P.padding.py=P.padding.paddingY;var j=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){t&&t.config&&i()(e,t.config)}));var o=l(e);return o}(p(P.margin),p(P.padding));p({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}});function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}var D=function(e,t,n,r,i){for(t=t&&t.split?t.split("."):[t],r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e},N=[40,52,64].map((function(e){return e+"em"})),L={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},F={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},U={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},B={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},V=function(e,t){if("number"!==typeof t||t>=0)return D(e,t,t);var n=Math.abs(t),r=D(e,n,n);return"string"===typeof r?"-"+r:-1*r},z=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce((function(e,t){var n;return R({},e,((n={})[t]=V,n))}),{}),H=function e(t){return function(n){void 0===n&&(n={});var r=R({},L,{},n.theme||n),i={},o=function(e){return function(t){var n={},r=D(t,"breakpoints",N),i=[null].concat(r.map((function(e){return"@media screen and (min-width: "+e+")"})));for(var o in e){var a="function"===typeof e[o]?e[o](t):e[o];if(null!=a)if(Array.isArray(a))for(var s=0;s<a.slice(0,i.length).length;s++){var c=i[s];c?(n[c]=n[c]||{},null!=a[s]&&(n[c][o]=a[s])):n[o]=a[s]}else n[o]=a}return n}}("function"===typeof t?t(r):t)(r);for(var a in o){var s=o[a],c="function"===typeof s?s(r):s;if("variant"!==a)if(c&&"object"===typeof c)i[a]=e(c)(r);else{var u=D(F,a,a),l=D(B,u),d=D(r,l,D(r,u,{})),f=D(z,u,D)(d,c,c);if(U[u])for(var h=U[u],p=0;p<h.length;p++)i[h[p]]=f;else i[u]=f}else i=R({},i,{},e(D(r,c))(r))}return i}},W=function(e){var t,n,r=e.scale,i=e.prop,o=void 0===i?"variant":i,a=e.variants,s=void 0===a?{}:a,c=e.key;n=Object.keys(s).length?function(e,t,n){return H(u(t,e,null))(n.theme)}:function(e,t){return u(t,e,null)},n.scale=r||c,n.defaults=s;var d=((t={})[o]=n,t);return l(d)};W({key:"buttons"}),W({key:"textStyles",prop:"textStyle"}),W({key:"colorStyles",prop:"colors"}),v.width,v.height,v.minWidth,v.minHeight,v.maxWidth,v.maxHeight,v.size,v.verticalAlign,v.display,v.overflow,v.overflowX,v.overflowY,g.opacity,b.fontSize,b.fontFamily,b.fontWeight,b.lineHeight,b.textAlign,b.fontStyle,b.letterSpacing,y.alignItems,y.alignContent,y.justifyItems,y.justifyContent,y.flexWrap,y.flexDirection,y.flex,y.flexGrow,y.flexShrink,y.flexBasis,y.justifySelf,y.alignSelf,y.order,k.gridGap,k.gridColumnGap,k.gridRowGap,k.gridColumn,k.gridRow,k.gridAutoFlow,k.gridAutoColumns,k.gridAutoRows,k.gridTemplateColumns,k.gridTemplateRows,k.gridTemplateAreas,k.gridArea,O.borderWidth,O.borderStyle,O.borderColor,O.borderTop,O.borderRight,O.borderBottom,O.borderLeft,O.borderRadius,E.backgroundImage,E.backgroundSize,E.backgroundPosition,E.backgroundRepeat,T.zIndex,T.top,T.right,T.bottom,T.left},,function(e,t,n){var r=n(177);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoLogEvent=void 0,function(e){e[e.InputAttached=0]="InputAttached",e[e.SendingFailed=1]="SendingFailed",e[e.SendingSuccess=2]="SendingSuccess"}(r=t.VideoLogEvent||(t.VideoLogEvent={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IDLE="IDLE",e.RUNNING="RUNNING",e.CANCELED="CANCELED",e.FINISHED="FINISHED"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioLogEvent=void 0,function(e){e[e.DeviceChanged=0]="DeviceChanged",e[e.MutedLocal=1]="MutedLocal",e[e.UnmutedLocal=2]="UnmutedLocal",e[e.Connected=3]="Connected",e[e.ConnectFailed=4]="ConnectFailed",e[e.RedmicStartLoss=5]="RedmicStartLoss",e[e.RedmicEndLoss=6]="RedmicEndLoss"}(r=t.AudioLogEvent||(t.AudioLogEvent={})),t.default=r},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(91),c=n(74),u=n(185),l=n(31),d=n(52),f="https://static.sdkassets.chime.aws",h={worker:"".concat(f,"/bgblur/workers/worker.js"),wasm:"".concat(f,"/bgblur/wasm/_cwt-wasm.wasm"),simd:"".concat(f,"/bgblur/wasm/_cwt-wasm-simd.wasm")},p=function(){function e(){i(this,e)}return o(e,null,[{key:"defaultAssetSpec",value:function(){var e=d.default.sdkVersionSemVer;return{assetGroup:"sdk-".concat(e.major,".").concat(e.minor)}}},{key:"createUrlWithParams",value:function(e,t){for(var n=new URL(e),r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];void 0!==t[o]&&n.searchParams.set(o,t[o])}return n.toString()}},{key:"resolveSpec",value:function(e){var t=e||{},n=t.paths,r=void 0===n?h:n,i=t.model,o=void 0===i?u.default.builder().withSelfieSegmentationDefaults().build():i,a=t.assetGroup,s=void 0===a?this.defaultAssetSpec().assetGroup:a,c=t.revisionID,l=void 0===c?this.defaultAssetSpec().revisionID:c,f={assetGroup:s,revisionID:l,sdk:encodeURIComponent(d.default.sdkVersion),ua:encodeURIComponent(d.default.sdkUserAgentLowResolution)};return r.worker=this.createUrlWithParams(r.worker,f),r.wasm=this.createUrlWithParams(r.wasm,f),r.simd=this.createUrlWithParams(r.simd,f),o.path=this.createUrlWithParams(o.path,f),{paths:r,model:o,assetGroup:s,revisionID:l}}},{key:"resolveOptions",value:function(e){e.reportingPeriodMillis||(e.reportingPeriodMillis=1e3);return e.filterCPUUtilization?(e.filterCPUUtilization<0||e.filterCPUUtilization>100)&&(e.logger.warn("filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ".concat(30," percent")),e.filterCPUUtilization=30):e.filterCPUUtilization=30,e}},{key:"isSupported",value:function(e,t){var n=t.logger;return"undefined"===typeof globalThis?(n.info("Browser does not have globalThis."),Promise.resolve(!1)):(new l.default).supportsBackgroundFilter()?c.supportsWASM(globalThis,n)?this.supportsBackgroundFilter(globalThis,e,n):(n.info("Browser does not support WASM."),Promise.resolve(!1)):(n.info("Browser is not supported."),Promise.resolve(!1))}},{key:"supportsBackgroundFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return a(this,void 0,void 0,r().mark((function i(){var o,a;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.supportsWorker(e,n)){r.next=3;break}return n.info("Browser does not support web workers."),r.abrupt("return",!1);case 3:return o=t.paths.worker,r.prev=4,r.next=7,s.loadWorker(o,"BackgroundFilterWorker",{},null);case 7:a=r.sent;try{a.terminate()}catch(i){n.info("Failed to terminate worker. ".concat(i.message))}return r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(4),n.info("Failed to fetch and instantiate test worker ".concat(r.t0.message)),r.abrupt("return",!1);case 16:case"end":return r.stop()}}),i,null,[[4,12]])})))}}]),e}();t.default=p},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.WARN;r(this,e),this.name=t,this.level=n}return i(e,[{key:"info",value:function(e){this.log(o.default.INFO,e)}},{key:"warn",value:function(e){this.log(o.default.WARN,e)}},{key:"error",value:function(e){this.log(o.default.ERROR,e)}},{key:"debug",value:function(e){o.default.DEBUG<this.level||("string"===typeof e?this.log(o.default.DEBUG,e):e?this.log(o.default.DEBUG,e()):this.log(o.default.DEBUG,""+e))}},{key:"setLogLevel",value:function(e){this.level=e}},{key:"getLogLevel",value:function(){return this.level}},{key:"log",value:function(e,t){if(!(e<this.level)){var n=(new Date).toISOString(),r="".concat(n," [").concat(o.default[e],"] ").concat(this.name," - ").concat(t);switch(e){case o.default.ERROR:console.error(r);break;case o.default.WARN:console.warn(r);break;case o.default.DEBUG:console.debug(r.replace(/\\r\\n/g,"\n"));break;case o.default.INFO:console.info(r)}}}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){i(this,e)}return o(e,[{key:"process",value:function(e){return a(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})))}},{key:"destroy",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){i(this,e),this.canvas=t,this.destroyed=!1}return o(e,[{key:"destroy",value:function(){this.canvas=null,this.destroyed=!0}},{key:"asCanvasImageSource",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return",Promise.reject("canvas buffer is destroyed"));case 2:return e.abrupt("return",Promise.resolve(this.canvas));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"asCanvasElement",value:function(){return this.canvas}}]),e}();t.default=s},function(e,t,n){"use strict";(function(e){var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function t(){i(this,t)}return o(t,null,[{key:"register",value:function(){"document"in e&&document.addEventListener&&t.shouldRegisterCSPMonitor&&(t.added||(document.addEventListener("securitypolicyviolation",t.listener),t.added=!0))}},{key:"unregister",value:function(){"document"in e&&document.removeEventListener&&(document.removeEventListener("securitypolicyviolation",t.listener),t.loggers=new Set,t.added=!1)}},{key:"disable",value:function(){t.shouldRegisterCSPMonitor=!1,t.unregister()}},{key:"addLogger",value:function(e){e&&t.loggers.add(e)}},{key:"removeLogger",value:function(e){e&&t.loggers.delete(e)}}]),t}();t.default=a,a.loggers=new Set,a.shouldRegisterCSPMonitor=!0,a.added=!1,a.listener=function(e){var t,n="Security Policy Violation\n"+"Blocked URI: ".concat(e.blockedURI,"\n")+"Violated Directive: ".concat(e.violatedDirective,"\n")+"Original Policy: ".concat(e.originalPolicy,"\n")+"Document URI: ".concat(e.documentURI,"\n")+"Source File: ".concat(e.sourceFile,"\n")+"Line No.: ".concat(e.lineNumber,"\n"),i=r(a.loggers);try{for(i.s();!(t=i.n()).done;){t.value.error(n)}}catch(o){i.e(o)}finally{i.f()}0===a.loggers.size&&console.error(n)}}).call(this,n(34))},function(e,t,n){"use strict";var r=n(7).default,i=n(12).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(31),u=n(209),l=n(47),d=n(211),f=n(44),h=n(108),p=n(213),v=n(214),m=n(64),g=n(215),b=n(216),y=n(217),w=n(143),S=n(218),k=n(219),C=n(144),O=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new c.default,s=arguments.length>3?arguments[3]:void 0;o(this,e),this.logger=t,this.browserBehavior=a,this.eventController=s,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=function(){return navigator.mediaDevices.getUserMedia({audio:!0,video:!0})},this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new d.default,this.videoInputTaskQueue=new d.default,this.muted=!1,this.mediaStreamMuteObserver=function(e,t){var n,o=i(r.deviceChangeObservers);try{var a=function(){var i=n.value;l.default.nextTick((function(){r.deviceChangeObservers.has(i)&&i.audioInputMuteStateChanged&&i.audioInputMuteStateChanged(e,t)}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}},this.alreadyHandlingDeviceChange=!1;var f=n||{},h=f.enableWebAudio,p=void 0!==h&&h,v=f.useMediaConstraintsFallback,m=void 0===v||v;this.useWebAudio=p,this.useMediaConstraintsFallback=m,this.videoInputQualitySettings=new k.default(e.defaultVideoWidth,e.defaultVideoHeight,e.defaultVideoFrameRate);var g=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=g[0],this.videoInputQualitySettings.videoHeight=g[1],this.logger.info("DefaultDeviceController video dimension ".concat(this.videoInputQualitySettings.videoWidth," x ").concat(this.videoInputQualitySettings.videoHeight));try{this.mediaDeviceWrapper=(new u.default).create();var b=navigator.mediaDevices.getSupportedConstraints();this.logger.info("Supported Constraints in this browser ".concat(JSON.stringify(b)))}catch(y){t.error(y.message)}}return a(e,[{key:"isWatchingForDeviceChanges",value:function(){return!!this.onDeviceChangeCallback}},{key:"ensureWatchingDeviceChanges",value:function(){var e,t=this;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=function(){t.logger.info("Device change event callback is triggered"),t.handleDeviceChange()},null===(e=this.mediaDeviceWrapper)||void 0===e||e.addEventListener("devicechange",this.onDeviceChangeCallback))}},{key:"stopWatchingDeviceChanges",value:function(){var e;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),null===(e=this.mediaDeviceWrapper)||void 0===e||e.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}},{key:"shouldObserveDeviceChanges",value:function(){return!!this.deviceChangeObservers.size||(this.activeDevices.audio&&null!==this.activeDevices.audio.constraints||this.activeDevices.video&&null!==this.activeDevices.video.constraints||!!this.audioOutputDeviceId)}},{key:"watchForDeviceChangesIfNecessary",value:function(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}},{key:"destroy",value:function(){return s(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopWatchingDeviceChanges(),e.next=3,this.stopAudioInput();case 3:return e.next=5,this.stopVideoInput();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"listAudioInputDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listDevicesOfKind("audioinput",e);case 2:return n=t.sent,this.trace("listAudioInputDevices",e,n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"listVideoInputDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listDevicesOfKind("videoinput",e);case 2:return n=t.sent,this.trace("listVideoInputDevices",e,n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"listAudioOutputDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listDevicesOfKind("audiooutput",e);case 2:return n=t.sent,this.trace("listAudioOutputDevices",e,n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"pushAudioMeetingStateForPermissions",value:function(e){var t;null===(t=this.eventController)||void 0===t||t.publishEvent(void 0===e?"audioInputUnselected":"audioInputSelected")}},{key:"pushVideoMeetingStateForPermissions",value:function(e){var t;null===(t=this.eventController)||void 0===t||t.publishEvent(void 0===e?"videoInputUnselected":"videoInputSelected")}},{key:"startAudioInput",value:function(e){return s(this,void 0,void 0,r().mark((function t(){var n=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.audioInputTaskQueue.add((function(){return n.startAudioInputTask(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"startAudioInputTask",value:function(e){var t;return s(this,void 0,void 0,r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=3;break}return this.logger.error("Audio input device cannot be undefined"),n.abrupt("return",void 0);case 3:if(n.prev=3,!p.isAudioTransformDevice(e)){n.next=10;break}return this.logger.info("Choosing transform input device ".concat(e)),n.next=8,this.chooseAudioTransformInputDevice(e);case 8:n.next=14;break;case 10:return this.logger.info("Choosing intrinsic audio input device ".concat(e)),this.removeTransform(),n.next=14,this.chooseInputIntrinsicDevice("audio",e);case 14:if(this.trace("startAudioInputDevice",e,"success"),!this.useWebAudio){n.next=23;break}return this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),n.next=20,null===(t=this.transform)||void 0===t?void 0:t.device.mute(this.muted);case 20:return n.abrupt("return",this.getMediaStreamDestinationNode().stream);case 23:return this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),n.abrupt("return",this.activeDevices.audio.stream);case 25:n.next=30;break;case 27:throw n.prev=27,n.t0=n.catch(3),n.t0;case 30:case"end":return n.stop()}}),n,this,[[3,27]])})))}},{key:"stopAudioInput",value:function(){return s(this,void 0,void 0,r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.audioInputTaskQueue.add((function(){return t.stopAudioInputTask()})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"stopAudioInputTask",value:function(){return s(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.useWebAudio){e.next=4;break}return this.releaseAudioTransformStream(),e.abrupt("return");case 4:this.stopTracksAndRemoveCallbacks("audio");case 5:return e.prev=5,this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0),e.finish(5);case 9:case"end":return e.stop()}}),e,this,[[0,,5,9]])})))}},{key:"chooseAudioTransformInputDevice",value:function(t){var n;return s(this,void 0,void 0,r().mark((function i(){var o,a,s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((null===(n=this.transform)||void 0===n?void 0:n.device)!==t){r.next=2;break}return r.abrupt("return");case 2:if(this.useWebAudio){r.next=4;break}throw new Error("Cannot apply transform device without enabling Web Audio.");case 4:if(!((o=e.getAudioContext())instanceof OfflineAudioContext)){r.next=8;break}r.next=15;break;case 8:r.t0=o.state,r.next="running"===r.t0?11:"closed"===r.t0?12:"suspended"===r.t0?13:15;break;case 11:return r.abrupt("break",15);case 12:throw new Error("Cannot choose a transform device with a closed audio context.");case 13:return r.next=15,o.resume();case 15:return r.prev=15,r.next=18,t.createAudioNode(o);case 18:a=r.sent,r.next=25;break;case 21:throw r.prev=21,r.t1=r.catch(15),this.logger.error("Unable to create transform device node: ".concat(r.t1,".")),r.t1;case 25:return r.next=27,t.intrinsicDevice();case 27:return s=r.sent,r.next=30,this.chooseInputIntrinsicDevice("audio",s);case 30:this.logger.debug("Got inner stream: ".concat(s,".")),this.setTransform(t,a);case 32:case"end":return r.stop()}}),i,this,[[15,21]])})))}},{key:"chooseVideoTransformInputDevice",value:function(e){var t;return s(this,void 0,void 0,r().mark((function n(){var i,o,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==this.chosenVideoTransformDevice){n.next=3;break}return this.logger.info("Reselecting same VideoTransformDevice"),n.abrupt("return");case 3:return(i=this.chosenVideoTransformDevice)&&this.logger.info("Switched from previous VideoTransformDevice"),o=!!i,n.next=8,e.intrinsicDevice();case 8:if(a=n.sent,this.isMediaStreamReusableByDeviceId(null===(t=this.activeDevices.video)||void 0===t?void 0:t.stream,a)){n.next=21;break}return this.logger.info("video transform device needs new intrinsic device"),o&&i.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=e,this.activeDevices.video=null,n.next=17,this.chooseInputIntrinsicDevice("video",a);case 17:return this.logger.info("apply processors to transform"),n.next=20,this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);case 20:return n.abrupt("return");case 21:return this.chosenVideoTransformDevice=e,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),n.next=26,e.transformStream(this.activeDevices.video.stream);case 26:case"end":return n.stop()}}),n,this)})))}},{key:"startVideoInput",value:function(e){return s(this,void 0,void 0,r().mark((function t(){var n=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.videoInputTaskQueue.add((function(){return n.startVideoInputTask(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"startVideoInputTask",value:function(e){return s(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return this.logger.error("Invalid video input device"),t.abrupt("return",void 0);case 3:if(t.prev=3,!C.isVideoTransformDevice(e)){t.next=10;break}return this.logger.info("Choosing video transform device ".concat(e)),t.next=8,this.chooseVideoTransformInputDevice(e);case 8:return this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),t.abrupt("return",this.chosenVideoTransformDevice.outputMediaStream);case 10:return this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),t.next=13,this.chooseInputIntrinsicDevice("video",e);case 13:return this.trace("startVideoInputDevice",e),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),t.abrupt("return",this.activeDevices.video.stream);case 18:throw t.prev=18,t.t0=t.catch(3),t.t0;case 21:case"end":return t.stop()}}),t,this,[[3,18]])})))}},{key:"stopVideoInput",value:function(){return s(this,void 0,void 0,r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.videoInputTaskQueue.add((function(){return t.stopVideoInputTask()})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"stopVideoInputTask",value:function(){return s(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.chosenVideoInputIsTransformDevice()){e.next=4;break}return this.releaseVideoTransformStream(),e.abrupt("return");case 4:this.stopTracksAndRemoveCallbacks("video");case 5:return e.prev=5,this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0),e.finish(5);case 9:case"end":return e.stop()}}),e,this,[[0,,5,9]])})))}},{key:"chooseAudioOutput",value:function(e){return s(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.audioOutputDeviceId=e,this.watchForDeviceChangesIfNecessary(),n=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId),this.publishAudioOutputDidChangeEvent(n),this.trace("chooseAudioOutput",e,null),t.abrupt("return");case 6:case"end":return t.stop()}}),t,this)})))}},{key:"addDeviceChangeObserver",value:function(e){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(e),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}},{key:"removeDeviceChangeObserver",value:function(e){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(e),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}},{key:"createAnalyserNodeForAudioInput",value:function(){var e,t;if(!this.activeDevices.audio)return null;var n=null===(t=null===(e=this.transform)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.end;if(n){var r=n.context.createAnalyser();return r.removeOriginalInputs=function(){try{n.disconnect(r)}catch(e){}},n.connect(r),r}return this.createAnalyserNodeForRawAudioInput()}},{key:"createAnalyserNodeForRawAudioInput",value:function(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}},{key:"createAnalyserNodeForStream",value:function(t){var n=e.getAudioContext(),r=n.createAnalyser(),i=n.createMediaStreamSource(t);return i.connect(r),this.trace("createAnalyserNodeForAudioInput"),r.removeOriginalInputs=function(){try{i.disconnect(r)}catch(e){}},r}},{key:"startVideoPreviewForVideoInput",value:function(e){if(!this.activeDevices.video)return this.logger.warn("cannot bind video preview since video input device has not been chosen"),void this.trace("startVideoPreviewForVideoInput",e.id);h.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,e,!0),this.trace("startVideoPreviewForVideoInput",e.id)}},{key:"stopVideoPreviewForVideoInput",value:function(e){h.default.disconnectVideoStreamFromVideoElement(e,!1),this.trace("stopVideoPreviewForVideoInput",e.id)}},{key:"setDeviceLabelTrigger",value:function(e){if(this.deviceInfoCache){var t,n=i(this.deviceInfoCache);try{for(n.s();!(t=n.n()).done;){if(!t.value.label){this.deviceInfoCache=null;break}}}catch(r){n.e(r)}finally{n.f()}}this.deviceLabelTrigger=e,this.trace("setDeviceLabelTrigger")}},{key:"mixIntoAudioInput",value:function(t){var n=null;return this.useWebAudio?(n=e.getAudioContext().createMediaStreamSource(t)).connect(this.getMediaStreamOutputNode()):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",t.id),n}},{key:"chooseVideoInputQuality",value:function(e,t,n){var r=this.browserBehavior.requiresResolutionAlignment(e,t);this.videoInputQualitySettings=new k.default(r[0],r[1],n)}},{key:"getVideoInputQualitySettings",value:function(){return this.videoInputQualitySettings}},{key:"acquireAudioInputStream",value:function(){return s(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeDevices.audio){e.next=4;break}return this.logger.info("No audio device chosen, creating empty audio device"),e.next=4,this.startAudioInput(null);case 4:if(!this.useWebAudio){e.next=7;break}return t=this.getMediaStreamDestinationNode(),e.abrupt("return",t.stream);case 7:return e.abrupt("return",this.activeDevices.audio.stream);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"acquireVideoInputStream",value:function(){return s(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeDevices.video){e.next=2;break}throw new Error("No video device chosen");case 2:if(!this.chosenVideoInputIsTransformDevice()){e.next=4;break}return e.abrupt("return",this.chosenVideoTransformDevice.outputMediaStream);case 4:return e.abrupt("return",this.activeDevices.video.stream);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"acquireDisplayInputStream",value:function(e){return s(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("unsupported");case 1:case"end":return e.stop()}}),e)})))}},{key:"releaseAudioTransformStream",value:function(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}},{key:"releaseVideoTransformStream",value:function(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}},{key:"stopTracksAndRemoveCallbacks",value:function(e){var t=this.activeDevices[e];if(t){var n,r=t.endedCallback,o=t.trackMuteCallback,a=t.trackUnmuteCallback,s=i(t.stream.getTracks());try{for(s.s();!(n=s.n()).done;){var c=n.value;c.stop(),r&&c.removeEventListener("ended",r),o&&c.removeEventListener("mute",o),a&&c.removeEventListener("unmute",a),delete t.endedCallback,delete t.trackMuteCallback,delete t.trackUnmuteCallback,delete this.activeDevices[e]}}catch(u){s.e(u)}finally{s.f()}}}},{key:"chosenVideoInputIsTransformDevice",value:function(){return!!this.chosenVideoTransformDevice}},{key:"muteLocalAudioInputStream",value:function(){this.toggleLocalAudioInputStream(!1)}},{key:"unmuteLocalAudioInputStream",value:function(){this.toggleLocalAudioInputStream(!0)}},{key:"toggleLocalAudioInputStream",value:function(e){var t,n=this.activeDevices.audio;if(this.useWebAudio&&(n=this.getMediaStreamDestinationNode()),n){var r,o=i(n.stream.getTracks());try{for(o.s();!(r=o.n()).done;){var a=r.value;a.enabled!==e&&(a.enabled=e)}}catch(s){o.e(s)}finally{o.f()}this.muted!==!e&&(this.muted=!e,null===(t=this.transform)||void 0===t||t.device.mute(this.muted))}}},{key:"listDevicesOfKind",value:function(e,t){return s(this,void 0,void 0,r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t&&null!==this.deviceInfoCache&&this.isWatchingForDeviceChanges()){n.next=3;break}return n.next=3,this.updateDeviceInfoCacheFromBrowser();case 3:return n.abrupt("return",this.listCachedDevicesOfKind(e));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"updateDeviceInfoCacheFromBrowser",value:function(){return s(this,void 0,void 0,r().mark((function e(){var t,n,o,a,s,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("undefined"===typeof MediaDeviceInfo)){e.next=4;break}return this.deviceInfoCache=[],e.abrupt("return");case 4:return e.next=6,navigator.mediaDevices.enumerateDevices();case 6:t=e.sent,n=!0,o=i(t),e.prev=9,o.s();case 11:if((a=o.n()).done){e.next=18;break}if(a.value.label){e.next=16;break}return n=!1,e.abrupt("break",18);case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),o.e(e.t0);case 23:return e.prev=23,o.f(),e.finish(23);case 26:if(n){e.next=42;break}return e.prev=27,this.logger.info("attempting to trigger media device labels since they are hidden"),e.next=31,this.deviceLabelTrigger();case 31:return s=e.sent,e.next=34,navigator.mediaDevices.enumerateDevices();case 34:t=e.sent,c=i(s.getTracks());try{for(c.s();!(u=c.n()).done;)u.value.stop()}catch(r){c.e(r)}finally{c.f()}e.next=42;break;case 39:e.prev=39,e.t1=e.catch(27),this.logger.info("unable to get media device labels");case 42:this.logger.debug("Update device info cache with devices: ".concat(JSON.stringify(t))),this.deviceInfoCache=t;case 44:case"end":return e.stop()}}),e,this,[[9,20,23,26],[27,39]])})))}},{key:"listCachedDevicesOfKind",value:function(e){var t=[];if(this.deviceInfoCache){var n,r=i(this.deviceInfoCache);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.kind===e&&t.push(o)}}catch(a){r.e(a)}finally{r.f()}}return t}},{key:"handleDeviceChange",value:function(){return s(this,void 0,void 0,r().mark((function e(){var t,n,i,o,a,s,c=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.deviceInfoCache){e.next=2;break}return e.abrupt("return");case 2:if(!this.alreadyHandlingDeviceChange){e.next=5;break}return l.default.nextTick((function(){c.handleDeviceChange()})),e.abrupt("return");case 5:return this.alreadyHandlingDeviceChange=!0,t=this.listCachedDevicesOfKind("audioinput"),n=this.listCachedDevicesOfKind("videoinput"),i=this.listCachedDevicesOfKind("audiooutput"),e.next=11,this.updateDeviceInfoCacheFromBrowser();case 11:o=this.listCachedDevicesOfKind("audioinput"),a=this.listCachedDevicesOfKind("videoinput"),s=this.listCachedDevicesOfKind("audiooutput"),this.forEachObserver((function(e){c.areDeviceListsEqual(t,o)||f.Maybe.of(e.audioInputsChanged).map((function(t){return t.bind(e)(o)})),c.areDeviceListsEqual(n,a)||f.Maybe.of(e.videoInputsChanged).map((function(t){return t.bind(e)(a)})),c.areDeviceListsEqual(i,s)||f.Maybe.of(e.audioOutputsChanged).map((function(t){return t.bind(e)(s)}))})),this.alreadyHandlingDeviceChange=!1;case 16:case"end":return e.stop()}}),e,this)})))}},{key:"handleDeviceStreamEnded",value:function(e,t){return s(this,void 0,void 0,r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"audio"!==e){n.next=7;break}return this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),n.next=5,this.startAudioInput(null);case 5:n.next=10;break;case 7:return this.logger.warn("Video input device which was active is no longer available, stopping video"),n.next=10,this.stopVideoInput();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),this.logger.error("Failed to choose null device after stream ended.");case 15:"audio"===e?this.forEachObserver((function(e){f.Maybe.of(e.audioInputStreamEnded).map((function(n){return n.bind(e)(t)}))})):this.forEachObserver((function(e){f.Maybe.of(e.videoInputStreamEnded).map((function(n){return n.bind(e)(t)}))}));case 16:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"forEachObserver",value:function(e){var t,n=this,r=i(this.deviceChangeObservers);try{var o=function(){var r=t.value;l.default.nextTick((function(){n.deviceChangeObservers.has(r)&&e(r)}))};for(r.s();!(t=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}},{key:"forEachMediaStreamBrokerObserver",value:function(e){var t,n=i(this.mediaStreamBrokerObservers);try{for(n.s();!(t=n.n()).done;){e(t.value)}}catch(r){n.e(r)}finally{n.f()}}},{key:"areDeviceListsEqual",value:function(e,t){return JSON.stringify(e.map((function(e){return JSON.stringify(e)})).sort())===JSON.stringify(t.map((function(e){return JSON.stringify(e)})).sort())}},{key:"intrinsicDeviceAsMediaStream",value:function(e){return e&&e.id?e:null}},{key:"hasSameMediaStreamId",value:function(e,t,n){var r,i,o,a,s;return"audio"===e?!!(s=null===n||void 0===n?void 0:n.audio.streamId)&&s===(null===(i=null===(r=t.constraints)||void 0===r?void 0:r.audio)||void 0===i?void 0:i.streamId):!!(s=null===n||void 0===n?void 0:n.video.streamId)&&s===(null===(a=null===(o=null===t||void 0===t?void 0:t.constraints)||void 0===o?void 0:o.video)||void 0===a?void 0:a.streamId)}},{key:"hasSameGroupId",value:function(t,n,r){if(""===t)return!0;var i=e.getIntrinsicDeviceId(r);return this.logger.debug("Checking deviceIds ".concat(i," of type ").concat(typeof i," with groupId ").concat(t)),"string"===typeof i&&t===this.getGroupIdFromDeviceId(n,i)}},{key:"getGroupIdFromDeviceId",value:function(e,t){if(null!==this.deviceInfoCache){var n=this.listCachedDevicesOfKind("".concat(e,"input")).find((function(e){return e.deviceId===t}));if(n&&n.groupId)return this.logger.debug("GroupId of deviceId ".concat(t," found in cache is ").concat(n.groupId)),n.groupId}return this.logger.debug("GroupId of deviceId ".concat(t," found in cache is empty")),""}},{key:"handleGetUserMediaError",value:function(t,n){if(!t)throw new m.default(t);switch(t.name){case"NotReadableError":case"TrackStartError":throw new b.default(t);case"NotFoundError":case"DevicesNotFoundError":throw new g.default(t);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw n&&n<e.permissionDeniedOriginDetectionThresholdMs?new w.default(t,"Permission denied by browser"):new w.default(t,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new y.default(t);case"TypeError":throw new S.default(t);default:throw new m.default(t)}}},{key:"matchesDeviceSelection",value:function(e,t,n,r){return!!(n&&n.stream.active&&(this.hasSameMediaStreamId(e,n,r)||null!==n.groupId&&this.hasSameGroupId(n.groupId,e,t)))&&(this.logger.debug("Compare current device constraint ".concat(JSON.stringify(n.constraints)," to proposed constraints ").concat(JSON.stringify(r))),n.matchesConstraints(r))}},{key:"chooseInputIntrinsicDevice",value:function(t,n){var i,o;return s(this,void 0,void 0,r().mark((function a(){var s,c,u,l,d,f,h,p;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=this.getMediaStreamConstraints(t,n),!this.matchesDeviceSelection(t,n,this.activeDevices[t],s)){r.next=4;break}return this.logger.info("reusing existing ".concat(t," input device")),r.abrupt("return");case 4:if(this.activeDevices[t]&&this.activeDevices[t].stream&&this.stopTracksAndRemoveCallbacks(t),c=Date.now(),u=new v.default,r.prev=7,this.logger.info("requesting new ".concat(t," device with constraint ").concat(JSON.stringify(s))),l=this.intrinsicDeviceAsMediaStream(n),"audio"!==t||null!==n){r.next=15;break}u.stream=e.createEmptyAudioDevice(),u.constraints=null,r.next=25;break;case 15:if(!l){r.next=21;break}this.logger.info("using media stream ".concat(l.id," for ").concat(t," device")),u.stream=l,u.constraints=s,r.next=25;break;case 21:return r.next=23,navigator.mediaDevices.getUserMedia(s);case 23:u.stream=r.sent,u.constraints=s;case 25:return r.next=27,this.handleNewInputDevice(t,u);case 27:r.next=69;break;case 29:if(r.prev=29,r.t0=r.catch(7),d=this.getErrorMessage(r.t0),"audio"===t?null===(i=this.eventController)||void 0===i||i.publishEvent("audioInputFailed",{audioInputErrorMessage:d}):null===(o=this.eventController)||void 0===o||o.publishEvent("videoInputFailed",{videoInputErrorMessage:d}),this.logger.error("failed to get ".concat(t," device for constraints ").concat(JSON.stringify(s),": ").concat(d)),f=!0,!r.t0||!("constraint"in r.t0)){r.next=55;break}if(this.logger.error("Over-constrained by constraint: ".concat(r.t0.constraint)),!this.useMediaConstraintsFallback){r.next=55;break}if(h=this.getMediaStreamConstraints(t,n,!0),(p=JSON.stringify(h))===JSON.stringify(s)){r.next=55;break}return this.logger.info("retry requesting new ".concat(t," device with minimal constraint ").concat(p)),r.prev=42,r.next=45,navigator.mediaDevices.getUserMedia(h);case 45:return u.stream=r.sent,u.constraints=h,r.next=49,this.handleNewInputDevice(t,u);case 49:f=!1,r.next=55;break;case 52:r.prev=52,r.t1=r.catch(42),this.logger.error("failed to get ".concat(t," device for constraints ").concat(p,": ").concat(this.getErrorMessage(r.t1)));case 55:if(!f){r.next=69;break}if("audio"!==t){r.next=68;break}return this.logger.info("choosing null ".concat(t," device instead")),r.prev=58,u.stream=e.createEmptyAudioDevice(),u.constraints=null,r.next=63,this.handleNewInputDevice(t,u);case 63:r.next=68;break;case 65:r.prev=65,r.t2=r.catch(58),this.logger.error("failed to choose null ".concat(t," device. ").concat(r.t2.name,": ").concat(r.t2.message));case 68:this.handleGetUserMediaError(r.t0,Date.now()-c);case 69:return r.prev=69,this.watchForDeviceChangesIfNecessary(),r.finish(69);case 72:case"end":return r.stop()}}),a,this,[[7,29,69,72],[42,52],[58,65]])})))}},{key:"getErrorMessage",value:function(e){return e?e.name&&e.message?"".concat(e.name,": ").concat(e.message):e.name?e.name:e.message?e.message:"UnknownError":"UnknownError"}},{key:"handleNewInputDevice",value:function(e,t){var n;return s(this,void 0,void 0,r().mark((function i(){var o,a,s,c,u=this;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.logger.info("got ".concat(e," device for constraints ").concat(JSON.stringify(t.constraints))),o=null===(n=this.getMediaTrackSettings(t.stream))||void 0===n?void 0:n.deviceId,t.groupId=o?this.getGroupIdFromDeviceId(e,o):"",this.activeDevices[e]=t,this.logger.debug("Set activeDevice to ".concat(JSON.stringify(t))),this.watchForDeviceChangesIfNecessary(),(a=t.stream.getTracks()[0])&&(t.endedCallback=function(){u.activeDevices[e]&&u.activeDevices[e].stream===t.stream&&(u.handleDeviceStreamEnded(e,o),delete t.endedCallback)},a.addEventListener("ended",t.endedCallback,{once:!0})),"audio"===e&&(s=t.stream.getAudioTracks()[0])&&(c=s.getSettings().deviceId||t.stream,t.trackMuteCallback=function(){u.mediaStreamMuteObserver(c,!0)},t.trackUnmuteCallback=function(){u.mediaStreamMuteObserver(c,!1)},s.addEventListener("mute",t.trackMuteCallback,{once:!1}),s.addEventListener("unmute",t.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),s.muted?t.trackMuteCallback():t.trackUnmuteCallback());case 9:case"end":return r.stop()}}),i,this)})))}},{key:"calculateMediaStreamConstraints",value:function(t,n,r,i){if(i&&1===this.listCachedDevicesOfKind("".concat(t,"input")).length)return!0;var o={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?o.deviceId=n:o.deviceId={exact:n},r&&(o.groupId=r),i?o:"video"===t?(o.width={ideal:this.videoInputQualitySettings.videoWidth},o.height={ideal:this.videoInputQualitySettings.videoHeight},o.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},o):(this.supportSampleRateConstraint()&&(o.sampleRate={ideal:e.defaultSampleRate}),this.supportSampleSizeConstraint()&&(o.sampleSize={ideal:e.defaultSampleSize}),this.supportChannelCountConstraint()&&(o.channelCount={ideal:e.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},o))}},{key:"getMediaStreamConstraintsFromTrackConstraints",value:function(e,t){return"audio"===e?{audio:t}:{video:t}}},{key:"getMediaStreamConstraints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};if(!t)return null;var i=this.intrinsicDeviceAsMediaStream(t);if(i)return r.streamId=i.id,this.getMediaStreamConstraintsFromTrackConstraints(e,r);if("string"===typeof t){var o="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(null!==this.deviceInfoCache?o=this.getGroupIdFromDeviceId(e,t):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),r=this.calculateMediaStreamConstraints(e,t,o,n),this.getMediaStreamConstraintsFromTrackConstraints(e,r)}return x(t)?(r=this.calculateMediaStreamConstraints(e,t.deviceId,t.groupId,n),this.getMediaStreamConstraintsFromTrackConstraints(e,r)):(r=t,this.getMediaStreamConstraintsFromTrackConstraints(e,r))}},{key:"deviceInfoFromDeviceId",value:function(e,t){if(null===this.deviceInfoCache)return null;var n,r=i(this.deviceInfoCache);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.kind===e&&o.deviceId===t)return o}}catch(a){r.e(a)}finally{r.f()}return null}},{key:"hasAppliedTransform",value:function(){return!!this.transform}},{key:"isMediaStreamReusableByDeviceId",value:function(t,n){if(!t||!t.active||!n)return!1;if(n.id)return t.id===n.id;var r=this.getMediaTrackSettings(t);if(!r.deviceId)return!1;var i=e.getIntrinsicDeviceId(n);return"string"===typeof i&&r.deviceId===i}},{key:"getMediaTrackSettings",value:function(e){var t;return null===(t=e.getTracks()[0])||void 0===t?void 0:t.getSettings()}},{key:"reconnectAudioInputs",value:function(){if(this.audioInputSourceNode){this.audioInputSourceNode.disconnect();var e=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(e)}}},{key:"setTransform",value:function(e,t){var n,r;null===(r=null===(n=this.transform)||void 0===n?void 0:n.nodes)||void 0===r||r.end.disconnect(),this.transform={nodes:t,device:e};var i=null===t||void 0===t?void 0:t.end,o=this.getMediaStreamDestinationNode();this.logger.debug("Connecting transform node ".concat(i," to destination ").concat(o,".")),null===i||void 0===i||i.connect(o),this.reconnectAudioInputs()}},{key:"removeTransform",value:function(){var e,t=this.transform;if(t)return null===(e=this.transform.nodes)||void 0===e||e.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),t}},{key:"attachAudioInputStreamToAudioContext",value:function(t){var n;null===(n=this.audioInputSourceNode)||void 0===n||n.disconnect(),this.audioInputSourceNode=e.getAudioContext().createMediaStreamSource(t);var r=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(r)}},{key:"getMediaStreamDestinationNode",value:function(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=e.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}},{key:"getMediaStreamOutputNode",value:function(){var e,t;return(null===(t=null===(e=this.transform)||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.start)||this.getMediaStreamDestinationNode()}},{key:"addMediaStreamBrokerObserver",value:function(e){this.mediaStreamBrokerObservers.add(e)}},{key:"removeMediaStreamBrokerObserver",value:function(e){this.mediaStreamBrokerObservers.delete(e)}},{key:"publishVideoInputDidChangeEvent",value:function(e){this.forEachMediaStreamBrokerObserver((function(t){t.videoInputDidChange&&t.videoInputDidChange(e)})),this.pushVideoMeetingStateForPermissions(e)}},{key:"publishAudioInputDidChangeEvent",value:function(e){this.forEachMediaStreamBrokerObserver((function(t){t.audioInputDidChange&&t.audioInputDidChange(e)})),this.pushAudioMeetingStateForPermissions(e)}},{key:"publishAudioOutputDidChangeEvent",value:function(e){this.forEachMediaStreamBrokerObserver((function(t){t.audioOutputDidChange&&t.audioOutputDidChange(e)}))}},{key:"supportSampleRateConstraint",value:function(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}},{key:"supportSampleSizeConstraint",value:function(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}},{key:"supportChannelCountConstraint",value:function(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}},{key:"trace",value:function(e,t,n){var r="API/DefaultDeviceController/".concat(e);"undefined"!==typeof t&&(r+=" ".concat(JSON.stringify(t))),"undefined"!==typeof n&&(r+=" -> ".concat(JSON.stringify(n))),this.logger.info(r)}}],[{key:"getIntrinsicDeviceId",value:function(e){if(e){if("string"===typeof e)return e;if(e.id)return e.id;var t=e.deviceId;if(t){if("string"===typeof t||Array.isArray(t))return t;var n=t;return"string"===typeof n.exact||Array.isArray(n.exact)?n.exact:void 0}}}},{key:"createEmptyAudioDevice",value:function(){return e.synthesizeAudioDevice(0)}},{key:"synthesizeAudioDevice",value:function(t){var n=e.getAudioContext(),r=n.createMediaStreamDestination();if(t){var i=n.createGain();i.gain.value=.1,i.connect(r);var o=n.createOscillator();o.frequency.value=t,o.connect(i),o.start()}else{var a=n.createBufferSource();try{a.buffer=n.createBuffer(1,5*n.sampleRate,n.sampleRate)}catch(s){if(!s||"NotSupportedError"!==s.name)throw s;a.buffer=n.createBuffer(1,5*e.defaultSampleRate,e.defaultSampleRate)}a.buffer.getChannelData(0)[0]=3e-4,a.loop=!0,a.connect(r),a.start()}return r.stream}},{key:"getAudioContext",value:function(){if(!e.audioContext){var t={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(t.sampleRate=e.defaultSampleRate),e.audioContext=new(window.AudioContext||window.webkitAudioContext)(t)}return e.audioContext}},{key:"closeAudioContext",value:function(){if(e.audioContext)try{e.audioContext.close()}catch(t){}e.audioContext=null}}]),e}();function x(e){return"object"===typeof e&&"deviceId"in e&&"groupId"in e&&"kind"in e&&"label"in e}t.default=O,O.permissionDeniedOriginDetectionThresholdMs=500,O.defaultVideoWidth=960,O.defaultVideoHeight=540,O.defaultVideoFrameRate=15,O.defaultSampleRate=48e3,O.defaultSampleSize=16,O.defaultChannelCount=1,O.audioContext=null},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e,r){var o;return i(this,n),(o=t.call(this,e,r)).name="PermissionDeniedError",o}return r(n)}(n(64).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVideoTransformDevice=void 0,t.isVideoTransformDevice=function(e){return!!e&&"object"===typeof e&&"transformStream"in e&&"stop"in e&&"intrinsicDevice"in e}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),a=function(){function e(t,n){r(this,e),this.codecName=t,this.codecCapability=n}return i(e,[{key:"equals",value:function(e){return void 0!==e&&this.codecName===e.codecName&&this.codecCapability.mimeType===e.codecCapability.mimeType&&this.codecCapability.clockRate===e.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===e.codecCapability.sdpFmtpLine}}],[{key:"vp8",value:function(){return new e("VP8",{clockRate:9e4,mimeType:"video/VP8"})}},{key:"h264ConstrainedBaselineProfile",value:function(){return new e("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}},{key:"h264",value:function(){return this.h264ConstrainedBaselineProfile()}},{key:"fromSignaled",value:function(e){switch(e){case o.SdkVideoCodecCapability.VP8:return this.vp8();case o.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return this.h264ConstrainedBaselineProfile();default:return}}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(31),u=n(47),l=function(){function e(t){o(this,e),this.logger=t,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new c.default,this.observers=new Set}return a(e,[{key:"bindAudioElement",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("Cannot bind audio element: ".concat(e));case 2:return this.audioElement=e,this.audioElement.autoplay=!0,t.abrupt("return",this.bindAudioMix());case 5:case"end":return t.stop()}}),t,this)})))}},{key:"unbindAudioElement",value:function(){var e=this;this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver((function(t){e.audioStream&&t.meetingAudioStreamBecameInactive(e.audioStream)})))}},{key:"bindAudioStream",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return this.audioStream=e,t.prev=3,t.next=6,this.bindAudioMix();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),this.logger&&this.logger.warn("Failed to bind audio stream: ".concat(t.t0));case 11:case"end":return t.stop()}}),t,this,[[3,8]])})))}},{key:"bindAudioDevice",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||this.browserBehavior.supportsSetSinkId()){t.next=2;break}throw new Error("Cannot select audio output device. This browser does not support setSinkId.");case 2:return this.audioDevice=e,t.abrupt("return",this.bindAudioMix());case 4:case"end":return t.stop()}}),t,this)})))}},{key:"forEachObserver",value:function(e){var t,n=r(this.observers);try{var i=function(){var n=t.value;u.default.nextTick((function(){e(n)}))};for(n.s();!(t=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}}},{key:"bindAudioMix",value:function(){var e,t;return s(this,void 0,void 0,i().mark((function n(){var r,o,a,s,c,u,l=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.audioElement){n.next=2;break}return n.abrupt("return");case 2:if(r=this.audioElement.srcObject,this.audioStream&&(this.audioElement.srcObject=this.audioStream),r!==this.audioStream&&this.forEachObserver((function(e){r&&e.meetingAudioStreamBecameInactive(r),l.audioStream&&e.meetingAudioStreamBecameActive(l.audioStream)})),!(o=(null===(e=this.audioDevice)||void 0===e?void 0:e.deviceId)!==this.audioElement.sinkId)||"undefined"!==typeof this.audioElement.sinkId){n.next=8;break}throw new Error("Cannot select audio output device. This browser does not support setSinkId.");case 8:if(a=this.audioDevice?this.audioDevice.deviceId:"",s=this.audioElement.sinkId,a!==s){n.next=12;break}return n.abrupt("return");case 12:if(c=this.audioElement,u=this.audioStream,this.browserBehavior.hasChromiumWebRTC()&&(c.srcObject=null),!o){n.next=25;break}return n.prev=16,n.next=19,c.setSinkId(a);case 19:n.next=25;break;case 21:throw n.prev=21,n.t0=n.catch(16),null===(t=this.logger)||void 0===t||t.error("Failed to set sinkId for audio element: ".concat(n.t0)),n.t0;case 25:this.browserBehavior.hasChromiumWebRTC()&&(c.srcObject=u);case 26:case"end":return n.stop()}}),n,this,[[16,21]])})))}},{key:"getCurrentMeetingAudioStream",value:function(){return s(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.audioStream);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"addAudioMixObserver",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.observers.add(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"removeAudioMixObserver",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.observers.delete(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"audioOutputDidChange",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.logger.info("Receive an audio output change event"),t.abrupt("return",this.bindAudioDevice(e));case 2:case"end":return t.stop()}}),t,this)})))}}]),e}();t.default=l},function(e,t,n){"use strict";var r=n(58).default,i=n(76).default,o=n(12).default,a=n(7).default,s=n(2).default,c=n(3).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(225),d=n(146),f=n(181),h=n(31),p=n(206),v=n(226),m=n(77),g=n(45),b=n(148),y=n(63),w=n(227),S=n(228),k=n(47),C=n(237),O=n(149),x=n(150),E=n(151),_=n(239),T=n(29),I=n(152),A=n(21),M=n(416),P=n(179),j=n(199),R=n(200),D=n(220),N=n(221),L=n(244),F=n(245),U=n(247),B=n(248),V=n(249),z=n(253),H=n(255),W=n(256),q=n(257),K=n(258),G=n(259),J=n(260),$=n(261),Y=n(262),Q=n(263),Z=n(264),X=n(265),ee=n(154),te=n(268),ne=n(110),re=n(155),ie=n(111),oe=n(269),ae=n(44),se=n(95),ce=n(176),ue=n(270),le=n(73),de=n(158),fe=n(273),he=n(274),pe=n(277),ve=n(278),me=n(280),ge=n(281),be=n(182),ye=function(){function e(t,n,r,i,o,a){s(this,e),this._audioProfile=new f.default,this.connectionHealthData=new p.default,this.observerQueue=new Set,this.meetingSessionContext=new be.default,this.enableSimulcast=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this.usePromises=!0,this._logger=n,this.sessionStateController=new C.default(this._logger),this._configuration=t,this._webSocketAdapter=r,this._realtimeController=new S.default(i),this._realtimeController.realtimeSetLocalAttendeeId(t.credentials.attendeeId,t.credentials.externalUserId),this._mediaStreamBroker=i,this._reconnectController=o,this._videoTileController=new he.default(new pe.default,this,this._logger),this._audioMixController=new d.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=a}return c(e,[{key:"destroy",value:function(){return u(this,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"configuration",get:function(){return this._configuration}},{key:"realtimeController",get:function(){return this._realtimeController}},{key:"activeSpeakerDetector",get:function(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new l.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}},{key:"videoTileController",get:function(){return this._videoTileController}},{key:"audioMixController",get:function(){return this._audioMixController}},{key:"logger",get:function(){return this._logger}},{key:"rtcPeerConnection",get:function(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}},{key:"mediaStreamBroker",get:function(){return this._mediaStreamBroker}},{key:"eventController",get:function(){return this._eventController}},{key:"getRTCPeerConnectionStats",value:function(e){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(e):null}},{key:"setAudioProfile",value:function(e){this._audioProfile=e}},{key:"addObserver",value:function(e){this.logger.info("adding meeting observer"),this.observerQueue.add(e)}},{key:"removeObserver",value:function(e){this.logger.info("removing meeting observer"),this.observerQueue.delete(e)}},{key:"forEachObserver",value:function(e){var t,n=this,r=o(this.observerQueue);try{var i=function(){var r=t.value;k.default.nextTick((function(){n.observerQueue.has(r)&&e(r)}))};for(r.s();!(t=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}},{key:"initSignalingClient",value:function(){this.connectionHealthData.reset(),this.meetingSessionContext.signalingClient||(this.meetingSessionContext=new be.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new h.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new _.default(this._webSocketAdapter,this.logger))}},{key:"uninstallPreStartObserver",value:function(){var e;null===(e=this.meetingSessionContext.signalingClient)||void 0===e||e.removeObserver(this.preStartObserver),this.preStartObserver=void 0}},{key:"prestart",value:function(){var e=this;return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then((function(){e.preStartObserver={handleSignalingClientEvent:function(t){t.type===T.default.WebSocketClosed&&u(e,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver();case 3:case"end":return e.stop()}}),e,this)})))}},e.meetingSessionContext.signalingClient.registerObserver(e.preStartObserver)})).catch((function(t){e.logger.error("Signaling task pre-start failed: ".concat(t)),e.signalingTask=void 0}))}},{key:"start",value:function(e){var t=this;this.startReturningPromise(e).then((function(){t.logger.info("start completed")})).catch((function(e){t.logger.error("start failed: ".concat(e))}))}},{key:"startReturningPromise",value:function(e){var t=this;return!0===(null===e||void 0===e?void 0:e.signalingOnly)?this.prestart():(this.activeSpeakerDetector,new Promise((function(e,n){t.sessionStateController.perform(O.default.Connect,(function(){t.actionConnect(!1).then(e).catch(n)}))})))}},{key:"connectWithPromises",value:function(e){var t=this,n=this.meetingSessionContext;this.monitorTask=new V.default(n,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);var r=this.monitorTask.once(),i=new q.default(n).once();this.receiveIndexTask=new J.default(n),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();var o,a,s=new Y.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new B.default(n),new $.default(n),new F.default(n),new K.default(n),this.receiveIndexTask]).once(),c=new D.default(n).once(s),u=new P.default(n).once(c,i),l=new N.default(n).once(u),d=new Q.default(n).once(l),f=new L.default(n).once(d),h=new X.default(n).once(f);return new Y.default(this.logger,this.wrapTaskName("AudioVideoStart"),[r,(o=this.configuration.connectionTimeoutMs,a=new Y.default(this.logger,"Peer",[h,e?new ee.default(this.logger,new H.default(this.logger,"FinalizeConnection",[new te.default(n),new Z.default(n)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new Z.default(n)]),new ee.default(t.logger,a,o))])}},{key:"connectWithTasks",value:function(e){return this.receiveIndexTask=new J.default(this.meetingSessionContext),this.monitorTask=new V.default(this.meetingSessionContext,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData),this.receiveIndexTask.pauseIngestion(),this.monitorTask.pauseResubscribeCheck(),new Y.default(this.logger,this.wrapTaskName("AudioVideoStart"),[this.monitorTask,new q.default(this.meetingSessionContext),new ee.default(this.logger,new Y.default(this.logger,"Media",[new Y.default(this.logger,"Signaling",[new z.default(this.meetingSessionContext),new B.default(this.meetingSessionContext),new $.default(this.meetingSessionContext),new F.default(this.meetingSessionContext),new K.default(this.meetingSessionContext),this.receiveIndexTask]),new Y.default(this.logger,"Peer",[new D.default(this.meetingSessionContext),new P.default(this.meetingSessionContext),new N.default(this.meetingSessionContext),new Q.default(this.meetingSessionContext),new L.default(this.meetingSessionContext),new X.default(this.meetingSessionContext),e?new ee.default(this.logger,new H.default(this.logger,"FinalizeConnection",[new te.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new Z.default(this.meetingSessionContext)])]),this.configuration.connectionTimeoutMs)])}},{key:"actionConnect",value:function(t){var n;return u(this,void 0,void 0,a().mark((function r(){var i,o,s,c,l,d=this;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(new h.default).hasChromiumWebRTC(),(i=!!this.configuration.urls.audioHostURL)?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new y.default(this.configuration.credentials.attendeeId).hasModality(y.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new re.default(this.logger,this.meetingSessionContext.browserBehavior):this.meetingSessionContext.transceiverController=new ie.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new ne.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new oe.default(this.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.volumeIndicatorAdapter=new ge.default(this.logger,this._realtimeController,e.MIN_VOLUME_DECIBELS,e.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast?((o=this.meetingSessionContext.videoUplinkBandwidthPolicy)||(o=new ve.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=o),o.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new ue.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new fe.default(this.logger)):(this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new de.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new me.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new ce.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile),this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.lastKnownVideoAvailability=new b.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new se.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new le.default,this.meetingSessionContext.videosPaused=new le.default,this.meetingSessionContext.statsCollector=new M.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new v.default(this,this._realtimeController,this.connectionHealthData,new w.default(this.meetingSessionContext.signalingClient,e.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},t||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver((function(e){ae.Maybe.of(e.audioVideoDidStartConnecting).map((function(t){return t.bind(e)(!1)}))})),null===(n=this.eventController)||void 0===n||n.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0),s=i&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0,this.logger.info("Needs to wait for attendee presence? "+s),c=this.usePromises?this.connectWithPromises(s):this.connectWithTasks(s),r.prev=31,r.next=34,c.run();case 34:this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(O.default.FinishConnecting,(function(){d.eventController&&(d.meetingSessionContext.meetingStartDurationMs=Date.now()-d.startAudioVideoTimestamp,d.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:d.meetingSessionContext.maxVideoTileCount,poorConnectionCount:d.meetingSessionContext.poorConnectionCount,retryCount:d.totalRetryCount,signalingOpenDurationMs:d.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:d.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:d.meetingSessionContext.meetingStartDurationMs})),d.meetingSessionContext.startTimeMs=Date.now(),d.actionFinishConnecting()})),r.next=48;break;case 39:if(r.prev=39,r.t0=r.catch(31),this.signalingTask=void 0,l=new m.default(this.getMeetingStatusCode(r.t0)||g.default.TaskFailed),this.logger.info("Start failed: ".concat(l," due to error ").concat(r.t0,".")),this.sessionStateController.state()!==x.default.NotConnected){r.next=47;break}return this.logger.info("Start failed and not connected. Not cleaning up."),r.abrupt("return");case 47:this.sessionStateController.perform(O.default.Fail,(function(){return u(d,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actionDisconnect(l,!0,r.t0);case 2:this.handleMeetingSessionStatus(l,r.t0)||this.notifyStop(l,r.t0);case 3:case"end":return e.stop()}}),e,this)})))}));case 48:case"end":return r.stop()}}),r,this,[[31,39]])})))}},{key:"createOrReuseSignalingTask",value:function(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new ee.default(this.logger,new z.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}},{key:"actionFinishConnecting",value:function(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=A.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver((function(e){ae.Maybe.of(e.audioVideoDidStart).map((function(t){return t.bind(e)()}))})),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}},{key:"stopReturningPromise",value:function(){var e,t=this;return this.sessionStateController.state()===x.default.NotConnected?(null===(e=this.meetingSessionContext.signalingClient)||void 0===e||e.closeConnection(),this.meetingSessionContext.signalingClient=null,this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((function(e,n){t.sessionStateController.perform(O.default.Disconnect,(function(){t._reconnectController.disableReconnect(),t.logger.info("attendee left meeting, session will not be reconnected"),t.actionDisconnect(new m.default(g.default.Left),!1,null).then(e).catch(n)}))}))}},{key:"stop",value:function(){this.stopReturningPromise()}},{key:"actionDisconnect",value:function(e,t,n){return u(this,void 0,void 0,a().mark((function r(){var i,o=this;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,new Y.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new ee.default(this.logger,new U.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run();case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),this.logger.info("fail to stop");case 8:return r.prev=8,i=[new ee.default(this.logger,new R.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)],this.cleanUpMediaStreamsAfterStop(),r.next=13,new Y.default(this.logger,this.wrapTaskName("AudioVideoClean"),i).run();case 13:r.next=18;break;case 15:r.prev=15,r.t1=r.catch(8),this.logger.info("fail to clean");case 18:this.sessionStateController.perform(O.default.FinishDisconnecting,(function(){t||(o.meetingSessionContext.signalingClient=null,o.notifyStop(e,n))}));case 19:case"end":return r.stop()}}),r,this,[[0,5],[8,15]])})))}},{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{needsRenegotiation:!0},n=t.needsRenegotiation;if(n||(n=void 0===this.meetingSessionContext.peer),n||(n=!this.updateRemoteVideosFromLastVideosToReceive()),n||(n=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!n)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");var r=this.sessionStateController.perform(O.default.Update,(function(){e.actionUpdateWithRenegotiation(!0)}));return r===E.default.Transitioned||r===E.default.DeferredTransition}},{key:"updateRemoteVideosFromLastVideosToReceive",value:function(){var e,t,n=this.meetingSessionContext;if((null===(e=n.videosToReceive)||void 0===e?void 0:e.empty())||(null===(t=n.lastVideosToReceive)||void 0===t?void 0:t.empty()))return!1;if(!n.transceiverController||!n.transceiverController.getMidForStreamId||!n.transceiverController.setStreamIdForMid||!n.videosToReceive.forEach||!n.signalingClient.remoteVideoUpdate||!n.videoStreamIndex.overrideStreamIdMappings)return!1;var a=[],s=new Map,c=[];if(null===n.lastVideosToReceive)a=n.videosToReceive.array();else{var u=n.videoStreamIndex;n.videosToReceive.forEach((function(e){if(!n.lastVideosToReceive.contain(e)){var t=!1;n.lastVideosToReceive.forEach((function(n){t||u.StreamIdsInSameGroup(n,e)&&(s.set(n,e),t=!0)})),t||a.push(e)}})),c=n.lastVideosToReceive.array().filter((function(e){var t=n.videosToReceive.contain(e),r=s.has(e);return!t&&!r}))}this.logger.info("Request to update remote videos with added: ".concat(a,", updated: ").concat(i(s.entries()),", removed: ").concat(c));var l,d=[],f=o(s.entries());try{for(f.s();!(l=f.n()).done;){var h=r(l.value,2),p=h[0],v=h[1],m=new I.default;if(m.streamId=v,m.attendeeId=n.videoStreamIndex.attendeeIdForStreamId(v),m.mid=n.transceiverController.getMidForStreamId(p),void 0===m.mid)return this.logger.info("No MID found for stream ID ".concat(p,", cannot update stream without renegotiation")),!1;if(d.push(m),n.transceiverController.setStreamIdForMid(m.mid,v),n.videoStreamIndex.overrideStreamIdMappings(p,v),n.videoTileController.haveVideoTileForAttendeeId(m.attendeeId)){var g=n.videoTileController.getVideoTileForAttendeeId(m.attendeeId);if(!g.setStreamId)return!1;g.setStreamId(v)}}}catch(b){f.e(b)}finally{f.f()}return 0!==d.length&&n.signalingClient.remoteVideoUpdate(d,[]),0===a.length&&0===c.length}},{key:"updateLocalVideoFromPolicy",value:function(){if(this.meetingSessionContext.enableSimulcast){var e=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(e)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}},{key:"negotiatedBitrateLayersAllocationRtpHeaderExtension",value:function(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;var e=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!(!e||!e.headerExtensions)&&e.headerExtensions.some((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00"===e.uri}))}},{key:"restartLocalVideo",value:function(e){var t=this,n=this.sessionStateController.perform(O.default.Update,(function(){u(t,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoTileController.hasStartedLocalVideoTile()){t.next=8;break}return this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),t.next=6,this.actionUpdateWithRenegotiation(!1);case 6:this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile();case 8:return this.logger.info("finalizing local video restart update"),t.next=11,this.actionUpdateWithRenegotiation(!0);case 11:e();case 12:case"end":return t.stop()}}),t,this)})))}));return n===E.default.Transitioned||n===E.default.DeferredTransition}},{key:"replaceLocalVideo",value:function(e){return u(this,void 0,void 0,a().mark((function t(){var n,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!(e.getVideoTracks().length<1)){t.next=2;break}throw new Error("could not acquire video track");case 2:if(this.meetingSessionContext&&this.meetingSessionContext.peer){t.next=4;break}throw new Error("no active meeting and peer connection");case 4:return(n=this.meetingSessionContext.videoTileController.getLocalVideoTile())&&(r=n.state(),i=e.getVideoTracks()[0].getSettings(),n.bindVideoStream(r.boundAttendeeId,!0,e,i.width,i.height,r.streamId,r.boundExternalUserId)),t.next=8,this.meetingSessionContext.transceiverController.setVideoInput(e.getVideoTracks()[0]);case 8:this.meetingSessionContext.activeVideoInput=e,this.logger.info("Local video input is updated");case 10:case"end":return t.stop()}}),t,this)})))}},{key:"replaceLocalAudio",value:function(e){return u(this,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!(e.getAudioTracks().length<1)){t.next=2;break}throw new Error("could not acquire audio track");case 2:if(this.meetingSessionContext&&this.meetingSessionContext.peer){t.next=4;break}throw new Error("no active meeting and peer connection");case 4:return this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),t.next=8,this.meetingSessionContext.transceiverController.replaceAudioTrack(e.getAudioTracks()[0]);case 8:if(t.sent){t.next=11;break}throw new Error("Failed to replace audio track");case 11:this.meetingSessionContext.activeAudioInput=e,this.logger.info("Local audio input is updated");case 13:case"end":return t.stop()}}),t,this)})))}},{key:"actionUpdateWithRenegotiation",value:function(e){return u(this,void 0,void 0,a().mark((function t(){var n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion(),t.prev=2,t.next=5,new Y.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new G.default(this.meetingSessionContext),new ee.default(this.logger,new Y.default(this.logger,"UpdateSession",[new P.default(this.meetingSessionContext),new N.default(this.meetingSessionContext),new Q.default(this.meetingSessionContext),new L.default(this.meetingSessionContext),new X.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run();case 5:e&&this.sessionStateController.perform(O.default.FinishUpdating,(function(){n.actionFinishUpdating()})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),this.sessionStateController.perform(O.default.FinishUpdating,(function(){var e=new m.default(n.getMeetingStatusCode(t.t0)||g.default.TaskFailed);e.statusCode()!==g.default.IncompatibleSDP&&n.logger.info("failed to update audio-video session"),n.handleMeetingSessionStatus(e,t.t0)}));case 11:case"end":return t.stop()}}),t,this,[[2,8]])})))}},{key:"notifyStop",value:function(e,t){var n,r=this;if(this.forEachObserver((function(t){ae.Maybe.of(t.audioVideoDidStop).map((function(n){return n.bind(t)(e)}))})),this.promotedToPrimaryMeeting&&t&&this.forEachObserver((function(e){r.promotedToPrimaryMeeting=!1,ae.Maybe.of(e.audioVideoWasDemotedFromPrimaryMeeting).map((function(t){return t.bind(e)(new m.default(g.default.SignalingInternalServerError))}))})),this.eventController){var i=this.meetingSessionContext,o=i.signalingOpenDurationMs,a=i.poorConnectionCount,s=i.startTimeMs,c=i.iceGatheringDurationMs,u=i.attendeePresenceDurationMs,l=i.meetingStartDurationMs,d={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:null===s?0:Math.round(Date.now()-s),meetingStatus:g.default[e.statusCode()],signalingOpenDurationMs:o,iceGatheringDurationMs:c,attendeePresenceDurationMs:u,poorConnectionCount:a,meetingStartDurationMs:l,retryCount:this.totalRetryCount},f=t&&t.message||(null===(n=e.toString)||void 0===n?void 0:n.call(e))||"";0===d.meetingDurationMs?(d.meetingErrorMessage=f,delete d.meetingDurationMs,delete d.attendeePresenceDurationMs,delete d.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",d)):e.isFailure()||e.isAudioConnectionFailure()?(d.meetingErrorMessage=f,this.eventController.publishEvent("meetingFailed",d)):this.eventController.publishEvent("meetingEnded",d)}}},{key:"actionFinishUpdating",value:function(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{var e=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(e)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}},{key:"reconnect",value:function(e,t){var n=this,r=this._reconnectController.retryWithBackoff((function(){return u(n,void 0,void 0,a().mark((function t(){var n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.sessionStateController.state()===x.default.NotConnected?this.sessionStateController.perform(O.default.Connect,(function(){n.actionConnect(!0)})):this.sessionStateController.perform(O.default.Reconnect,(function(){n.actionReconnect(e)})),this.totalRetryCount+=1;case 2:case"end":return t.stop()}}),t,this)})))}),(function(){n.logger.info("canceled retry")}));return r||this.sessionStateController.perform(O.default.Fail,(function(){n.actionDisconnect(e,!1,t)})),r}},{key:"actionReconnect",value:function(e){return u(this,void 0,void 0,a().mark((function t(){var n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver((function(e){ae.Maybe.of(e.audioVideoDidStartConnecting).map((function(t){return t.bind(e)(!0)}))}))),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset(),t.prev=3,t.next=6,new Y.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new ee.default(this.logger,new Y.default(this.logger,"Media",[new j.default(this.meetingSessionContext),new Y.default(this.logger,"Signaling",[new z.default(this.meetingSessionContext),new F.default(this.meetingSessionContext),new K.default(this.meetingSessionContext)]),new D.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new G.default(this.meetingSessionContext),new ee.default(this.logger,new Y.default(this.logger,"UpdateSession",[new P.default(this.meetingSessionContext),new N.default(this.meetingSessionContext),new Q.default(this.meetingSessionContext),new L.default(this.meetingSessionContext),new X.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run();case 6:this.sessionStateController.perform(O.default.FinishConnecting,(function(){if(n.eventController){var t=n.meetingSessionContext,r=t.signalingOpenDurationMs,i=t.poorConnectionCount,o=t.startTimeMs,a=t.iceGatheringDurationMs,s=t.attendeePresenceDurationMs,c=t.meetingStartDurationMs,u={maxVideoTileCount:n.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-o),meetingStatus:g.default[e.statusCode()],signalingOpenDurationMs:r,iceGatheringDurationMs:a,attendeePresenceDurationMs:s,poorConnectionCount:i,meetingStartDurationMs:c,retryCount:n.totalRetryCount};n.eventController.publishEvent("meetingReconnected",u)}n.actionFinishConnecting()})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),this.sessionStateController.perform(O.default.FinishConnecting,(function(){n.logger.info("failed to reconnect audio-video session");var e=new m.default(n.getMeetingStatusCode(t.t0)||g.default.TaskFailed);n.handleMeetingSessionStatus(e,t.t0)}));case 12:this.connectionHealthData.setConnectionStartTime();case 13:case"end":return t.stop()}}),t,this,[[3,9]])})))}},{key:"wrapTaskName",value:function(e){return"".concat(e,"/").concat(this.configuration.meetingId,"/").concat(this.configuration.credentials.attendeeId)}},{key:"cleanUpMediaStreamsAfterStop",value:function(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}},{key:"getMeetingStatusCode",value:function(e){var t=/the meeting status code: (\d+)/.exec(e&&e.message);return t&&t.length>1?Number.parseInt(t[1],10):null}},{key:"enforceBandwidthLimitationForSender",value:function(e){return u(this,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"handleMeetingSessionStatus",value:function(e,t){var n=this;if(this.logger.info("handling status: ".concat(g.default[e.statusCode()])),e.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(e),e.statusCode()===g.default.IncompatibleSDP)return this.restartLocalVideo((function(){n.logger.info("handled incompatible SDP by attempting to restart video")})),!0;if(e.statusCode()===g.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver((function(e){ae.Maybe.of(e.videoSendDidBecomeUnavailable).map((function(t){return t.bind(e)()}))})),!1;if(e.statusCode()===g.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver((function(t){ae.Maybe.of(t.audioVideoWasDemotedFromPrimaryMeeting).map((function(n){return n.bind(t)(e)}))})),!1;if(e.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(e.isFailure()||e.isTerminal())&&this.meetingSessionContext.reconnectController){var r=this.reconnect(e,t);return r?this.logger.warn("will retry due to status code ".concat(g.default[e.statusCode()]).concat(t?" and error: ".concat(t.message):"")):this.logger.error("failed with status code ".concat(g.default[e.statusCode()]).concat(t?" and error: ".concat(t.message):"")),r}return!1}},{key:"setVideoMaxBandwidthKbps",value:function(e){if(e<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info("video send has ideal max bandwidth ".concat(e," kbps")),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(e)),this.maxUplinkBandwidthKbps=e}},{key:"handleHasBandwidthPriority",value:function(e){return u(this,void 0,void 0,a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.meetingSessionContext||!this.meetingSessionContext.videoUplinkBandwidthPolicy||this.meetingSessionContext.enableSimulcast){t.next=13;break}if(!this.useUpdateTransceiverControllerForUplink){t.next=6;break}return this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e),t.next=5,this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();case 5:return t.abrupt("return");case 6:if(n=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps(),this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e),r=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps(),n===r){t.next=13;break}return this.logger.info("video send bandwidth priority ".concat(e," max has changed from ").concat(n," kbps to ").concat(r," kbps")),t.next=13,this.enforceBandwidthLimitationForSender(r);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"pauseReceivingStream",value:function(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([e])}},{key:"resumeReceivingStream",value:function(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([e])}},{key:"setVideoCodecSendPreferences",value:function(e){this.videoSendCodecPreferences=e,this.meetingSessionContext.videoSendCodecPreferences=e,this.update({needsRenegotiation:!0})}},{key:"getRemoteVideoSources",value:function(){var e=this.meetingSessionContext.videoStreamIndex;if(!e)return this.logger.info("meeting has not started"),[];var t=this.configuration.credentials.attendeeId;return e.allVideoSendingSourcesExcludingSelf(t)}},{key:"encodingSimulcastLayersDidChange",value:function(e){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver((function(t){ae.Maybe.of(t.encodingSimulcastLayersDidChange).map((function(n){return n.bind(t)(e)}))}))}},{key:"promoteToPrimaryMeeting",value:function(e){return this.actionPromoteToPrimaryMeeting(e)}},{key:"actionPromoteToPrimaryMeeting",value:function(e){return u(this,void 0,void 0,a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new m.default(g.default.SignalingRequestFailed),t.next=3,new Y.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new ee.default(this.logger,new W.default(this.meetingSessionContext,e,(function(e){n=e})),this.configuration.connectionTimeoutMs)]).run();case 3:return this.promotedToPrimaryMeeting=n.statusCode()===g.default.OK,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"demoteFromPrimaryMeeting",value:function(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver((function(e){ae.Maybe.of(e.audioVideoWasDemotedFromPrimaryMeeting).map((function(t){return t.bind(e)(new m.default(g.default.OK))}))}))}},{key:"videoInputDidChange",value:function(e){return u(this,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.logger.info("Receive a video input change event"),this.meetingSessionContext&&this.meetingSessionContext.peer){t.next=4;break}return this.logger.info("Skip updating video input because there is no active meeting and peer connection"),t.abrupt("return");case 4:if(!this._videoTileController.hasStartedLocalVideoTile()){t.next=11;break}if(!e){t.next=10;break}return t.next=8,this.replaceLocalVideo(e);case 8:t.next=11;break;case 10:this._videoTileController.stopLocalVideoTile();case 11:case"end":return t.stop()}}),t,this)})))}},{key:"audioInputDidChange",value:function(e){return u(this,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.logger.info("Receive an audio input change event"),this.meetingSessionContext&&this.meetingSessionContext.peer){t.next=4;break}return this.logger.info("Skip updating audio input because there is no active meeting and peer connection"),t.abrupt("return");case 4:if(e){t.next=15;break}return t.prev=5,t.next=8,this.mediaStreamBroker.acquireAudioInputStream();case 8:e=t.sent,t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(5),this.logger.error("Could not acquire audio track from mediaStreamBroker"),t.abrupt("return");case 15:return t.next=17,this.replaceLocalAudio(e);case 17:case"end":return t.stop()}}),t,this,[[5,11]])})))}}]),e}();t.default=ye,ye.MIN_VOLUME_DECIBELS=-42,ye.MAX_VOLUME_DECIBELS=-14,ye.PING_PONG_INTERVAL_MS=1e4},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e),this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}return i(e,[{key:"equal",value:function(e){return this.remoteVideoAvailable===e.remoteVideoAvailable&&this.canStartLocalVideo===e.canStartLocalVideo}},{key:"clone",value:function(){var t=new e;return t.remoteVideoAvailable=this.remoteVideoAvailable,t.canStartLocalVideo=this.canStartLocalVideo,t}}]),e}();t.default=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerAction=void 0,function(e){e[e.Connect=0]="Connect",e[e.FinishConnecting=1]="FinishConnecting",e[e.Update=2]="Update",e[e.FinishUpdating=3]="FinishUpdating",e[e.Reconnect=4]="Reconnect",e[e.Disconnect=5]="Disconnect",e[e.Fail=6]="Fail",e[e.FinishDisconnecting=7]="FinishDisconnecting"}(r=t.SessionStateControllerAction||(t.SessionStateControllerAction={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerState=void 0,function(e){e[e.NotConnected=0]="NotConnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Updating=3]="Updating",e[e.Disconnecting=4]="Disconnecting"}(r=t.SessionStateControllerState||(t.SessionStateControllerState={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerTransitionResult=void 0,function(e){e[e.Transitioned=0]="Transitioned",e[e.NoTransitionAvailable=1]="NoTransitionAvailable",e[e.DeferredTransition=2]="DeferredTransition",e[e.TransitionFailed=3]="TransitionFailed"}(r=t.SessionStateControllerTransitionResult||(t.SessionStateControllerTransitionResult={})),t.default=r},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.username=null,this.password=null,this.ttl=null,this.uris=null}));t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(56).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(90),d=function(e){s(n,e);var t=c(n);function n(e,r,o){var s;return i(this,n),(s=t.call(this,e)).taskToRunBeforeTimeout=r,s.timeoutMs=o,s.taskName="Timeout".concat(s.timeoutMs,"ms"),r.setParent(a(s)),s}return o(n,[{key:"cancel",value:function(){this.logger.info("canceling timeout task ".concat(this.name()," subtask ").concat(this.taskToRunBeforeTimeout)),this.taskToRunBeforeTimeout.cancel()}},{key:"run",value:function(){return u(this,void 0,void 0,r().mark((function e(){var t,n=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new l.default(this.timeoutMs)).start((function(){n.logger.info("timeout reached for task ".concat(n.name())),n.taskToRunBeforeTimeout.cancel()})),e.prev=2,e.next=5,this.taskToRunBeforeTimeout.run();case 5:return e.prev=5,t.stop(),e.finish(5);case 8:this.logger.info("timeout task ".concat(this.name()," completed"));case 9:case"end":return e.stop()}}),e,this,[[2,,5,8]])})))}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(111),l=function(e){a(n,e);var t=s(n);function n(e,r){var o;i(this,n);var a=2;(o=t.call(this,e,r)).videoQualityControlParameterMap=new Map;for(var s=0;s<n.NAME_ARR_ASCENDING.length;s++){var c=n.NAME_ARR_ASCENDING[s];o.videoQualityControlParameterMap.set(c,{rid:c,scaleResolutionDownBy:a,maxBitrate:1e3*n.BITRATE_ARR_ASCENDING[s]}),a/=2}return o}return o(n,[{key:"setEncodingParameters",value:function(e){return c(this,void 0,void 0,r().mark((function t(){var n,i,o,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._localCameraTransceiver&&"sendrecv"===this._localCameraTransceiver.direction){t.next=2;break}return t.abrupt("return");case 2:if(n=this._localCameraTransceiver.sender,!((i=Array.from(e.values())).length<=0)){t.next=6;break}return t.abrupt("return");case 6:if((o=n.getParameters()).encodings)for(a=0;a<o.encodings.length;a++)o.encodings[a].rid===u.default.LOW_LEVEL_NAME&&this.copyEncodingParams(e.get(u.default.LOW_LEVEL_NAME),o.encodings[a]),o.encodings[a].rid===u.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(e.get(u.default.HIGH_LEVEL_NAME),o.encodings[a]);else o.encodings=i;return t.next=10,n.setParameters(o);case 10:this.logVideoTransceiverParameters();case 11:case"end":return t.stop()}}),t,this)})))}}]),n}(u.default);t.default=l,l.NAME_ARR_ASCENDING=["low","hi"],l.BITRATE_ARR_ASCENDING=[300,1200]},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(157),a=function(){function e(t,n,i){r(this,e),this.attendeeId=t,this.priority=n,this.targetSize=void 0!==i?i:o.default.High}return i(e,[{key:"partialCompare",value:function(e){return this.priority-e.priority}},{key:"equals",value:function(e){return this.attendeeId===e.attendeeId&&this.targetSize===e.targetSize&&this.priority===e.priority}},{key:"clone",value:function(){return new e(this.attendeeId,this.priority,this.targetSize)}},{key:"targetSizeToBitrateKbps",value:function(t){switch(t){case o.default.High:return e.HIGH_BITRATE_KBPS;case o.default.Medium:return e.MID_BITRATE_KBPS;case o.default.Low:return e.LOW_BITRATE_KBPS}}}]),e}();t.default=a,a.LOW_BITRATE_KBPS=300,a.MID_BITRATE_KBPS=600,a.HIGH_BITRATE_KBPS=1200},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TargetDisplaySize=void 0,function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(r=t.TargetDisplaySize||(t.TargetDisplaySize={})),t.default=r},function(e,t,n){"use strict";var r=n(58).default,i=n(12).default,o=n(2).default,a=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(21),c=n(73),u=n(159),l=function(){function e(t){o(this,e),this.logger=t,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new u.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}return a(e,[{key:"localStreamDescriptions",value:function(){return[this.videoStreamDescription.clone()]}},{key:"convertBpsToKbps",value:function(e){return e>0&&e<1e3?1:Math.trunc(e/1e3)}},{key:"remoteStreamDescriptions",value:function(){var e=this;if(!this.currentIndex||!this.currentIndex.sources)return[];var t=[];return this.currentIndex.sources.forEach((function(n){var r=new u.default;r.attendeeId=n.attendeeId,r.groupId=n.groupId,r.streamId=n.streamId,r.maxBitrateKbps=n.maxBitrateKbps,r.avgBitrateKbps=e.convertBpsToKbps(n.avgBitrateBps),t.push(r)})),t}},{key:"integrateUplinkPolicyDecision",value:function(e){if(e&&e.length){var t=e[0];this.videoStreamDescription.maxBitrateKbps=t.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=t.maxFramerate}}},{key:"integrateIndexFrame",value:function(e){this.currentIndex=e;var t,n=new Map,r=!1,o=i(e.sources);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(n.has(a.attendeeId)){var s=n.get(a.attendeeId);s<a.groupId&&(this.logger.warn("Old group ID ".concat(s," found for attendee ID ").concat(a.attendeeId,", replacing with newer group ID ").concat(a.groupId)),n.set(a.attendeeId,a.groupId)),r=!0}else n.set(a.attendeeId,a.groupId)}}catch(c){o.e(c)}finally{o.f()}r&&(this.currentIndex.sources=this.currentIndex.sources.filter((function(e){return n.get(e.attendeeId)===e.groupId}))),this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null}},{key:"subscribeFrameSent",value:function(){this.indexForSubscribe=this.currentIndex}},{key:"integrateSubscribeAckFrame",value:function(e){this.currentSubscribeAck=e,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)}},{key:"integrateBitratesFrame",value:function(e){var t=this;if(this.currentIndex){var n,r=i(e.bitrates);try{var o=function(){var e=n.value,r=t.currentIndex.sources.find((function(t){return t.streamId===e.sourceStreamId}));void 0!==r&&(r.avgBitrateBps=e.avgBitrateBps)};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}}},{key:"allStreams",value:function(){var e=new c.default;if(this.currentIndex){var t,n=i(this.currentIndex.sources);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.add(r.streamId)}}catch(o){n.e(o)}finally{n.f()}}return e}},{key:"allVideoSendingSourcesExcludingSelf",value:function(e){var t=[],n=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length){var r,o=i(this.currentIndex.sources);try{for(o.s();!(r=o.n()).done;){var a=r.value,c=a.attendeeId,u=a.externalUserId,l=a.mediaType;c!==e&&l===s.SdkStreamMediaType.VIDEO&&(n.has(c)||(t.push({attendee:{attendeeId:c,externalUserId:u}}),n.add(c)))}}catch(d){o.e(d)}finally{o.f()}}return t}},{key:"streamSelectionUnderBandwidthConstraint",value:function(e,t,n,r){var o=new Set;if(this.currentIndex){var a,u=i(this.currentIndex.sources);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.attendeeId!==e&&l.mediaType===s.SdkStreamMediaType.VIDEO&&(t.has(l.attendeeId)||n.has(l.attendeeId)||o.add(l.attendeeId))}}catch(b){u.e(b)}finally{u.f()}}var d=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(e),f=new Map,h=0;d.forEach((function(e,t){f.set(t,e[0]),h+=e[0].maxBitrateKbps})),h=this.trySelectHighBitrateForAttendees(d,t,h,r,f),this.trySelectHighBitrateForAttendees(d,o,h,r,f);var p,v=new c.default,m=i(f.values());try{for(m.s();!(p=m.n()).done;){var g=p.value;v.add(g.streamId)}}catch(b){m.e(b)}finally{m.f()}return v}},{key:"highestQualityStreamFromEachGroupExcludingSelf",value:function(e){var t=new c.default;if(this.currentIndex){var n,r=new Map,o=i(this.currentIndex.sources);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.attendeeId!==e&&a.mediaType===s.SdkStreamMediaType.VIDEO&&((!r.has(a.groupId)||a.maxBitrateKbps>r.get(a.groupId).maxBitrateKbps)&&r.set(a.groupId,a))}}catch(f){o.e(f)}finally{o.f()}var u,l=i(r.values());try{for(l.s();!(u=l.n()).done;){var d=u.value;t.add(d.streamId)}}catch(f){l.e(f)}finally{l.f()}}return t}},{key:"numberOfVideoPublishingParticipantsExcludingSelf",value:function(e){return this.highestQualityStreamFromEachGroupExcludingSelf(e).array().length}},{key:"numberOfParticipants",value:function(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}},{key:"attendeeIdForTrack",value:function(e){var t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToAttendeeMap)return this.logger.warn("no attendee found for track ".concat(e)),"";var n=this.subscribeStreamToAttendeeMap.get(t);return n||(this.logger.info("track ".concat(e," (stream ").concat(t,") does not correspond to a known attendee")),"")}},{key:"externalUserIdForTrack",value:function(e){var t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn("no external user id found for track ".concat(e)),"";var n=this.subscribeStreamToExternalUserIdMap.get(t);return n||(this.logger.info("track ".concat(e," (stream ").concat(t,") does not correspond to a known externalUserId")),"")}},{key:"attendeeIdForStreamId",value:function(e){if(!this.streamToAttendeeMap){if(!this.currentIndex)return"";this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex)}var t=this.streamToAttendeeMap.get(e);return t||(this.logger.info("stream ".concat(e,") does not correspond to a known attendee")),"")}},{key:"groupIdForStreamId",value:function(e){if(this.currentIndex&&this.currentIndex.sources){var t,n=i(this.currentIndex.sources);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.streamId===e)return r.groupId}}catch(c){n.e(c)}finally{n.f()}if(this.indexForSubscribe){var o,a=i(this.indexForSubscribe.sources);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.streamId===e)return s.groupId}}catch(c){a.e(c)}finally{a.f()}}}}},{key:"StreamIdsInSameGroup",value:function(e,t){return this.groupIdForStreamId(e)===this.groupIdForStreamId(t)}},{key:"streamIdForTrack",value:function(e){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(e)}},{key:"streamIdForSSRC",value:function(e){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(e)}},{key:"overrideStreamIdMappings",value:function(e,t){if(this.subscribeTrackToStreamMap){var n,o=i(this.subscribeTrackToStreamMap.entries());try{for(o.s();!(n=o.n()).done;){var a=r(n.value,2),s=a[0];if(e===a[1]){this.subscribeTrackToStreamMap.set(s,t);break}}}catch(f){o.e(f)}finally{o.f()}}if(this.subscribeSsrcToStreamMap){var c,u=i(this.subscribeSsrcToStreamMap.entries());try{for(u.s();!(c=u.n()).done;){var l=r(c.value,2),d=l[0];if(e===l[1]){this.subscribeSsrcToStreamMap.set(d,t);break}}}catch(f){u.e(f)}finally{u.f()}}}},{key:"streamsPausedAtSource",value:function(){var e=new c.default;if(this.currentIndex){var t,n=i(this.currentIndex.pausedAtSourceIds);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.add(r)}}catch(o){n.e(o)}finally{n.f()}}return e}},{key:"buildTrackToStreamMap",value:function(e){var t=new Map;this.logger.debug((function(){return"trackMap ".concat(JSON.stringify(e.tracks))}));var n,r=i(e.tracks);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.trackLabel.length>0&&o.streamId>0&&t.set(o.trackLabel,o.streamId)}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"buildSSRCToStreamMap",value:function(e){var t=new Map;this.logger.debug((function(){return"ssrcMap ".concat(JSON.stringify(e.tracks))}));var n,r=i(e.tracks);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.trackLabel.length>0&&o.streamId>0&&t.set(o.ssrc,o.streamId)}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"buildStreamToAttendeeMap",value:function(e){var t=new Map;if(e){var n,r=i(e.sources);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.set(o.streamId,o.attendeeId)}}catch(a){r.e(a)}finally{r.f()}}return t}},{key:"buildStreamExternalUserIdMap",value:function(e){var t=new Map;if(e){var n,r=i(e.sources);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.externalUserId&&t.set(o.streamId,o.externalUserId)}}catch(a){r.e(a)}finally{r.f()}}return t}},{key:"trySelectHighBitrateForAttendees",value:function(e,t,n,r,o){var a,s=i(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(n>=r)break;if(e.has(c)){var u,l=e.get(c),d=i(l.reverse());try{for(d.s();!(u=d.n()).done;){var f=u.value;if(n-o.get(c).maxBitrateKbps+f.maxBitrateKbps<r){n=n-o.get(c).maxBitrateKbps+f.maxBitrateKbps,o.set(c,f);break}}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){s.e(h)}finally{s.f()}return n}},{key:"buildAttendeeToSortedStreamDescriptorMapExcludingSelf",value:function(e){var t=new Map;if(this.currentIndex){var n,r=i(this.currentIndex.sources);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.attendeeId!==e&&o.mediaType===s.SdkStreamMediaType.VIDEO&&(t.has(o.attendeeId)?t.get(o.attendeeId).push(o):t.set(o.attendeeId,[o]))}}catch(a){r.e(a)}finally{r.f()}}return t.forEach((function(e,t){e.sort((function(e,t){return e.maxBitrateKbps>t.maxBitrateKbps?1:e.maxBitrateKbps<t.maxBitrateKbps?-1:0}))})),t}}]),e}();t.default=l},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),a=function(){function e(t,n,i,o,a){r(this,e),this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=t,this.groupId=n,this.streamId=i,this.maxBitrateKbps=o,this.avgBitrateKbps=a}return i(e,[{key:"clone",value:function(){var t=new e;return t.attendeeId=this.attendeeId,t.groupId=this.groupId,t.streamId=this.streamId,t.ssrc=this.ssrc,t.trackLabel=this.trackLabel,t.maxBitrateKbps=this.maxBitrateKbps,t.avgBitrateKbps=this.avgBitrateKbps,t.maxFrameRate=this.maxFrameRate,t.timeEnabled=this.timeEnabled,t.disabledByWebRTC=this.disabledByWebRTC,t.disabledByUplinkPolicy=this.disabledByUplinkPolicy,t}},{key:"toStreamDescriptor",value:function(){var e=o.SdkStreamDescriptor.create();return e.mediaType=o.SdkStreamMediaType.VIDEO,e.trackLabel=this.trackLabel,e.attendeeId=this.attendeeId,e.streamId=this.streamId,e.groupId=this.groupId,e.framerate=this.maxFrameRate,e.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,e.avgBitrateBps=this.avgBitrateKbps,e}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(207),a=n(161),s=n(113),c=n(162),u=r((function e(t,n){i(this,e),this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new o.default,this.reconnectTimeoutMs=12e4,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1e3,this.reconnectLongBackOffMs=5e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,t&&((t=a.toLowerCasePropertyNames(t)).meeting&&(t=t.meeting),this.meetingId=t.meetingid,this.externalMeetingId=t.externalmeetingid,this.urls=new c.default,this.urls.audioHostURL=t.mediaplacement.audiohosturl,this.urls.signalingURL=t.mediaplacement.signalingurl,this.urls.turnControlURL=t.mediaplacement.turncontrolurl,t.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=t.mediaplacement.eventingestionurl)),n&&((n=a.toLowerCasePropertyNames(n)).attendee&&(n=n.attendee),this.credentials=new s.default,this.credentials.attendeeId=n.attendeeid,this.credentials.externalUserId=n.externaluserid,this.credentials.joinToken=n.jointoken)}));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toLowerCasePropertyNames=t.isIFramed=t.wait=void 0,t.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.isIFramed=function(){var e;try{return"IFRAME"===(null===(e=window.frameElement)||void 0===e?void 0:e.nodeName)||parent!==top}catch(t){return!0}},t.toLowerCasePropertyNames=function e(t){return null===t?null:"object"!==typeof t?t:Array.isArray(t)?t.map(e):Object.keys(t).reduce((function(n,r){var i=t[r],o="object"===typeof i?e(i):i;return n[r.toLowerCase()]=o,n}),{})}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e),this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=function(e){return e}}return i(e,[{key:"audioHostURL",get:function(){return this.urlRewriter(this._audioHostURL)},set:function(e){this._audioHostURL=e}},{key:"signalingURL",get:function(){return this.urlRewriter(this._signalingURL)},set:function(e){this._signalingURL=e}},{key:"turnControlURL",get:function(){return this.urlRewriter(this._turnControlURL)},set:function(e){this._turnControlURL=e}},{key:"eventIngestionURL",get:function(){return this.urlRewriter(this._eventIngestionURL)},set:function(e){this._eventIngestionURL=e}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(12).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(285),u=n(114),l=n(286),d=n(288),f=n(291),h=n(47),p=n(52),v=n(420),m=function(){function e(t,n,r){var i,a,s,u,l,d,f;o(this,e),this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=n,this.configuration=t,this.setupEventReporter(t,n,r);try{this.parserResult=navigator&&navigator.userAgent?new c.UAParser(navigator.userAgent).getResult():null}catch(h){this.logger.error(h.message)}this.browserMajorVersion=(null===(s=null===(a=null===(i=this.parserResult)||void 0===i?void 0:i.browser)||void 0===a?void 0:a.version)||void 0===s?void 0:s.split(".")[0])||e.UNAVAILABLE,this.browserName=(null===(u=this.parserResult)||void 0===u?void 0:u.browser.name)||e.UNAVAILABLE,this.browserVersion=(null===(l=this.parserResult)||void 0===l?void 0:l.browser.version)||e.UNAVAILABLE,this.deviceName=[(null===(d=this.parserResult)||void 0===d?void 0:d.device.vendor)||"",(null===(f=this.parserResult)||void 0===f?void 0:f.device.model)||""].join(" ").trim()||e.UNAVAILABLE}return a(e,[{key:"addObserver",value:function(e){this.observerSet.add(e)}},{key:"removeObserver",value:function(e){this.observerSet.delete(e)}},{key:"forEachObserver",value:function(e){var t,n=this,r=i(this.observerSet);try{var o=function(){var r=t.value;h.default.nextTick((function(){n.observerSet.has(r)&&e(r)}))};for(r.s();!(t=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}},{key:"publishEvent",value:function(e,t){return s(this,void 0,void 0,r().mark((function n(){var i,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=Date.now(),this.meetingHistoryStates.push({name:e,timestampMs:i}),o=Object.freeze(Object.assign(this.getAttributes(i),t)),this.forEachObserver((function(t){t.eventDidReceive(e,o)})),this.reportEvent(e,i,t);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"reportEvent",value:function(e,t,n){var i;return s(this,void 0,void 0,r().mark((function o(){var a;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n&&(a=v.default(n)),r.next=4,null===(i=this.eventReporter)||void 0===i?void 0:i.reportEvent(t,e,a);case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),this.logger.error("Error reporting event ".concat(r.t0));case 9:case"end":return r.stop()}}),o,this,[[0,6]])})))}},{key:"setupEventReporter",value:function(e,t,n){if(n)this._eventReporter=n;else if(e.urls){var r=e.urls.eventIngestionURL;if(r){this.logger.info("Event ingestion URL is present in the configuration");var i=e.meetingId,o=e.credentials,a=o.attendeeId,s=o.joinToken,c=new f.default(i,a,s),u=new l.default(c,r);this._eventReporter=new d.default(u,t)}}}},{key:"getAttributes",value:function(t){var n,r;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:"string"===typeof this.configuration.externalMeetingId?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:(null===(n=this.parserResult)||void 0===n?void 0:n.os.name)||e.UNAVAILABLE,osVersion:(null===(r=this.parserResult)||void 0===r?void 0:r.os.version)||e.UNAVAILABLE,sdkVersion:p.default.sdkVersion,sdkName:p.default.sdkName,timestampMs:t}}},{key:"eventReporter",get:function(){return this._eventReporter}},{key:"destroy",value:function(){return s(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isDestroyable(this.eventReporter)){e.next=3;break}return e.next=3,this.eventReporter.destroy();case 3:this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0;case 7:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=m,m.UNAVAILABLE="Unavailable"},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e)}return i(e,[{key:"acquireAudioInputStream",value:function(){return Promise.reject()}},{key:"acquireVideoInputStream",value:function(){return Promise.reject()}},{key:"acquireDisplayInputStream",value:function(e){return Promise.reject()}},{key:"muteLocalAudioInputStream",value:function(){}},{key:"unmuteLocalAudioInputStream",value:function(){}},{key:"addMediaStreamBrokerObserver",value:function(e){}},{key:"removeMediaStreamBrokerObserver",value:function(e){}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceFocusAudioWorkletNode=void 0;var s=function(e){o(n,e);var t=a(n);function n(){return i(this,n),t.apply(this,arguments)}return r(n)}("undefined"!==typeof globalThis&&globalThis.AudioWorkletNode||r((function e(){i(this,e)})));t.VoiceFocusAudioWorkletNode=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return Hr}));var r=n(71),i=n(96),o=n(37),a=n(80),s=n(572),c=n(53),u=n(49),l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},l(e,t)};function d(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var p,v,m,g,b,y,w,S,k,C,O,x,E,_,T,I,A,M,P,j,R,D,N,L,F,U,B,V,z,H,W,q,K,G,J,$,Y,Q,Z,X,ee,te,ne,re,ie,oe,ae,se,ce,ue,le,de,fe,he,pe,ve,me,ge=n(0);!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(p||(p={})),(v||(v={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(m||(m={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(g||(g={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(b||(b={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(y||(y={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(w||(w={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(S||(S={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(k||(k={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(C||(C={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(O||(O={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(x||(x={})),(E||(E={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(_||(_={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(T||(T={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(I||(I={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(A||(A={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(M||(M={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(P||(P={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(j||(j={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(R||(R={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(D||(D={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(N||(N={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(L||(L={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(F||(F={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(U||(U={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(B||(B={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(V||(V={})),(z||(z={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(H||(H={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},function(e){e.RULES="Rules",e.TOKEN="Token"}(W||(W={})),(q||(q={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(K||(K={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(G||(G={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(J||(J={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},($||($={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(Y||(Y={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(Q||(Q={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(Z||(Z={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(X||(X={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(ee||(ee={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(te||(te={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(ne||(ne={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(re||(re={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(ie||(ie={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(oe||(oe={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(ae||(ae={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(se||(se={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(ce||(ce={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(ue||(ue={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(le||(le={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(de||(de={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(fe||(fe={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(he||(he={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(pe||(pe={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(ve||(ve={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)},(me||(me={})).filterSensitiveLog=function(e){return Object(ge.a)({},e)};var be=n(26),ye=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,l,d,f,h,p,v,m;return Object(ge.f)(this,(function(g){switch(g.label){case 0:return r=[Object(ge.a)({},e)],m={},[4,Je(e.body,t)];case 1:switch(n=ge.a.apply(void 0,r.concat([(m.body=g.sent(),m)])),o="UnknownError",o=$e(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,Se(n,t)];case 3:return i=ge.a.apply(void 0,[ge.a.apply(void 0,a.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 4:return s=[{}],[4,ke(n,t)];case 5:return i=ge.a.apply(void 0,[ge.a.apply(void 0,s.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 6:return c=[{}],[4,Ce(n,t)];case 7:return i=ge.a.apply(void 0,[ge.a.apply(void 0,c.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 8:return u=[{}],[4,Oe(n,t)];case 9:return i=ge.a.apply(void 0,[ge.a.apply(void 0,u.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 10:return l=[{}],[4,Ee(n,t)];case 11:return i=ge.a.apply(void 0,[ge.a.apply(void 0,l.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 12:return d=[{}],[4,_e(n,t)];case 13:return i=ge.a.apply(void 0,[ge.a.apply(void 0,d.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 14:return f=[{}],[4,Te(n,t)];case 15:return i=ge.a.apply(void 0,[ge.a.apply(void 0,f.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 16:return h=[{}],[4,Ie(n,t)];case 17:return i=ge.a.apply(void 0,[ge.a.apply(void 0,h.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Object(ge.a)(Object(ge.a)({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:qe(e)}),g.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},we=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,l,d,f,h,p,v,m;return Object(ge.f)(this,(function(g){switch(g.label){case 0:return r=[Object(ge.a)({},e)],m={},[4,Je(e.body,t)];case 1:switch(n=ge.a.apply(void 0,r.concat([(m.body=g.sent(),m)])),o="UnknownError",o=$e(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,Se(n,t)];case 3:return i=ge.a.apply(void 0,[ge.a.apply(void 0,a.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 4:return s=[{}],[4,ke(n,t)];case 5:return i=ge.a.apply(void 0,[ge.a.apply(void 0,s.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 6:return c=[{}],[4,Oe(n,t)];case 7:return i=ge.a.apply(void 0,[ge.a.apply(void 0,c.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 8:return u=[{}],[4,xe(n,t)];case 9:return i=ge.a.apply(void 0,[ge.a.apply(void 0,u.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 10:return l=[{}],[4,Ee(n,t)];case 11:return i=ge.a.apply(void 0,[ge.a.apply(void 0,l.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 12:return d=[{}],[4,_e(n,t)];case 13:return i=ge.a.apply(void 0,[ge.a.apply(void 0,d.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 14:return f=[{}],[4,Te(n,t)];case 15:return i=ge.a.apply(void 0,[ge.a.apply(void 0,f.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 16:return h=[{}],[4,Ie(n,t)];case 17:return i=ge.a.apply(void 0,[ge.a.apply(void 0,h.concat([g.sent()])),{name:o,$metadata:qe(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Object(ge.a)(Object(ge.a)({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:qe(e)}),g.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},Se=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=Re(n,t),[2,Object(ge.a)({name:"ExternalServiceException",$fault:"client",$metadata:qe(e)},r)]}))}))},ke=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=Le(n,t),[2,Object(ge.a)({name:"InternalErrorException",$fault:"server",$metadata:qe(e)},r)]}))}))},Ce=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=Fe(n,t),[2,Object(ge.a)({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:qe(e)},r)]}))}))},Oe=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=Ue(n,t),[2,Object(ge.a)({name:"InvalidParameterException",$fault:"client",$metadata:qe(e)},r)]}))}))},xe=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=Be(n,t),[2,Object(ge.a)({name:"LimitExceededException",$fault:"client",$metadata:qe(e)},r)]}))}))},Ee=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=Ve(n,t),[2,Object(ge.a)({name:"NotAuthorizedException",$fault:"client",$metadata:qe(e)},r)]}))}))},_e=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=ze(n,t),[2,Object(ge.a)({name:"ResourceConflictException",$fault:"client",$metadata:qe(e)},r)]}))}))},Te=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=He(n,t),[2,Object(ge.a)({name:"ResourceNotFoundException",$fault:"client",$metadata:qe(e)},r)]}))}))},Ie=function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n=e.body,r=We(n,t),[2,Object(ge.a)({name:"TooManyRequestsException",$fault:"client",$metadata:qe(e)},r)]}))}))},Ae=function(e,t){return Object(ge.a)(Object(ge.a)(Object(ge.a)({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Pe(e.Logins,t)})},Me=function(e,t){return Object(ge.a)(Object(ge.a)(Object(ge.a)({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Pe(e.Logins,t)})},Pe=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Object(ge.g)(t,2),i=r[0],o=r[1];return null===o?e:Object(ge.a)(Object(ge.a)({},e),((n={})[i]=o,n))}),{})},je=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},Re=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},De=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?je(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Ne=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Le=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Fe=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ue=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Be=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ve=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ze=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},He=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},We=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},qe=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Ke=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Ge=function(e,t,n,r,i){return Object(ge.d)(void 0,void 0,void 0,(function(){var o,a,s,c,u,l;return Object(ge.f)(this,(function(d){switch(d.label){case 0:return[4,e.endpoint()];case 1:return o=d.sent(),a=o.hostname,s=o.protocol,c=void 0===s?"https":s,u=o.port,l={protocol:c,hostname:a,port:u,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new be.a(l)]}}))}))},Je=function(e,t){return function(e,t){return Ke(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},$e=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""};var Ye=function(){return Ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ye.apply(this,arguments)};function Qe(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Ze(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Xe={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},et={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function tt(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Qe(void 0,void 0,void 0,(function(){var i,o;return Ze(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),Xe),r.add(function(e,t){return function(n,r){return function(r){return Qe(void 0,void 0,void 0,(function(){var i;return Ze(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(Ye(Ye({},r),{request:i}))]}}))}))}}}(e,t),et)}}}var nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nt.apply(this,arguments)};function rt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ot(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(it(arguments[t]));return e}var at=function e(){var t=[],n=[],r=new Set,i=function(e){return t.forEach((function(t){e.add(t.middleware,nt({},t))})),n.forEach((function(t){e.addRelativeTo(t.middleware,nt({},t))})),e},o=function e(t){var n=[];return t.before.forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,ot(e(t)))})),n.push(t),t.after.reverse().forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,ot(e(t)))})),n},a=function(){var e,r=[],i=[],a={};return t.forEach((function(e){var t=nt(nt({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),n.forEach((function(e){var t=nt(nt({},e),{before:[],after:[]});t.name&&(a[t.name]=t),i.push(t)})),i.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(e=r,e.sort((function(e,t){return st[t.step]-st[e.step]||ct[t.priority||"normal"]-ct[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,ot(t)),e}),[]).map((function(e){return e.middleware}))},s={add:function(e,n){void 0===n&&(n={});var i=n.name,o=n.override,a=nt({step:"initialize",priority:"normal",middleware:e},n);if(i){if(r.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),c=t[s];if(c.step!==a.step||c.priority!==a.priority)throw new Error('"'+i+'" middleware with '+c.priority+" priority in "+c.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");t.splice(s,1)}r.add(i)}t.push(a)},addRelativeTo:function(e,t){var i=t.name,o=t.override,a=nt({middleware:e},t);if(i){if(r.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=n.findIndex((function(e){return e.name===i})),c=n[s];if(c.toMiddleware!==a.toMiddleware||c.relation!==a.relation)throw new Error('"'+i+'" middleware '+c.relation+' "'+c.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');n.splice(s,1)}r.add(i)}n.push(a)},clone:function(){return i(e())},use:function(e){e.applyToStack(s)},remove:function(e){return"string"===typeof e?function(e){var i=!1,o=function(t){return!t.name||t.name!==e||(i=!0,r.delete(e),!1)};return t=t.filter(o),n=n.filter(o),i}(e):function(e){var i=!1,o=function(t){return t.middleware!==e||(i=!0,t.name&&r.delete(t.name),!1)};return t=t.filter(o),n=n.filter(o),i}(e)},removeByTag:function(e){var i=!1,o=function(t){var n=t.tags,o=t.name;return!n||!n.includes(e)||(o&&r.delete(o),i=!0,!1)};return t=t.filter(o),n=n.filter(o),i},concat:function(t){var n=i(e());return n.use(t),n},applyToStack:i,resolve:function(e,t){var n,r;try{for(var i=rt(a().reverse()),o=i.next();!o.done;o=i.next()){e=(0,o.value)(e,t)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return s},st={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ct={high:3,normal:2,low:1},ut=function(){function e(e){this.middlewareStack=at(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!==typeof t?t:void 0,i="function"===typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),lt=function(){this.middlewareStack=at()};var dt=function(e,t){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},dt(e,t)};function ft(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ht(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ft(arguments[t]));return e}var pt=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,ht([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};pt.prototype=Object.create(String.prototype,{constructor:{value:pt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(pt,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}dt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"===typeof e?e:JSON.stringify(e))}}(pt);var vt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(ge.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(tt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:R.filterSensitiveLog,outputFilterSensitiveLog:N.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(Ae(e,t)),[2,Ge(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r,i;return Object(ge.f)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,ye(e,t)]:[4,Je(e.body,t)];case 1:return n=o.sent(),r=De(n,t),i=Object(ge.a)({$metadata:qe(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(lt),mt=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function gt(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"===typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function bt(e){var t=this;return function(){return d(t,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,l,d,h,p;return f(this,(function(f){switch(f.label){case 0:return l=(u=e.client).send,d=vt.bind,p={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,gt(e.logins)]:[3,2];case 1:return h=f.sent(),[3,3];case 2:h=void 0,f.label=3;case 3:return[4,l.apply(u,[new(d.apply(vt,[void 0,(p.Logins=h,p)]))])];case 4:return t=f.sent().Credentials,n=void 0===t?function(){throw new mt("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new mt("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,a=n.SecretKey,s=void 0===a?function(){throw new mt("Response from Amazon Cognito contained no secret key")}():a,c=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:s,sessionToken:c,expiration:o}]}}))}))}}var yt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(ge.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(tt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:F.filterSensitiveLog,outputFilterSensitiveLog:U.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r;return Object(ge.f)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(Me(e,t)),[2,Ge(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(ge.d)(void 0,void 0,void 0,(function(){var n,r,i;return Object(ge.f)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,we(e,t)]:[4,Je(e.body,t)];case 1:return n=o.sent(),r=Ne(n,t),i=Object(ge.a)({$metadata:qe(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(lt),wt="IdentityIds",St=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(wt,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(wt,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(wt)))})).catch((function(e){throw n.close(),e}))}))},e}(),kt=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function Ct(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"===typeof self&&self.indexedDB?new St:"object"===typeof window&&window.localStorage?window.localStorage:kt:r,o=e.client,a=e.customRoleArn,s=e.identityPoolId,c=e.logins,u=e.userIdentifier,l=void 0===u?c&&0!==Object.keys(c).length?void 0:"ANONYMOUS":u,h=l?"aws:cognito-identity-credentials:"+s+":"+l:void 0,p=function(){return d(t,void 0,void 0,(function(){var e,t,r,u,l,d,v,m,g;return f(this,(function(f){switch(f.label){case 0:return(t=h)?[4,i.getItem(h)]:[3,2];case 1:t=f.sent(),f.label=2;case 2:return(e=t)?[3,7]:(d=(l=o).send,v=yt.bind,g={AccountId:n,IdentityPoolId:s},c?[4,gt(c)]:[3,4]);case 3:return m=f.sent(),[3,5];case 4:m=void 0,f.label=5;case 5:return[4,d.apply(l,[new(v.apply(yt,[void 0,(g.Logins=m,g)]))])];case 6:r=f.sent().IdentityId,u=void 0===r?function(){throw new mt("Response from Amazon Cognito contained no identity ID")}():r,e=u,h&&Promise.resolve(i.setItem(h,e)).catch((function(){})),f.label=7;case 7:return[2,(p=bt({client:o,customRoleArn:a,logins:c,identityId:e}))()]}}))}))};return function(){return p().catch((function(e){return d(t,void 0,void 0,(function(){return f(this,(function(t){throw h&&Promise.resolve(i.removeItem(h)).catch((function(){})),e}))}))}))}}var Ot=n(348),xt=n(347);function Et(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function _t(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Tt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var It=n(351);for(var At=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null===n||void 0===n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=Object(It.a)(e.query);a&&(o+="?"+a)}var s=e.port,c=e.method,u=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===c||"HEAD"===c?void 0:e.body,headers:new Headers(e.headers),method:c};"undefined"!==typeof AbortController&&(l.signal=n);var d,f=new Request(u,l),h=[fetch(f).then((function(e){var t,n,r=e.headers,i={};try{for(var o=Tt(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new be.b({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new be.b({headers:i,statusCode:e.status,body:t})}}))})),(d=r,void 0===d&&(d=0),new Promise((function(e,t){d&&setTimeout((function(){var e=new Error("Request did not complete within "+d+" ms");e.name="TimeoutError",t(e)}),d)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),Mt={},Pt=new Array(64),jt=0,Rt="A".charCodeAt(0),Dt="Z".charCodeAt(0);jt+Rt<=Dt;jt++){var Nt=String.fromCharCode(jt+Rt);Mt[Nt]=jt,Pt[jt]=Nt}for(jt=0,Rt="a".charCodeAt(0),Dt="z".charCodeAt(0);jt+Rt<=Dt;jt++){Nt=String.fromCharCode(jt+Rt);var Lt=jt+26;Mt[Nt]=Lt,Pt[Lt]=Nt}for(jt=0;jt<10;jt++){Mt[jt.toString(10)]=jt+52;Nt=jt.toString(10),Lt=jt+52;Mt[Nt]=Lt,Pt[Lt]=Nt}Mt["+"]=62,Pt[62]="+",Mt["/"]=63,Pt[63]="/";function Ft(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,c=i+3;s<=c;s++)"="!==e[s]?(o|=Mt[e[s]]<<6*(c-s),a+=6):o>>=6;var u=i/4*3;o>>=a%8;for(var l=Math.floor(a/8),d=0;d<l;d++){var f=8*(l-d-1);r.setUint8(u+d,(o&255<<f)>>f)}}return new Uint8Array(n)}function Ut(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var Bt=function(){return Bt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bt.apply(this,arguments)};function Vt(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function zt(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ht(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Wt=function(e){return function(t,n){return function(r){return Vt(void 0,void 0,void 0,(function(){var i;return zt(this,(function(o){return(null===(i=null===e||void 0===e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ht(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}},qt={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Kt="amz-sdk-invocation-id",Gt="amz-sdk-request",Jt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],$t=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Yt=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Qt=[500,502,503,504],Zt=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||$t.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Xt=n(84),en=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},tn=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Jt.includes(e.name)}(e)||Zt(e)||function(e){var t;return Yt.includes(e.name)||Qt.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},nn="standard",rn=function(){function e(e,t){var n,r,i;this.maxAttemptsProvider=e,this.mode=nn,this.retryDecider=null!==(n=null===t||void 0===t?void 0:t.retryDecider)&&void 0!==n?n:tn,this.delayDecider=null!==(r=null===t||void 0===t?void 0:t.delayDecider)&&void 0!==r?r:en,this.retryQuota=null!==(i=null===t||void 0===t?void 0:t.retryQuota)&&void 0!==i?i:function(e){var t=e,n=e,r=function(e){return"TimeoutError"===e.name?10:5},i=function(e){return r(e)<=n};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:function(e){if(!i(e))throw new Error("No retry token available");var t=r(e);return n-=t,t},releaseRetryTokens:function(e){n+=null!==e&&void 0!==e?e:1,n=Math.min(n,t)}})}(500)}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Vt(this,void 0,void 0,(function(){var e;return zt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return Vt(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u;return zt(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,be.a.isInstance(a)&&(a.headers[Kt]=Object(Xt.v4)()),s=function(){var s,u,l,d,f;return zt(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),be.a.isInstance(a)&&(a.headers[Gt]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),u=s.response,l=s.output,c.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:u,output:l}}];case 2:return d=h.sent(),r++,c.shouldRetry(d,r,o)?(n=c.retryQuota.retrieveRetryTokens(d),f=c.delayDecider(Zt(d)?500:100,r),i+=f,[4,new Promise((function(e){return setTimeout(e,f)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=r,d.$metadata.totalRetryDelay=i,d;case 5:return[2]}}))},c=this,l.label=2;case 2:return[5,s()];case 3:return"object"===typeof(u=l.sent())?[2,u.value]:[3,2];case 4:return[2]}}))}))},e}(),on=function(e){if(void 0===e&&(e=3),"number"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function an(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function sn(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var cn=n(82),un=n.n(cn),ln=n(127),dn="cognito-identity.{region}.amazonaws.com",fn=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),hn=new Set(["cn-north-1","cn-northwest-1"]),pn=new Set(["us-iso-east-1"]),vn=new Set(["us-isob-east-1"]),mn=new Set(["us-gov-east-1","us-gov-west-1"]);function gn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bn(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var yn,wn={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:fn.has(e)&&(n={hostname:dn.replace("{region}",e),partition:"aws"}),hn.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),pn.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),vn.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),mn.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:dn.replace("{region}",e),partition:"aws"})}return Promise.resolve(Object(ge.a)({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=gn(e.split("&")),o=i.next();!o.done;o=i.next()){var a=bn(o.value.split("="),2),s=a[0],c=a[1],u=void 0===c?null:c;s=decodeURIComponent(s),u&&(u=decodeURIComponent(u)),s in r?Array.isArray(r[s])?r[s].push(u):r[s]=[r[s],u]:r[s]=u}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},Sn=Object(ge.a)(Object(ge.a)({},wn),{runtime:"browser",base64Decoder:Ft,base64Encoder:function(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<8*(a-o-1),i+=8;var s=Math.ceil(i/6);r<<=6*s-i;for(var c=1;c<=s;c++){var u=6*(s-c);t+=Pt[(r&63<<u)>>u]}t+="==".slice(0,4-s)}return t},bodyLengthChecker:function(e){if("string"===typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"===typeof e.byteLength?e.byteLength:"number"===typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return an(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,c,u,l;return sn(this,(function(d){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?un.a.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null===e||void 0===e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null===e||void 0===e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(c=null===(s=null===e||void 0===e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==c?c:"unknown")+"_"+(null!==(l=null===(u=null===e||void 0===e?void 0:e.browser)||void 0===u?void 0:u.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:wn.serviceId,clientVersion:Ot.version}),maxAttempts:3,region:(yn="Region is missing",function(){return Promise.reject(yn)}),requestHandler:new At,sha256:xt.Sha256,streamCollector:function(e){return"function"===typeof Blob&&e instanceof Blob?function(e){return Et(this,void 0,void 0,(function(){var t,n;return _t(this,(function(r){switch(r.label){case 0:return[4,Ut(e)];case 1:return t=r.sent(),n=Ft(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Et(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return _t(this,(function(c){switch(c.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,c.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=c.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:ln.fromUtf8,utf8Encoder:ln.toUtf8});var kn=function(){return kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kn.apply(this,arguments)};function Cn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function On(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var xn=function(e){var t=e.endpoint,n=e.urlParser;if("string"===typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"===typeof t){var i=Promise.resolve(t);return function(){return i}}return t},En=function(e){return Cn(void 0,void 0,void 0,(function(){var t,n,r,i,o;return On(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},_n=function(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e};var Tn=function(){return Tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tn.apply(this,arguments)};function In(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function An(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Mn="content-length";var Pn={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},jn=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return In(t,void 0,void 0,(function(){var t,i,o,a,s;return An(this,(function(c){return t=r.request,be.a.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(Mn)&&void 0!==(a=e(i))&&(t.headers=Tn(Tn({},t.headers),((s={})["content-length"]=String(a),s)))),[2,n(Tn(Tn({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Pn)}}};function Rn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Dn(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Nn={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Ln=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Rn(void 0,void 0,void 0,(function(){var r,i;return Dn(this,(function(o){return be.a.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Nn)}}};function Fn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Un(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Bn=function(){return function(e,t){return function(n){return Fn(void 0,void 0,void 0,(function(){var r,i,o,a,s,c,u,l,d;return Un(this,(function(f){switch(f.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return c=f.sent(),a?("function"===typeof a.info&&(u=c.output,l=u.$metadata,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(u,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(d),metadata:l})),[2,c]):[2,c]}}))}))}}},Vn={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var zn=function(){return zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zn.apply(this,arguments)};function Hn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Wn(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function qn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kn(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Gn=n(40),Jn="X-Amz-Date",$n="X-Amz-Signature",Yn="X-Amz-Security-Token",Qn="authorization",Zn=Jn.toLowerCase(),Xn=[Qn,Zn,"date"],er=$n.toLowerCase(),tr="x-amz-content-sha256",nr=Yn.toLowerCase(),rr={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ir=/^proxy-/,or=/^sec-/,ar="AWS4-HMAC-SHA256",sr="AWS4-HMAC-SHA256-PAYLOAD",cr="aws4_request",ur={},lr=[];function dr(e,t,n){return e+"/"+t+"/"+n+"/"+cr}function fr(e,t,n){var r=new e(t);return r.update(n),r.digest()}function hr(e,t,n){var r,i,o=e.headers,a={};try{for(var s=qn(Object.keys(o).sort()),c=s.next();!c.done;c=s.next()){var u=c.value,l=u.toLowerCase();(l in rr||(null===t||void 0===t?void 0:t.has(l))||ir.test(l)||or.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[u].trim().replace(/\s+/g," "))}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}var pr=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,vr)},vr=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};var mr=n(346);function gr(e,t){var n=e.headers,r=e.body;return Hn(this,void 0,void 0,(function(){var e,i,o,a,s,c,u;return Wn(this,(function(l){switch(l.label){case 0:try{for(e=qn(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===tr)return[2,n[o]]}catch(d){c={error:d}}finally{try{i&&!i.done&&(u=e.return)&&u.call(e)}finally{if(c)throw c.error}}return void 0!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"===typeof r||ArrayBuffer.isView(r)||Object(mr.a)(r)?((a=new t).update(r),s=Gn.a,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}}))}))}function br(e){var t=e.headers,n=e.query,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["headers","query"]);return zn(zn({},r),{headers:zn({},t),query:n?yr(n):void 0})}function yr(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return zn(zn({},t),((r={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kn(arguments[t]));return e}(i):i,r))}),{})}function wr(e){var t,n;e="function"===typeof e.clone?e.clone():br(e);try{for(var r=qn(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;Xn.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function Sr(e){return function(e){if("number"===typeof e)return new Date(1e3*e);if("string"===typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var kr=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=xr(r),this.credentialProvider=Er(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Hn(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,l,d,f,h,p,v,m,g,b,y,w,S,k,C,O,x;return Wn(this,(function(E){switch(E.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,c=t.signableHeaders,u=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return d=E.sent(),null===u||void 0===u?[3,2]:(h=u,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=E.sent(),E.label=4;case 4:return f=h,p=Cr(r),v=p.longDate,m=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(g=dr(m,f,null!==l&&void 0!==l?l:this.service),b=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"===typeof e.clone?e.clone():br(e),a=o.headers,s=o.query,c=void 0===s?{}:s;try{for(var u=qn(Object.keys(a)),l=u.next();!l.done;l=u.next()){var d=l.value,f=d.toLowerCase();"x-amz-"!==f.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(f))||(c[d]=a[d],delete a[d])}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return zn(zn({},e),{headers:a,query:c})}(wr(e),{unhoistableHeaders:s}),d.sessionToken&&(b.query[Yn]=d.sessionToken),b.query["X-Amz-Algorithm"]=ar,b.query["X-Amz-Credential"]=d.accessKeyId+"/"+g,b.query["X-Amz-Date"]=v,b.query["X-Amz-Expires"]=o.toString(10),y=hr(b,a,c),b.query["X-Amz-SignedHeaders"]=Or(y),w=b.query,S=$n,k=this.getSignature,C=[v,g,this.getSigningKey(d,f,m,l)],O=this.createCanonicalRequest,x=[b,y],[4,gr(e,this.sha256)]);case 5:return[4,k.apply(this,C.concat([O.apply(this,x.concat([E.sent()]))]))];case 6:return w[S]=E.sent(),[2,b]}}))}))},e.prototype.sign=function(e,t){return Hn(this,void 0,void 0,(function(){return Wn(this,(function(n){return"string"===typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,c=t.signingService;return Hn(this,void 0,void 0,(function(){var e,t,i,u,l,d,f,h,p,v,m;return Wn(this,(function(g){switch(g.label){case 0:return null===s||void 0===s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=g.sent(),g.label=3;case 3:return e=t,i=Cr(o),u=i.shortDate,l=i.longDate,d=dr(u,e,null!==c&&void 0!==c?c:this.service),[4,gr({headers:{},body:r},this.sha256)];case 4:return f=g.sent(),(h=new this.sha256).update(n),v=Gn.a,[4,h.digest()];case 5:return p=v.apply(void 0,[g.sent()]),m=[sr,l,d,a,p,f].join("\n"),[2,this.signString(m,{signingDate:o,signingRegion:e,signingService:c})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return Hn(this,void 0,void 0,(function(){var t,n,r,s,c,u,l,d;return Wn(this,(function(f){switch(f.label){case 0:return[4,this.credentialProvider()];case 1:return t=f.sent(),null===o||void 0===o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=f.sent(),f.label=4;case 4:return n=r,s=Cr(i).shortDate,l=(u=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(c=new(l.apply(u,[void 0,f.sent()]))).update(e),d=Gn.a,[4,c.digest()];case 6:return[2,d.apply(void 0,[f.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,c=n.signingService;return Hn(this,void 0,void 0,(function(){var t,n,r,u,l,d,f,h,p,v,m;return Wn(this,(function(g){switch(g.label){case 0:return[4,this.credentialProvider()];case 1:return t=g.sent(),null===s||void 0===s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=g.sent(),g.label=4;case 4:return n=r,u=wr(e),l=Cr(i),d=l.longDate,f=l.shortDate,h=dr(f,n,null!==c&&void 0!==c?c:this.service),u.headers[Zn]=d,t.sessionToken&&(u.headers[nr]=t.sessionToken),[4,gr(u,this.sha256)];case 5:return p=g.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=qn(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(tr,u.headers)&&this.applyChecksum&&(u.headers[tr]=p),v=hr(u,a,o),[4,this.getSignature(d,h,this.getSigningKey(t,n,f,c),this.createCanonicalRequest(u,v,p))];case 6:return m=g.sent(),u.headers[Qn]="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+Or(v)+", Signature="+m,[2,u]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===er)return"continue";o.push(e);var t=i[e];"string"===typeof t?a[e]=pr(e)+"="+pr(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([pr(e)+"="+pr(n)])}),[]).join("&"))};try{for(var c=qn(Object.keys(i).sort()),u=c.next();!u.done;u=c.next())s(u.value)}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Hn(this,void 0,void 0,(function(){var r,i;return Wn(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+Object(Gn.a)(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Hn(this,void 0,void 0,(function(){var i,o,a,s,c;return Wn(this,(function(u){switch(u.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=u.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,u.sent()]))).update(i),c=Gn.a,[4,o.digest()];case 3:return[2,c.apply(void 0,[u.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Hn(void 0,void 0,void 0,(function(){var o,a,s,c,u,l,d,f,h;return Wn(this,(function(p){switch(p.label){case 0:return[4,fr(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+Object(Gn.a)(o)+":"+t.sessionToken)in ur)return[2,ur[a]];for(lr.push(a);lr.length>50;)delete ur[lr.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),c=qn([n,r,i,cr]),u=c.next(),p.label=3;case 3:return u.done?[3,6]:(l=u.value,[4,fr(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return d=p.sent(),f={error:d},[3,9];case 8:try{u&&!u.done&&(h=c.return)&&h.call(c)}finally{if(f)throw f.error}return[7];case 9:return[2,ur[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Cr=function(e){var t=Sr(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},Or=function(e){return Object.keys(e).sort().join(";")},xr=function(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Er=function(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function _r(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Tr=function(){return Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tr.apply(this,arguments)};function Ir(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Ar(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Mr(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Pr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mr(arguments[t]));return e}var jr="user-agent",Rr=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Dr=function(e){var t=Mr(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null===e||void 0===e?void 0:e.replace(Rr,"_")})).join("/")},Nr={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Lr=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return Ir(void 0,void 0,void 0,(function(){var i,o,a,s,c,u,l,d;return Ar(this,(function(f){switch(f.label){case 0:return i=r.request,be.a.isInstance(i)?(o=i.headers,a=(null===(l=null===t||void 0===t?void 0:t.userAgent)||void 0===l?void 0:l.map(Dr))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=f.sent().map(Dr),c=(null===(d=null===n||void 0===n?void 0:n.customUserAgent)||void 0===d?void 0:d.map(Dr))||[],o["x-amz-user-agent"]=Pr(s,a,c).join(" "),u=Pr(s.filter((function(e){return e.startsWith("aws-sdk-")})),c).join(" "),"browser"!==n.runtime&&u&&(o[jr]=o[jr]?o[jr]+" "+u:u),[2,e(Tr(Tr({},r),{request:i}))]}}))}))}}),Nr)}}},Fr=function(e){function t(t){var n,r,i=this,o=function(e){if(!e.region)throw new Error("Region is missing");return kn(kn({},e),{region:_n(e.region)})}(Object(ge.a)(Object(ge.a)({},Sn),t)),a=function(e){var t;return kn(kn({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?xn(e):function(){return En(e)},isCustomEndpoint:!!e.endpoint})}(o),s=function(e){var t,n=this,r=_r(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,c=e.sha256;return t=e.signer?_r(e.signer):function(){return _r(e.region)().then((function(t){return Hn(n,void 0,void 0,(function(){return Wn(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=Kn(t,2),i=n[0],a=n[1],s=i.signingRegion,u=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||u||e.serviceId,new kr({credentials:r,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:o})}))},zn(zn({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(a),c=function(e){var t=on(e.maxAttempts);return Bt(Bt({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new rn(t)})}(s),u=Tr(Tr({},n=c),{customUserAgent:"string"===typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent});return(i=e.call(this,u)||this).config=u,i.middlewareStack.use((r=i.config,{applyToStack:function(e){e.add(Wt(r),qt)}})),i.middlewareStack.use(jn(i.config)),i.middlewareStack.use(Ln(i.config)),i.middlewareStack.use((i.config,{applyToStack:function(e){e.add(Bn(),Vn)}})),i.middlewareStack.use(Lr(i.config)),i}return Object(ge.e)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(ut),Ur=function(){return Ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ur.apply(this,arguments)},Br=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Vr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},zr=new r.a("Credentials"),Hr=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=a.b.refreshGoogleToken,this._refreshHandlers.facebook=a.a.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Ur(Ur({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new i.a).getStorage()),this._storageSync=Promise.resolve(),"function"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return zr.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return zr.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?zr.debug("getting old cred promise"):(zr.debug("getting new cred promise"),this._gettingCredPromise=Object(o.c)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return Br(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return Vr(this,(function(s){switch(s.label){case 0:if(zr.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return zr.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(zr.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?u.a.Auth:t)||"function"!==typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];zr.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return i=s.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return s.sent(),[3,6];case 5:return a=s.sent(),zr.debug("Error attempting to refreshing the session",a),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){zr.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var a=this;return zr.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(zr.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):a._refreshHandlers[t]&&"function"===typeof a._refreshHandlers[t]?(zr.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(zr.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return Object(s.b)(n,[],1e4).then((function(e){return zr.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"===typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),zr.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return zr.debug("no credentials for expiration check"),!0;zr.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return Br(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u=this;return Vr(this,(function(l){switch(l.label){case 0:return zr.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(i=this,[4,this._getGuestIdentityId()]):(zr.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(zr.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=i._identityId=l.sent(),o=new Fr({region:n,customUserAgent:Object(c.b)()}),a=void 0,r?a=bt({identityId:r,client:o})():(s=function(){return Br(u,void 0,void 0,(function(){var e;return Vr(this,(function(n){switch(n.label){case 0:return[4,o.send(new yt({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,bt({client:o,identityId:e})()]}}))}))},a=s().catch((function(e){return Br(u,void 0,void 0,(function(){return Vr(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(a,"guest",!1,null).then((function(e){return e})).catch((function(e){return Br(u,void 0,void 0,(function(){var n,i=this;return Vr(this,(function(s){switch(s.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(zr.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return s.sent(),n=function(){return Br(i,void 0,void 0,(function(){var e;return Vr(this,(function(n){switch(n.label){case 0:return[4,o.send(new yt({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,bt({client:o,identityId:e})()]}}))}))},a=n().catch((function(e){return Br(i,void 0,void 0,(function(){return Vr(this,(function(t){throw e}))}))})),[2,this._loadCredentials(a,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var a=this._config,s=a.identityPoolId,u=a.region;if(!s)return zr.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return zr.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l=new Fr({region:u,customUserAgent:Object(c.b)()}),d=void 0;r?d=bt({identityId:r,logins:o,client:l})():d=Ct({logins:o,identityPoolId:s,client:l})();return this._loadCredentials(d,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;zr.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,a=r.identityPoolId;if(!a)return zr.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return zr.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var s={};s["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=new Fr({region:i,customUserAgent:Object(c.b)()}),l=Br(t,void 0,void 0,(function(){var e,t,n,r,i,o,c,l,d,f;return Vr(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new yt({IdentityPoolId:a,Logins:s}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new vt({IdentityId:e||t,Logins:s}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,c=i.Expiration,l=i.SecretKey,d=i.SessionToken,f=r.IdentityId,this._identityId=f,e?(zr.debug("The guest identity "+e+" has been successfully linked to the logins"),e===f&&zr.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:l,sessionToken:d,expiration:c,identityId:f}]}}))})).catch((function(e){return Br(t,void 0,void 0,(function(){return Vr(this,(function(t){throw e}))}))}));return this._loadCredentials(l,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(a,s){e.then((function(e){return Br(i,void 0,void 0,(function(){var i,s,c,u,l;return Vr(this,(function(d){switch(d.label){case 0:if(zr.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),s=r.provider,c=r.token,u=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:s,token:c,user:i,expires_at:u,identity_id:l}))}catch(f){zr.debug("Failed to put federated info into auth storage",f)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:d.sent(),d.label=2;case 2:return a(o._credentials),[2]}}))}))})).catch((function(t){if(t)return zr.debug("Failed to load credentials",e),zr.debug("Error loading credentials",t),void s(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(zr.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Br(this,void 0,void 0,(function(){return Vr(this,(function(e){return this._credentials=null,this._credentials_source=null,zr.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return Br(this,void 0,void 0,(function(){var e,t;return Vr(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),zr.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return Br(this,void 0,void 0,(function(){var t,n;return Vr(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),zr.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return Br(this,void 0,void 0,(function(){var e;return Vr(this,(function(t){return e=this._config.identityPoolId,zr.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);u.a.register(Hr)},function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n(14),i=n(71),o=n(313),a=n(167),s=n(323),c=n(336),u=n(96),l=n(37);var d=n(49),f=n(23),h=n(20),p=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},v=n(98),m=n.n(v),g=n(102),b=n.n(g),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},y.apply(this,arguments)},w=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},S=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},k=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},C="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",O=function(e,t,n){o.a.dispatch("auth",{event:e,data:t,message:n},"Auth",C)},x=new i.a("OAuth"),E=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||p,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},e.prototype.oauthSignIn=function(e,t,n,i,o,a){void 0===e&&(e="code"),void 0===o&&(o=r.b.Cognito);var s=this._generateState(32),c=a?s+"-"+a.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):s;!function(e){window.sessionStorage.setItem("oauth_state",e)}(c);var u,l=this._generateRandom(128);u=l,window.sessionStorage.setItem("ouath_pkce_key",u);var d=this._generateChallenge(l),f=this._scopes.join(" "),h="https://"+t+"/oauth2/authorize?"+Object.entries(y(y({redirect_uri:n,response_type:e,client_id:i,identity_provider:o,scope:f,state:c},"code"===e?{code_challenge:d}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=k(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");x.debug("Redirecting to "+h),this._urlOpener(h,n)},e.prototype._handleCodeFlow=function(e){return w(this,void 0,void 0,(function(){var t,n,i,o,a,s,c,u,l,d,f,p,v,m;return S(this,(function(g){switch(g.label){case 0:return t=(Object(h.parse)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=k(t,2),i=r[0],o=r[1];return y(y({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=Object(h.parse)(e).pathname||"/",i=Object(h.parse)(this._config.redirectSignIn).pathname||"/",t&&n===i?(o="https://"+this._config.domain+"/oauth2/token",O("codeFlow",{},"Retrieving tokens from "+o),a=Object(r.d)(this._config)?this._cognitoClientId:this._config.clientID,s=Object(r.d)(this._config)?this._config.redirectSignIn:this._config.redirectUri,c=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e}(),u=y({grant_type:"authorization_code",code:t,client_id:a,redirect_uri:s},c?{code_verifier:c}:{}),x.debug("Calling token endpoint: "+o+" with",u),l=Object.entries(u).map((function(e){var t=k(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})]):[2];case 1:return[4,g.sent().json()];case 2:if(d=g.sent(),f=d.access_token,p=d.refresh_token,v=d.id_token,m=d.error)throw new Error(m);return[2,{accessToken:f,refreshToken:p,idToken:v}]}}))}))},e.prototype._handleImplicitFlow=function(e){return w(this,void 0,void 0,(function(){var t,n,r;return S(this,(function(i){return t=(Object(h.parse)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=k(t,2),i=r[0],o=r[1];return y(y({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,O("implicitFlow",{},"Got tokens from "+e),x.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return w(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return S(this,(function(c){switch(c.label){case 0:if(c.trys.push([0,5,,6]),t=e?y(y({},(Object(h.parse)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=k(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),(Object(h.parse)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=k(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),x.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,y.apply(void 0,[y.apply(void 0,o.concat([c.sent()])),{state:i}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,y.apply(void 0,[y.apply(void 0,a.concat([c.sent()])),{state:i}])];case 4:return[3,6];case 5:throw s=c.sent(),x.error("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e}(),n=e.state;if(t&&t!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return w(this,void 0,void 0,(function(){var e,t,n;return S(this,(function(i){return e="https://"+this._config.domain+"/logout?",t=Object(r.d)(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Object(r.d)(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=k(e,2);return t[0]+"="+t[1]})).join("&"),O("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),x.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(m()(e))},e.prototype._base64URL=function(e){return e.toString(b.a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!==typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}(),_=n(28),T=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=new i.a("AuthError"),A=function(e){function t(n){var r=this,i=P[n],o=i.message,a=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||o,I.error(r.log),r}return T(t,e),t}(Error),M=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return T(t,e),t}(A),P={noConfig:{message:_.a.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:_.a.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:_.a.EMPTY_USERNAME},invalidUsername:{message:_.a.INVALID_USERNAME},emptyPassword:{message:_.a.EMPTY_PASSWORD},emptyCode:{message:_.a.EMPTY_CODE},signUpError:{message:_.a.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:_.a.NO_MFA},invalidMFA:{message:_.a.INVALID_MFA},emptyChallengeResponse:{message:_.a.EMPTY_CHALLENGE},noUserSession:{message:_.a.NO_USER_SESSION},deviceConfig:{message:_.a.DEVICE_CONFIG},networkError:{message:_.a.NETWORK_ERROR},autoSignInError:{message:_.a.AUTOSIGNIN_ERROR},default:{message:_.a.DEFAULT_MSG}},j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)},R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},N=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},L=new i.a("AuthClass"),F="aws.cognito.signin.user.admin",U="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",B=function(e,t,n){o.a.dispatch("auth",{event:e,data:t,message:n},"Auth",U)},V=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.Credentials=a.a,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?B("tokenRefresh",void 0,"New token retrieved"):B("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),o.a.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};L.debug("configure Auth");var n=Object.assign({},this._config,s.a.parseMobilehubConfig(e).Auth,e);this._config=n;var i=this._config,o=i.userPoolId,a=i.userPoolWebClientId,d=i.cookieStorage,h=i.oauth,p=i.region,v=i.identityPoolId,m=i.mandatorySignIn,g=i.refreshHandlers,b=i.identityPoolRegion,y=i.clientMetadata,w=i.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw L.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=d?new f.i(d):e.ssr?new c.a:(new u.a).getStorage();if(this._storageSync=Promise.resolve(),"function"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var S={UserPoolId:o,ClientId:a,endpoint:w};S.Storage=this._storage,this.userPool=new f.g(S,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:m,region:b||p,userPoolId:o,identityPoolId:v,refreshHandlers:g,storage:this._storage});var k=h?Object(r.d)(this._config.oauth)?h:h.awsCognito:void 0;if(k){var C=Object.assign({cognitoClientId:a,UserPoolId:o,domain:k.domain,scopes:k.scope,redirectSignIn:k.redirectSignIn,redirectSignOut:k.redirectSignOut,responseType:k.responseType,Storage:this._storage,urlOpener:k.urlOpener,clientMetadata:y},k.options);this._oAuthHandler=new E({scopes:C.scopes,config:C,cognitoClientId:C.cognitoClientId});var O={};!function(e){if(Object(l.a)().isBrowser&&window.location)e({url:window.location.href});else if(!Object(l.a)().isNode)throw new Error("Not supported")}((function(e){var n=e.url;O[n]||(O[n]=!0,t._handleAuthResponse(n))}))}(B("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!==typeof this._storage.getItem)||(this.isTrueStorageValue("amplify-polling-started")&&(B("autoSignIn_failure",null,r.a.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started"));return this._config},e.prototype.signUp=function(e){for(var t,n,i,o=this,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];if(!this.userPool)return this.rejectNoUserPool();var c,u=null,l=null,d=[],h=null,p={enabled:!1},v={},m={};if(e&&"string"===typeof e){u=e,l=a?a[0]:null;var g=a?a[1]:null,b=a?a[2]:null;g&&d.push(new f.f({Name:"email",Value:g})),b&&d.push(new f.f({Name:"phone_number",Value:b}))}else{if(!e||"object"!==typeof e)return this.rejectAuthError(r.a.SignUpError);u=e.username,l=e.password,e&&e.clientMetadata?c=e.clientMetadata:this._config.clientMetadata&&(c=this._config.clientMetadata);var y=e.attributes;y&&Object.keys(y).map((function(e){d.push(new f.f({Name:e,Value:y[e]}))}));var w=e.validationData;w&&(h=[],Object.keys(w).map((function(e){h.push(new f.f({Name:e,Value:w[e]}))}))),(p=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),v=null!==(n=p.validationData)&&void 0!==n?n:{},m=null!==(i=p.clientMetaData)&&void 0!==i?i:{})}return u?l?(L.debug("signUp attrs:",d),L.debug("signUp validation data:",h),new Promise((function(e,t){o.userPool.signUp(u,l,d,h,(function(n,r){n?(B("signUp_failure",n,u+" failed to signup"),t(n)):(B("signUp",r,u+" has signed up successfully"),p.enabled&&o.handleAutoSignIn(u,l,v,m,r),e(r))}),c)}))):this.rejectAuthError(r.a.EmptyPassword):this.rejectAuthError(r.a.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,i){this.autoSignInInitiated=!0;var o=new f.a({Username:e,Password:t,ValidationData:n,ClientMetadata:r});i.userConfirmed?this.signInAfterUserConfirmed(o):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(o):this.handleCodeAutoSignIn(o)},e.prototype.handleCodeAutoSignIn=function(e){var t=this;o.a.listen("auth",(function n(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)}))},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),B("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return R(this,void 0,void 0,(function(){var r,i,a=this;return D(this,(function(s){switch(s.label){case 0:r=this.createCognitoUser(e.getUsername()),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){B("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&o.a.remove("auth",t),n&&(clearInterval(n),a._storage.removeItem("amplify-polling-started")),a._storage.removeItem("amplify-auto-sign-in")}),(function(e){L.error(e),a._storage.removeItem("amplify-auto-sign-in")})))];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),L.error(i),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e,t,n){var i=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.a.EmptyUsername);if(!t)return this.rejectAuthError(r.a.EmptyCode);var o,a=this.createCognitoUser(e),s=!n||"boolean"!==typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?o=n.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata),new Promise((function(n,c){a.confirmRegistration(t,s,(function(t,o){t?c(t):(B("confirmSignUp",o,e+" has been confirmed successfully"),i.isTrueStorageValue("amplify-auto-sign-in")&&!i.autoSignInInitiated&&(B("autoSignIn_failure",null,r.a.AutoSignInError),i._storage.removeItem("amplify-auto-sign-in")),n(o))}),o)}))},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.a.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,a={};if("string"===typeof e)i=e,o=t;else{if(!Object(r.g)(e))return this.rejectAuthError(r.a.InvalidUsername);"undefined"!==typeof t&&L.warn("The password should be defined under the first parameter object!"),i=e.username,o=e.password,a=e.validationData}if(!i)return this.rejectAuthError(r.a.EmptyUsername);var s=new f.a({Username:i,Password:o,ValidationData:a,ClientMetadata:n});return o?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return R(r,void 0,void 0,(function(){var r,a,s,c;return D(this,(function(u){switch(u.label){case 0:L.debug(o),delete e.challengeName,delete e.challengeParam,u.label=1;case 1:return u.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return u.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=u.sent(),L.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=u.sent(),L.debug("cannot get cognito credentials",a),[3,9];case 5:return u.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=u.sent(),i.user=s,B("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return c=u.sent(),L.error("Failed to get the signed in user",c),n(c),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){L.debug("signIn failure",t),B("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){L.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){L.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){L.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){L.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){L.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){L.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return L.debug("get MFA Options failed",e),void n(e);L.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return R(n,void 0,void 0,(function(){var n,s;return D(this,(function(c){switch(c.label){case 0:if(!t)return[3,5];if(L.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return c.sent(),[3,4];case 3:return n=c.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(i(s),[2]):(o("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":L.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,i){e.getUserData((function(t,o){return R(n,void 0,void 0,(function(){var n;return D(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(L.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return R(this,void 0,void 0,(function(){var n,i,o,a,s,c,u=this;return D(this,(function(l){switch(l.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(i=l.sent(),o=null,a=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return a={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return s=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if("NOMFA"===(c=l.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===c)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==c)return[2,this.rejectAuthError(r.a.InvalidMFA)];a={PreferredMfa:!1,Enabled:!1}}return s&&0!==s.length&&s.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(a={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return L.debug("no validmfa method provided"),[2,this.rejectAuthError(r.a.NoMFA)];case 7:return this,[2,new Promise((function(t,r){e.setUserMfaPreference(o,a,(function(i,o){if(i)return L.debug("Set user mfa preference error",i),r(i);L.debug("Set user mfa success",o),L.debug("Caching the latest user data into local"),e.getUserData((function(n,i){return R(u,void 0,void 0,(function(){var i;return D(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(L.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return L.debug("disable mfa failed",e),void n(e);L.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return L.debug("enable mfa failed",e),void n(e);L.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){L.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){L.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return L.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){L.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){B("signIn",e,"A user "+e.getUsername()+" has been signed in"),L.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,i){var o=this;if(void 0===i&&(i=this._config.clientMetadata),!t)return this.rejectAuthError(r.a.EmptyCode);var a=this;return new Promise((function(r,s){e.sendMFACode(t,{onSuccess:function(t){return R(o,void 0,void 0,(function(){var n,i;return D(this,(function(o){switch(o.label){case 0:L.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),L.debug("succeed to get cognito credentials",n),[3,6];case 4:return i=o.sent(),L.debug("cannot get cognito credentials",i),[3,6];case 5:return a.user=e,B("signIn",e,"A user "+e.getUsername()+" has been signed in"),r(e),[7];case 6:return[2]}}))}))},onFailure:function(e){L.debug("confirm signIn failure",e),s(e)}},n,i)}))},e.prototype.completeNewPassword=function(e,t,n,i){var o=this;if(void 0===n&&(n={}),void 0===i&&(i=this._config.clientMetadata),!t)return this.rejectAuthError(r.a.EmptyPassword);var a=this;return new Promise((function(r,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return R(o,void 0,void 0,(function(){var n,i;return D(this,(function(o){switch(o.label){case 0:L.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),L.debug("succeed to get cognito credentials",n),[3,6];case 4:return i=o.sent(),L.debug("cannot get cognito credentials",i),[3,6];case 5:return a.user=e,B("signIn",e,"A user "+e.getUsername()+" has been signed in"),r(e),[7];case 6:return[2]}}))}))},onFailure:function(e){L.debug("completeNewPassword failure",e),B("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){L.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,r(e)},mfaSetup:function(t,n){L.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,r(e)},totpRequired:function(t,n){L.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,r(e)}},i)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var i=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(r.a.EmptyChallengeResponse);return new Promise((function(r,o){e.sendCustomChallengeAnswer(t,i.authCallbacks(e,r,o),n)}))},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return R(this,void 0,void 0,(function(){var e,t,n=this;return D(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),L.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return R(n,void 0,void 0,(function(){var n,i=this;return D(this,(function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return L.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(o,a){return R(i,void 0,void 0,(function(){var i,a=this;return D(this,(function(s){switch(s.label){case 0:if(!o)return[3,5];if(L.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser((function(i,o){if(i)r(i);else{B("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(s){L.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(B("signOut",a.user,"A user has been signed out"),e(o))}})),s.label=6;case 6:return[2]}}))}))}))}else L.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise((function(o,a){i.userSession(e).then((function(i){for(var s in t)if("sub"!==s&&s.indexOf("_verified")<0){var c={Name:s,Value:t[s]};r.push(c)}e.updateAttributes(r,(function(e,t){return e?a(e):o(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return R(this,void 0,void 0,(function(){var t=this;return D(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),L.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(B("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return R(t,void 0,void 0,(function(){var t,i,a=this;return D(this,(function(s){switch(s.label){case 0:return this.isOAuthInProgress()?(L.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){L.debug("OAuth signIn in progress timeout"),o.a.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(L.debug("OAuth signIn resolved: "+i),clearTimeout(t),o.a.remove("auth",n),e())}o.a.listen("auth",n)}))]):[3,2];case 1:s.sent(),s.label=2;case 2:return(t=this.userPool.getCurrentUser())?(i=this._config.clientMetadata,t.getSession((function(i,o){return R(a,void 0,void 0,(function(){var a,s,c,u,l=this;return D(this,(function(d){switch(d.label){case 0:if(!i)return[3,5];if(L.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return a=d.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+a.message)),[2];case 4:return r(i),[2];case 5:return(s=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:d.sent(),d.label=7;case 7:return c=this._config.clientMetadata,u=o.getAccessToken().decodePayload().scope,(void 0===u?"":u).split(" ").includes(F)?(t.getUserData((function(e,i){return R(l,void 0,void 0,(function(){var o,a,s,c,u,l,d;return D(this,(function(h){switch(h.label){case 0:if(!e)return[3,7];if(L.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return h.sent(),[3,4];case 3:return o=h.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),h.label=6;case 6:return[2];case 7:for(a=i.PreferredMfaSetting||"NOMFA",s=[],c=0;c<i.UserAttributes.length;c++)u={Name:i.UserAttributes[c].Name,Value:i.UserAttributes[c].Value},l=new f.f(u),s.push(l);return d=this.attributesToObject(s),Object.assign(t,{attributes:d,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:s,clientMetadata:c}),[2]):(L.debug("Unable to get the user data because the "+F+" is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:i}),[2]):(L.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return L.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return R(this,void 0,void 0,(function(){var t,n,r,i,o;return D(this,(function(a){switch(a.label){case 0:L.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),L.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=j(j({},r.user),{token:r.token}))}catch(s){L.debug("cannot load federated user from auth storage")}return t?(this.user=t,L.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:L.debug("get current authenticated userpool user"),i=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=a.sent(),[3,9];case 8:return"No userPool"===(o=a.sent())&&L.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),L.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return L.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){L.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){L.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype.userSession=function(e){var t=this;if(!e)return L.debug("the user is null"),this.rejectAuthError(r.a.NoUserSession);var n=this._config.clientMetadata;return new Promise((function(r,i){L.debug("Getting the session from this user:",e),e.getSession((function(n,o){return R(t,void 0,void 0,(function(){var t;return D(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(L.debug("Failed to get the session from user",e),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return t=a.sent(),i(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+t.message)),[2];case 4:return i(n),[2];case 5:return L.debug("Succeed to get the user session",o),r(o),[2]}}))}))}),{clientMetadata:n})}))},e.prototype.currentUserCredentials=function(){return R(this,void 0,void 0,(function(){var e,t,n=this;return D(this,(function(r){switch(r.label){case 0:L.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),L.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(i){L.debug("failed to get or parse item aws-amplify-federatedInfo",i)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return L.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return L.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return L.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(r.a.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return R(this,void 0,void 0,(function(){var n,r,i=this;return D(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),L.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){L.debug("user global sign out",t);var a=i._config.clientMetadata;t.getSession((function(e,a){return R(i,void 0,void 0,(function(){var i,a=this;return D(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(L.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(L.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,o)},onFailure:function(e){return L.debug("global sign out failed",e),o(e)}}),[2]}}))}))}),{clientMetadata:a})}else L.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){Object(l.a)().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return R(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),L.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:L.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:L.debug("no Cognito User pool"),n.label=8;case 8:return B("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return R(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,a){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(L.debug("change password failure",e),a(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.a.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){L.debug("forgot password failure",t),B("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){B("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,i){if(void 0===i&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(r.a.EmptyUsername);if(!t)return this.rejectAuthError(r.a.EmptyCode);if(!n)return this.rejectAuthError(r.a.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(r,a){o.confirmPassword(t,n,{onSuccess:function(t){B("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),r(t)},onFailure:function(t){B("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},i)}))},e.prototype.currentUserInfo=function(){return R(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return D(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return L.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return i=s.sent(),L.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return o=s.sent(),L.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return R(this,void 0,void 0,(function(){var i,o,a,s,c,u,l,d,f,h,p;return D(this,(function(v){switch(v.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if("undefined"===typeof e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Object(r.e)(e)||Object(r.f)(e)||Object(r.c)(e)||"undefined"===typeof e?(i=e||{provider:r.b.Cognito},c=Object(r.e)(i)?i.provider:i.customProvider,Object(r.e)(i),o=i.customState,this._config.userPoolId&&(a=Object(r.d)(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=Object(r.d)(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,a,c,o)),[3,4]):[3,1];case 1:c=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&L.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(m){}return l=t.token,d=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:c,token:l,identity_id:d,user:n,expires_at:f},"federation")];case 2:return h=v.sent(),[4,this.currentAuthenticatedUser()];case 3:return p=v.sent(),B("signIn",p,"A user "+p.username+" has been signed in"),L.debug("federated sign in credentials",h),[2,h];case 4:return[2]}}))}))},e.prototype._handleAuthResponse=function(e){return R(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,d,p,v,m,g;return D(this,(function(b){switch(b.label){case 0:if(this.oAuthFlowInProgress)return L.debug("Skipping URL "+e+" current flow in progress"),[2];b.label=1;case 1:if(b.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(B("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(Object(l.a)().isBrowser?window.location.href:""),n=!!(Object(h.parse)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=N(e,1)[0];return"code"===t||"error"===t})),r=!!(Object(h.parse)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=N(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),b.label=2;case 2:return b.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=b.sent(),o=i.accessToken,a=i.idToken,s=i.refreshToken,c=i.state,u=new f.h({IdToken:new f.c({IdToken:a}),RefreshToken:new f.d({RefreshToken:s}),AccessToken:new f.b({AccessToken:o})}),d=void 0,this._config.identityPoolId?[4,this.Credentials.set(u,"session")]:[3,5];case 4:d=b.sent(),L.debug("AWS credentials",d),b.label=5;case 5:return p=/-/.test(c),(v=this.createCognitoUser(u.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(u),window&&"undefined"!==typeof window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),B("signIn",v,"A user "+v.getUsername()+" has been signed in"),B("cognitoHostedUI",v,"A user "+v.getUsername()+" has been signed in via Cognito Hosted UI"),p&&(m=c.split("-").splice(1).join("-"),B("customOAuthState",m.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+v.getUsername())),[2,d];case 6:return g=b.sent(),L.debug("Error in cognito hosted auth response",g),window&&"undefined"!==typeof window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),B("signIn_failure",g,"The OAuth response flow failed"),B("cognitoHostedUI_failure",g,"A failure occurred when returning to the Cognito Hosted UI"),B("customState_failure",g,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"===typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new f.e(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"===typeof e.getItem&&"function"===typeof e.setItem&&"function"===typeof e.removeItem&&"function"===typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?r.a.NoConfig:r.a.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new A(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new M(e))},e.prototype.rememberDevice=function(){return R(this,void 0,void 0,(function(){var e,t;return D(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),L.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new A(r.a.DeviceConfig)):"NetworkError"===e.code?n(new A(r.a.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return R(this,void 0,void 0,(function(){var e,t;return D(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),L.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new A(r.a.DeviceConfig)):"NetworkError"===e.code?n(new A(r.a.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return R(this,void 0,void 0,(function(){var e,t;return D(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),L.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var i={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new A(r.a.DeviceConfig)):"NetworkError"===e.code?n(new A(r.a.NetworkError)):n(e)}};e.listDevices(60,null,i)}))]}}))}))},e}(),z=new V(null);d.a.register(z)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";e.exports=n(484)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(333).__exportStar(n(542),t)},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},,,function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(73),s=function(){function e(t){i(this,e),this.selfAttendeeId=t,this.reset()}return o(e,[{key:"reset",value:function(){this.optimalReceiveSet=new a.default,this.subscribedReceiveSet=new a.default,this.videoSources=void 0}},{key:"updateIndex",value:function(e){this.videoIndex=e,this.optimalReceiveSet=this.calculateOptimalReceiveSet(e)}},{key:"updateMetrics",value:function(e){}},{key:"wantsResubscribe",value:function(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}},{key:"chooseSubscriptions",value:function(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}},{key:"chooseRemoteVideoSources",value:function(e){this.videoSources=e,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}},{key:"calculateOptimalReceiveSet",value:function(e){var t=new a.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return t;var n=e.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId);if(void 0===this.videoSources)return n;var i,o=this.videoIndex.remoteStreamDescriptions(),s=new Map,c=r(o);try{for(c.s();!(i=c.n()).done;){var u=i.value;n.contain(u.streamId)&&s.set(u.attendeeId,u.streamId)}}catch(h){c.e(h)}finally{c.f()}var l,d=r(this.videoSources);try{for(d.s();!(l=d.n()).done;){var f=l.value.attendee.attendeeId;s.has(f)&&t.add(s.get(f))}}catch(h){d.e(h)}finally{d.f()}return t}}]),e}();t.default=s},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(134),l=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="AttachMediaInputTask",r}return o(n,[{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n,i,o,a,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.context.transceiverController).setPeer(this.context.peer),t.setupLocalTransceivers(),!(n=this.context.activeAudioInput)){e.next=11;break}return i=n.getAudioTracks(),this.context.logger.info("attaching audio track to peer connection"),e.next=9,t.setAudioInput(i.length?i[0]:null);case 9:e.next=14;break;case 11:return e.next=13,t.setAudioInput(null);case 13:this.context.logger.info("no audio track");case 14:if(!(o=this.context.activeVideoInput)){e.next=25;break}return a=o.getVideoTracks(),s=a.length?a[0]:null,this.context.logger.info("attaching video track to peer connection"),e.next=21,t.setVideoInput(s);case 21:this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy&&(c=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),t.setEncodingParameters(c)),s&&(this.context.statsCollector.logVideoEvent(u.default.InputAttached,this.context.videoDeviceInformation),this.context.videoInputAttachedTimestampMs=Date.now()),e.next=28;break;case 25:return e.next=27,t.setVideoInput(null);case 27:this.context.logger.info("no video track");case 28:this.context.videoSubscriptions=t.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive);case 29:case"end":return e.stop()}}),e,this)})))}}]),n}(n(19).default);t.default=l},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(48),s=n(47),c=function(){function e(t,n,r){i(this,e),this.logger=t,this.task=n,this.dependencies=r,this.canceled=!1}return o(e,[{key:"name",value:function(){return"".concat(this.task.name()," (once)")}},{key:"cancel",value:function(){var e=this;if(!this.canceled){if(this.dependencies){var t,n=r(this.dependencies);try{for(n.s();!(t=n.n()).done;){t.value.cancel()}}catch(i){n.e(i)}finally{n.f()}}this.logger.info("Canceling ".concat(this.name())),s.default.nextTick((function(){return e.task.cancel()})),this.canceled=!0,this.cancelPromise&&s.default.nextTick((function(){return e.cancelPromise(new Error("canceling ".concat(e.name())))}))}}},{key:"logDependencies",value:function(){if(!(this.logger.getLogLevel()>a.default.INFO)&&this.dependencies){var e=this.dependencies.filter((function(e){return e})).map((function(e){return e.name()})).join(", ");this.logger.info("".concat(this.task.name()," waiting for dependencies: ").concat(e))}}},{key:"run",value:function(){var e=this;if(this.promise)return this.promise;var t=this.dependencies?Promise.all(this.dependencies.map((function(e){return null===e||void 0===e?void 0:e.run()}))):Promise.resolve();return this.logDependencies(),this.ongoing=t.then((function(){return e.task.run()})),this.promise=new Promise((function(t,n){e.cancelPromise=n,e.ongoing.then(t).catch(n)}))}},{key:"setParent",value:function(e){this.task.setParent(e)}}]),e}();t.default=c},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,e),this.audioBitrateBps=t}return i(e,[{key:"isStereo",value:function(){return 128e3===this.audioBitrateBps}}],[{key:"fullbandSpeechMono",value:function(){return new e(4e4)}},{key:"fullbandMusicMono",value:function(){return new e(64e3)}},{key:"fullbandMusicStereo",value:function(){return new e(128e3)}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.logger=null,this.browserBehavior=null,this.signalingClient=null,this.meetingSessionConfiguration=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.audioMixController=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.videoSubscriptionLimit=25,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}));t.default=o},function(e,t,n){var r=n(43);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e,t,n){if(!n)return fetch(e,t);var r=o(e,n),a=i(t,n);return fetch(r,a)}function i(e,t){return(null===t||void 0===t?void 0:t.headers)?e?Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers||{}),t.headers)}):{headers:t.headers}:e}function o(e,t){if(!(null===t||void 0===t?void 0:t.escapedQueryString))return e;var n=-1!==e.lastIndexOf("?");return"".concat(e).concat(n?"&":"?").concat(t.escapedQueryString)}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRevisionID=t.isValidAssetGroup=t.resolveURL=t.addQueryParams=t.withQueryString=t.withRequestHeaders=t.fetchWithBehavior=void 0,t.fetchWithBehavior=r,t.withRequestHeaders=i,t.withQueryString=o,t.addQueryParams=function(e,t){var n=Object.keys(t);if(!n.length)return e;for(var r=new URLSearchParams(null===e||void 0===e?void 0:e.escapedQueryString),i=0,o=n;i<o.length;i++){var a=o[i];r.append(a,t[a])}return Object.assign(Object.assign({},e),{escapedQueryString:r.toString()})};var a={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};t.resolveURL=function(e,t){return r(e,a,t).then((function(t){return t.redirected?t.url:e}))},t.isValidAssetGroup=function(e){return!!e&&/^[-.a-zA-Z0-9]+$/.test(e)},t.isValidRevisionID=function(e){return!!e&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(e)}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e),this.path=null,this.input=null,this.output=null}return i(e,[{key:"withDefaultModel",value:function(){return this.withSelfieSegmentationDefaults()}},{key:"withSelfieSegmentationDefaults",value:function(){return this.path="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite",this.input={height:144,width:256,range:[0,1],channels:3},this.output={height:144,width:256,range:[0,1],channels:1},this}},{key:"withPath",value:function(e){return this.path=e,this}},{key:"withInput",value:function(e){return this.input=e,this}},{key:"withOutput",value:function(e){return this.output=e,this}},{key:"validate",value:function(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}},{key:"build",value:function(){return this.validate(),{path:this.path,input:this.input,output:this.output}}}],[{key:"builder",value:function(){return new e}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(57).default,s=n(43).default,c=n(9).default,u=n(10).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(187),f=n(106),h=n(386),p=function(e){c(n,e);var t=u(n);function n(e,r){var o;return i(this,n),(o=t.call(this,"background blur",e,r,new h.default)).blurAmount=0,o.setBlurStrength(r.blurStrength),o.logger.info("BackgroundBlur processor successfully created"),o.logger.info("BackgroundBlur spec: ".concat(o.stringify(o.spec))),o.logger.info("BackgroundBlur options: ".concat(o.stringify(r))),o}return o(n,[{key:"validateOptions",value:function(e){if(a(s(n.prototype),"validateOptions",this).call(this,e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}},{key:"initOnFirstExecution",value:function(){this.setBlurPixels()}},{key:"drawImageWithMask",value:function(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);var n=this.canvasCtx,r=this.targetCanvas,i=r.width,o=r.height;n.save(),n.clearRect(0,0,i,o),n.drawImage(this.scaledCanvas,0,0,i,o),n.globalCompositeOperation="source-in",n.drawImage(e,0,0,i,o),n.globalCompositeOperation="destination-over",n.filter="blur(".concat(this.blurAmount,"px)"),n.drawImage(e,0,0,r.width,r.height),n.restore()}},{key:"setBlurStrength",value:function(e){this._blurStrength=e,this.logger.info("blur strength set to ".concat(this._blurStrength)),this.setBlurPixels()}},{key:"setBlurPixels",value:function(){this.blurAmount=f.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info("background blur amount set to ".concat(this.blurAmount))}},{key:"addObserver",value:function(e){this.delegate.addObserver(e)}},{key:"removeObserver",value:function(e){this.delegate.removeObserver(e)}}],[{key:"isSupported",value:function(){return l(this,void 0,void 0,r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.createElement("canvas"),n=void 0!==t.getContext("2d").filter,t.remove(),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))}}]),n}(d.default);t.default=p},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundFilterMonitor=void 0;var s=n(91),c=n(140),u=n(385),l=function(){function e(){i(this,e),this.value=void 0,this.resolve=null}return o(e,[{key:"whenNext",value:function(){var e=this;return this.promise||(this.promise=new Promise((function(t){return e.resolve=t}))),this.promise}},{key:"next",value:function(e){this.value=e,this.resolve(e),delete this.promise}}]),e}(),d=function(){function e(t,n,r,o){i(this,e),this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new c.default(this.targetCanvas),this.mask$=new l,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=e.createWorkerPromise(),this.loadModelPromise=e.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=t,this.validateSpec(n),this.validateOptions(r),this.spec=n,this.logger=r.logger,this.delegate=o,this.initCPUMonitor(r)}return o(e,[{key:"validateSpec",value:function(e){if(!e)throw new Error("processor has null spec");if(!e.model)throw new Error("processor spec has null model");if(!e.paths)throw new Error("processor spec has null paths")}},{key:"validateOptions",value:function(e){if(!e)throw new Error("processor has null options");if(!e.logger)throw new Error("processor has null options - logger");if(!e.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!e.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}},{key:"initCPUMonitor",value:function(e){var t=this;this.videoFramesPerFilterUpdate=1,this.frameCounter=new u.default(this.delegate,e.reportingPeriodMillis,e.filterCPUUtilization,this.logger),this.cpuMonitor=new f(5e3,{reduceCPUUtilization:function(){t.updateVideoFramesPerFilterUpdate(Math.min(t.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:function(){t.updateVideoFramesPerFilterUpdate(Math.max(t.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}},{key:"stringify",value:function(e){return JSON.stringify(e,null,2)}},{key:"handleInitialize",value:function(e){if(this.logger.info("received initialize message: ".concat(this.stringify(e))),!e.payload)return this.logger.error("failed to initialize module"),void this.initWorkerPromise.reject(new Error("failed to initialize the module"));var t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}},{key:"handleLoadModel",value:function(e){if(this.logger.info("received load model message: ".concat(this.stringify(e))),2!==e.payload)return this.logger.error("failed to load model! status: "+e.payload),void this.loadModelPromise.reject(new Error("failed to load model! status: "+e.payload));this.modelInitialized=!0,this.loadModelPromise.resolve({})}},{key:"handlePredict",value:function(e){this.mask$.next(e.payload.output)}},{key:"handleWorkerEvent",value:function(e){var t=e.data;switch(t.msg){case"initialize":this.handleInitialize(t);break;case"loadModel":this.handleLoadModel(t);break;case"predict":this.handlePredict(t);break;default:this.logger.info("unexpected event msg: ".concat(this.stringify(t)))}}},{key:"loadAssets",value:function(){return a(this,void 0,void 0,r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("start initializing the processor"),e.prev=1,e.next=4,s.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null);case 4:return this.worker=e.sent,this.worker.addEventListener("message",(function(e){return t.handleWorkerEvent(e)})),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),e.next=9,this.initWorkerPromise.promise;case 9:return this.logger.info("successfully initialized the ".concat(this.filterType," worker")),e.next=12,this.loadModelPromise.promise;case 12:this.logger.info("successfully loaded ".concat(this.filterType," worker segmentation model")),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),new Error("could not initialize the ".concat(this.filterType," video frame processor due to '").concat(e.t0.message,"'"));case 18:this.logger.info("successfully initialized the ".concat(this.filterType," processor"));case 19:case"end":return e.stop()}}),e,this,[[1,15]])})))}},{key:"process",value:function(e){return a(this,void 0,void 0,r().mark((function t(){var n,i,o,a,s,c,u,l,d;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.destroyed){t.next=2;break}return t.abrupt("return",e);case 2:if(this.frameCounter.frameReceived(e[0].framerate),this.cpuMonitor.frameReceived(),n=e[0].asCanvasElement()){t.next=7;break}return t.abrupt("return",e);case 7:if(this.modelInitialized){t.next=10;break}return e[0]=this.canvasVideoFrameBuffer,t.abrupt("return",e);case 10:if(i=n.width,o=n.height,0!==i&&0!==o){t.next=14;break}return t.abrupt("return",e);case 14:if(0===this.sourceWidth&&(this.sourceWidth=i,this.sourceHeight=o,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info("".concat(this.filterType," source width: ").concat(this.sourceWidth)),this.logger.info("".concat(this.filterType," source height: ").concat(this.sourceHeight)),this.initOnFirstExecution()),this.sourceWidth===i&&this.sourceHeight===o||(this.sourceWidth=i,this.sourceHeight=o,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight),t.prev=16,this.frameCounter.filterSubmitted(),a=this.mask$.value,s=this.spec.model.input.width/n.width,c=this.spec.model.input.height/n.height,void 0===this.scaledCanvas&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height),(u=this.scaledCanvas.getContext("2d")).save(),u.scale(s,c),u.drawImage(n,0,0),u.restore(),l=u.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height),this.frameNumber%this.videoFramesPerFilterUpdate!==0){t.next=34;break}return d=this.mask$.whenNext(),this.worker.postMessage({msg:"predict",payload:l},[l.data.buffer]),t.next=33,d;case 33:a=t.sent;case 34:this.destroyed||this.drawImageWithMask(n,a),t.next=41;break;case 37:return t.prev=37,t.t0=t.catch(16),this.logger.error("could not process ".concat(this.filterType," frame buffer due to ").concat(t.t0)),t.abrupt("return",e);case 41:return t.prev=41,this.frameCounter.filterComplete(),this.frameNumber++,t.finish(41);case 45:return e[0]=this.canvasVideoFrameBuffer,t.abrupt("return",e);case 47:case"end":return t.stop()}}),t,this,[[16,37,41,45]])})))}},{key:"updateVideoFramesPerFilterUpdate",value:function(e){e!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=e,this.logger.info("Adjusting filter rate to compensate for CPU utilization. "+"Filter rate is ".concat(this.videoFramesPerFilterUpdate," video frames per filter.")))}},{key:"destroy",value:function(){var e,t,n,i;return a(this,void 0,void 0,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),null===(e=this.worker)||void 0===e||e.postMessage({msg:"destroy"}),null===(t=this.worker)||void 0===t||t.postMessage({msg:"stop"}),null===(n=this.targetCanvas)||void 0===n||n.remove(),this.targetCanvas=void 0,null===(i=this.scaledCanvas)||void 0===i||i.remove(),this.scaledCanvas=void 0,this.logger.info("".concat(this.filterType," frame process destroyed"));case 10:case"end":return r.stop()}}),o,this)})))}}],[{key:"createWorkerPromise",value:function(){var e={resolve:null,reject:null,promise:null};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}}]),e}();t.default=d;var f=function(){function e(t,n){i(this,e),this.monitoringPeriodMillis=t,this.observer=n,this.lastCPUChangeTimestamp=0}return o(e,[{key:"filterCPUUtilizationHigh",value:function(){var e=Date.now();e-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=e,this.observer.reduceCPUUtilization())}},{key:"frameReceived",value:function(){var e=Date.now();e-this.lastCPUChangeTimestamp>=2*this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=e,this.observer.increaseCPUUtilization())}}]),e}();t.BackgroundFilterMonitor=f},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){i(this,e),this.observers=new Set}return o(e,[{key:"addObserver",value:function(e){this.observers.add(e)}},{key:"removeObserver",value:function(e){this.observers.delete(e)}},{key:"filterFrameDurationHigh",value:function(e){var t,n,i=r(this.observers);try{for(i.s();!(n=i.n()).done;){var o=n.value;null===(t=o.filterFrameDurationHigh)||void 0===t||t.call(o,e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"filterCPUUtilizationHigh",value:function(e){var t,n,i=r(this.observers);try{for(i.s();!(n=i.n()).done;){var o=n.value;null===(t=o.filterCPUUtilizationHigh)||void 0===t||t.call(o,e)}}catch(a){i.e(a)}finally{i.f()}}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.AudioInputRequestFailed=1]="AudioInputRequestFailed",e[e.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.AudioNotReceived=4]="AudioNotReceived"}(r=t.CheckAudioConnectivityFeedback||(t.CheckAudioConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(r=t.CheckAudioInputFeedback||(t.CheckAudioInputFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioOutputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed"}(r=t.CheckAudioOutputFeedback||(t.CheckAudioOutputFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCameraResolutionFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.ResolutionNotSupported=2]="ResolutionNotSupported",e[e.PermissionDenied=3]="PermissionDenied"}(r=t.CheckCameraResolutionFeedback||(t.CheckCameraResolutionFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckContentShareConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied",e[e.TimedOut=3]="TimedOut",e[e.ConnectionFailed=4]="ConnectionFailed"}(r=t.CheckContentShareConnectivityFeedback||(t.CheckContentShareConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkTCPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(r=t.CheckNetworkTCPConnectivityFeedback||(t.CheckNetworkTCPConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkUDPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(r=t.CheckNetworkUDPConnectivityFeedback||(t.CheckNetworkUDPConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.VideoInputRequestFailed=1]="VideoInputRequestFailed",e[e.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.VideoNotSent=4]="VideoNotSent"}(r=t.CheckVideoConnectivityFeedback||(t.CheckVideoConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(r=t.CheckVideoInputFeedback||(t.CheckVideoInputFeedback={})),t.default=r},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="CleanRestartedSessionTask",r}return o(n,[{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.context.peer&&this.context.peer.close(),this.context.transceiverController.reset(),this.context.peer=null,this.context.videoDownlinkBandwidthPolicy.reset(),this.context.videoUplinkBandwidthPolicy.reset&&this.context.videoUplinkBandwidthPolicy.reset(),this.context.iceCandidateHandler=null,this.context.iceCandidates=[],this.context.previousSdpOffer=null;case 8:case"end":return e.stop()}}),e,this)})))}}]),n}(n(19).default);t.default=u},function(e,t,n){"use strict";var r=n(7).default,i=n(12).default,o=n(2).default,a=n(3).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(29),d=function(e){s(n,e);var t=c(n);function n(e){var r;return o(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="CleanStoppedSessionTask",r.taskCanceler=null,r}return a(n,[{key:"cancel",value:function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}},{key:"run",value:function(){return u(this,void 0,void 0,r().mark((function e(){var t,n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.context.signalingClient.ready()){e.next=5;break}return this.context.signalingClient.closeConnection(),e.next=5,this.receiveWebSocketClosedEvent();case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:e.prev=10,t=i(this.context.removableObservers);try{for(t.s();!(n=t.n()).done;)n.value.removeObserver()}catch(r){t.e(r)}finally{t.f()}return this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.peer&&this.context.peer.close(),this.context.peer=null,this.context.sdpAnswer=null,this.context.sdpOfferInit=null,this.context.indexFrame=null,this.context.videoDownlinkBandwidthPolicy.reset(),this.context.videoUplinkBandwidthPolicy.reset&&this.context.videoUplinkBandwidthPolicy.reset(),this.context.iceCandidateHandler=null,this.context.iceCandidates=[],this.context.turnCredentials=null,this.context.videoSubscriptions=null,this.context.transceiverController.reset(),this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0),(o=this.context.videoTileController.getLocalVideoTile())&&o.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles(),e.finish(10);case 35:case"end":return e.stop()}}),e,this,[[0,7,10,35]])})))}},{key:"receiveWebSocketClosedEvent",value:function(){var e=this;return new Promise((function(t,n){var r=new(function(){function e(t){o(this,e),this.signalingClient=t}return a(e,[{key:"cancel",value:function(){this.signalingClient.removeObserver(this),n(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}},{key:"handleSignalingClientEvent",value:function(e){e.type===l.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),t())}}]),e}())(e.context.signalingClient);e.taskCanceler=r,e.context.signalingClient.registerObserver(r)}))}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),a=n(92),s=n(93),c=n(204),u=function(){function e(t,n,i){var u=this;r(this,e),this.logger=t,this.videoStreamIndex=n,this.selfAttendeeId=i,this.globalMetricReport=new c.default,this.streamMetricReports={},this.rtcStatsReport={},this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.identityValue=function(e,t){var n=t?u.streamMetricReports[t]:u.globalMetricReport;return Number(n.currentMetrics[e])},this.decoderLossPercent=function(e,t){var n=u.streamMetricReports[t],r=n.currentMetrics.concealedSamples-(n.previousMetrics.concealedSamples||0),i=n.currentMetrics.totalSamplesReceived-(n.previousMetrics.totalSamplesReceived||0);return i<=0||i-r<=0?0:r/i*100},this.packetLossPercent=function(e,t){var n=u.streamMetricReports[t],r=n.currentMetrics[e]-(n.previousMetrics[e]||0),i=n.currentMetrics.packetsLost-(n.previousMetrics.packetsLost||0),o=r+i;return o<=0||i<=0?0:100*i/o},this.jitterBufferMs=function(e,t){var n=u.streamMetricReports[t],r=n.currentMetrics.jitterBufferDelay-(n.previousMetrics.jitterBufferDelay||0),i=n.currentMetrics.jitterBufferEmittedCount-(n.previousMetrics.jitterBufferEmittedCount||0);return r<=0||i<=0?0:r/i*1e3},this.countPerSecond=function(e,t){var n=t?u.streamMetricReports[t]:u.globalMetricReport,r=(u.currentTimestampMs-u.previousTimestampMs)/1e3;if(r<=0)return 0;u.previousTimestampMs<=0&&(r=1);var i=n.currentMetrics[e]-(n.previousMetrics[e]||0);return i<=0?0:Math.trunc(i/r)},this.bitsPerSecond=function(e,t){var n=t?u.streamMetricReports[t]:u.globalMetricReport,r=(u.currentTimestampMs-u.previousTimestampMs)/1e3;if(r<=0)return 0;u.previousTimestampMs<=0&&(r=1);var i=8*(n.currentMetrics[e]-(n.previousMetrics[e]||0));return i<=0?0:Math.trunc(i/r)},this.secondsToMilliseconds=function(e,t){var n=t?u.streamMetricReports[t]:u.globalMetricReport;return Number(1e3*n.currentMetrics[e])},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:o.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:o.SdkMetric.Type.STUN_RTT_MS}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:o.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:o.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:o.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:o.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:o.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:o.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:o.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:o.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:o.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:o.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:o.SdkMetric.Type.RTC_SPK_BITRATE}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:o.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:o.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:o.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds}},this.videoDownstreamMetricMap={totalDecodeTime:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_DECODE_MS},packetsReceived:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:o.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:o.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:o.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:o.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:o.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:o.SdkMetric.Type.VIDEO_DECODE_WIDTH}},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:s.default.VIDEO,dir:a.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:s.default.VIDEO,dir:a.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:s.default.VIDEO,dir:a.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:s.default.VIDEO,dir:a.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:s.default.VIDEO,dir:a.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:s.default.VIDEO,dir:a.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:s.default.VIDEO,dir:a.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:s.default.VIDEO,dir:a.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:s.default.AUDIO,dir:a.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:s.default.AUDIO,dir:a.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:s.default.AUDIO,dir:a.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:s.default.AUDIO,dir:a.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:s.default.AUDIO,dir:a.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:s.default.AUDIO,dir:a.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:s.default.VIDEO,dir:a.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:s.default.VIDEO,dir:a.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:s.default.AUDIO,dir:a.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:s.default.AUDIO,dir:a.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:s.default.AUDIO,dir:a.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:s.default.VIDEO,dir:a.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"}}}return i(e,[{key:"getMetricMap",value:function(e,t){switch(e){case s.default.AUDIO:switch(t){case a.default.UPSTREAM:return this.audioUpstreamMetricMap;case a.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case s.default.VIDEO:switch(t){case a.default.UPSTREAM:return this.videoUpstreamMetricMap;case a.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}},{key:"getObservableMetricValue",value:function(e){var t=this.observableMetricSpec[e],n=this.getMetricMap(t.media,t.dir)[t.source],r=n.transform,i=n.source;if(!t.hasOwnProperty("media"))return r(i||t.source);for(var o in this.streamMetricReports){var a=this.streamMetricReports[o];if(a.direction===t.dir&&a.mediaType===t.media)return r(i||t.source,Number(o))}return 0}},{key:"getObservableVideoMetricValue",value:function(e,t){var n=this.observableVideoMetricSpec[e],r=this.getMetricMap(n.media,n.dir)[n.source],i=r.transform,o=r.source;return i(o||n.source,t)}},{key:"getObservableMetrics",value:function(){var e={};for(var t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}},{key:"getObservableVideoMetrics",value:function(){var e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(var t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===s.default.VIDEO){var n={};for(var r in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[r].dir===this.streamMetricReports[t].direction){var i=this.getObservableVideoMetricValue(r,Number(t));isNaN(i)||(n[r]=i)}var o=this.streamMetricReports[t].streamId,a=o?this.videoStreamIndex.attendeeIdForStreamId(o):this.selfAttendeeId;e[a]=e[a]?e[a]:{},e[a][t]=n}return e}},{key:"getRTCStatsReport",value:function(){return this.rtcStatsReport}},{key:"clone",value:function(){var t=new e(this.logger,this.videoStreamIndex,this.selfAttendeeId);return t.globalMetricReport=this.globalMetricReport,t.streamMetricReports=this.streamMetricReports,t.rtcStatsReport=this.rtcStatsReport,t.currentTimestampMs=this.currentTimestampMs,t.previousTimestampMs=this.previousTimestampMs,t}},{key:"print",value:function(){var e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug((function(){return"Client Metric Report: ".concat(JSON.stringify(e))}))}},{key:"removeDestroyedSsrcs",value:function(){for(var e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}}]),e}();t.default=u},function(e,t,n){"use strict";e.exports=d;var r,i=n(61),o=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function h(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function v(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=f(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(v,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(v,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(v,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=f(),r._configure()}},function(e,t,n){"use strict";e.exports=c;var r,i=n(61),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=l(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.previousMetrics={},this.currentMetrics={}}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e),this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}return i(e,[{key:"setConnectionStartTime",value:function(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},{key:"reset",value:function(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},{key:"isConnectionStartRecent",value:function(t){return e.isTimestampRecent(this.connectionStartTimestampMs,t)}},{key:"isLastPacketLossRecent",value:function(t){return e.isTimestampRecent(this.lastPacketLossInboundTimestampMs,t)}},{key:"isGoodSignalRecent",value:function(t){return e.isTimestampRecent(this.lastGoodSignalTimestampMs,t)}},{key:"isWeakSignalRecent",value:function(t){return e.isTimestampRecent(this.lastWeakSignalTimestampMs,t)}},{key:"isNoSignalRecent",value:function(t){return e.isTimestampRecent(this.lastNoSignalTimestampMs,t)}},{key:"clone",value:function(){var t=new e;return t.connectionStartTimestampMs=this.connectionStartTimestampMs,t.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,t.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,t.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,t.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,t.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,t.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,t.consecutiveMissedPongs=this.consecutiveMissedPongs,t.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),t.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),t.audioSpeakerDelayMs=this.audioSpeakerDelayMs,t}},{key:"setConsecutiveMissedPongs",value:function(e){this.consecutiveMissedPongs=e}},{key:"setConsecutiveStatsWithNoPackets",value:function(e){this.consecutiveStatsWithNoPackets=e}},{key:"setConsecutiveStatsWithNoAudioPacketsSent",value:function(e){this.consecutiveStatsWithNoAudioPacketsSent=e}},{key:"setLastPacketLossInboundTimestampMs",value:function(e){this.lastPacketLossInboundTimestampMs=e}},{key:"setLastNoSignalTimestampMs",value:function(e){this.lastNoSignalTimestampMs=e}},{key:"setLastWeakSignalTimestampMs",value:function(e){this.lastWeakSignalTimestampMs=e}},{key:"setLastGoodSignalTimestampMs",value:function(e){this.lastGoodSignalTimestampMs=e}},{key:"setAudioSpeakerDelayMs",value:function(e){this.audioSpeakerDelayMs=e}}],[{key:"isTimestampRecent",value:function(e,t){return Date.now()<e+t}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}));t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(31),c=n(142),u=function(){function e(t){i(this,e),this.logger=t}return o(e,[{key:"mediaStream",get:function(){return this._mediaStream},set:function(e){this._mediaStream=e}},{key:"acquireAudioInputStream",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._mediaStream.getAudioTracks().length){e.next=3;break}return this.logger.info("No audio stream available. Synthesizing an audio stream."),e.abrupt("return",c.default.synthesizeAudioDevice(0));case 3:return e.abrupt("return",this._mediaStream);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"acquireVideoInputStream",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._mediaStream);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"acquireDisplayInputStream",value:function(e){return a(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&e.video&&e.video.mandatory&&e.video.mandatory.chromeMediaSource&&e.video.mandatory.chromeMediaSourceId)){t.next=2;break}return t.abrupt("return",navigator.mediaDevices.getUserMedia(e));case 2:return t.abrupt("return",navigator.mediaDevices.getDisplayMedia(e));case 3:case"end":return t.stop()}}),t)})))}},{key:"acquireScreenCaptureDisplayInputStream",value:function(e,t){return a(this,void 0,void 0,r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(e,t)));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"screenCaptureDisplayMediaConstraints",value:function(t,n){return{audio:!(t||!(new s.default).getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!t&&{frameRate:{max:n||e.defaultFrameRate}}),t&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:n||e.defaultFrameRate}})}}},{key:"toggleMediaStream",value:function(e){var t=!1;if(this.mediaStream)for(var n=0;n<this.mediaStream.getTracks().length;n++)this.mediaStream.getTracks()[n].enabled!==e&&(this.mediaStream.getTracks()[n].enabled=e,t=!0);return t}},{key:"cleanup",value:function(){if(this.mediaStream)for(var e=0;e<this.mediaStream.getTracks().length;e++){this.mediaStream.getTracks()[e].stop()}this.mediaStream=null}},{key:"muteLocalAudioInputStream",value:function(){throw new Error("unsupported")}},{key:"unmuteLocalAudioInputStream",value:function(){throw new Error("unsupported")}},{key:"addMediaStreamBrokerObserver",value:function(e){}},{key:"removeMediaStreamBrokerObserver",value:function(e){}}]),e}();t.default=u,u.defaultFrameRate=15},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(210),a=function(){function e(){r(this,e),this.isMediaDevicesSupported="undefined"!==typeof navigator&&!!navigator.mediaDevices}return i(e,[{key:"create",value:function(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new o.default);throw new Error("navigator.mediaDevices is not supported")}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(47),u=n(62),l=function(){function e(){var t=this;o(this,e),this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=function(e,n,r){if(Reflect.has(e,n)){if(!("ondevicechange"in navigator.mediaDevices)){if("addEventListener"===n)return t.patchAddEventListener(e,n,r);if("removeEventListener"===n)return t.patchRemoveEventListener(e,n,r)}var i=Reflect.get(e,n,r);return"function"===typeof i?i.bind(e):i}},this.patchAddEventListener=function(n,r,i){var o=Reflect.get(n,r,i);return function(r,i,a){if("devicechange"!==r)return Reflect.apply(o,n,[r,i,a]);t.deviceChangeListeners.add(i),t.scheduler||(t.scheduler=new u.default(e.INTERVAL_MS),t.scheduler.start(t.pollDeviceLists))}},this.patchRemoveEventListener=function(e,n,r){var i=Reflect.get(e,n,r);return function(n,r,o){if("devicechange"!==n)return Reflect.apply(i,e,[n,r,o]);t.deviceChangeListeners.delete(r),0===t.deviceChangeListeners.size&&t.scheduler&&(t.scheduler.stop(),t.scheduler=null)}},this.pollDeviceLists=function(){return s(t,void 0,void 0,i().mark((function e(){var t,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sortedDeviceList();case 2:t=e.sent,this.devices&&(t.length!==this.devices.length||t.some((function(e,t){return e.deviceId!==n.devices[t].deviceId})))&&this.handleDeviceChangeEvent(),this.devices=t;case 5:case"end":return e.stop()}}),e,this)})))}}return a(e,[{key:"sortedDeviceList",value:function(){return s(this,void 0,void 0,i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return t=e.sent,e.abrupt("return",t.sort((function(e,t){return e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0})));case 4:case"end":return e.stop()}}),e)})))}},{key:"handleDeviceChangeEvent",value:function(){var e,t=this,n=r(this.deviceChangeListeners);try{var i=function(){var n=e.value;c.default.nextTick((function(){if(t.deviceChangeListeners.has(n)){var e=new Event("devicechange");"function"===typeof n?n(e):n.handleEvent(e)}}))};for(n.s();!(e=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}}}]),e}();t.default=l,l.INTERVAL_MS=1e3},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e),this.queue=Promise.resolve()}return i(e,[{key:"add",value:function(e){var t=this;return new Promise((function(n,r){t.queue=t.queue.then(e).then(n).catch(r)}))}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e),this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}return i(e,[{key:"clone",value:function(){var t=new e;return t.tileId=this.tileId,t.localTile=this.localTile,t.isContent=this.isContent,t.active=this.active,t.paused=this.paused,t.poorConnection=this.poorConnection,t.boundAttendeeId=this.boundAttendeeId,t.boundExternalUserId=this.boundExternalUserId,t.boundVideoStream=this.boundVideoStream,t.boundVideoElement=this.boundVideoElement,t.nameplate=this.nameplate,t.videoStreamContentWidth=this.videoStreamContentWidth,t.videoStreamContentHeight=this.videoStreamContentHeight,t.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,t.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,t.devicePixelRatio=this.devicePixelRatio,t.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,t.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,t.streamId=this.streamId,t}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAudioTransformDevice=void 0,t.isAudioTransformDevice=function(e){return!!e&&"object"===typeof e&&"mute"in e&&"stop"in e&&"intrinsicDevice"in e}},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e),this.groupId=""}return i(e,[{key:"matchesConstraints",value:function(e){return JSON.stringify(this.constraints)===JSON.stringify(e)}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).name="NotFoundError",r}return r(n)}(n(64).default);t.default=s},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).name="NotReadableError",r}return r(n)}(n(64).default);t.default=s},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e,r){var o;return i(this,n),(o=t.call(this,e)).constraint=r,o.name="OverconstrainedError",o}return r(n)}(n(64).default);t.default=s},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).name="TypeError",r}return r(n)}(n(64).default);t.default=s},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(t,n,r){i(this,e),this.videoWidth=t,this.videoHeight=n,this.videoFrameRate=r}));t.default=o},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){s(n,e);var t=c(n);function n(e){var r;return o(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="CreatePeerConnectionTask",r.removeTrackAddedEventListener=null,r.removeTrackRemovedEventListeners={},r.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],r.removeVideoTrackEventListeners={},r.trackAddedHandler=function(e){var t=e.track;if(r.context.logger.info("received track event: kind=".concat(t.kind," id=").concat(t.id," label=").concat(t.label)),!e.transceiver||"inactive"!==e.transceiver.currentDirection)if(0!==e.streams.length){var n=e.streams[0];"audio"===t.kind?r.context.audioMixController.bindAudioStream(n):"video"!==t.kind||r.trackIsVideoInput(t)||r.addRemoteVideoTrack(t,n)}else r.context.logger.warn("Track event but no stream")},r}return a(n,[{key:"removeObserver",value:function(){for(var e in this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener(),this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[e]()}},{key:"addPeerConnectionEventLogger",value:function(){var e=this,t=this.context.peer;t.addEventListener("connectionstatechange",(function(){e.context.logger.info("peer connection state changed: ".concat(t.connectionState))})),t.addEventListener("negotiationneeded",(function(){e.context.logger.info("peer connection negotiation is needed")})),t.addEventListener("icegatheringstatechange",(function(){e.context.logger.info("peer connection ice gathering state changed: ".concat(t.iceGatheringState))})),t.addEventListener("icecandidate",(function(t){e.context.logger.info("peer connection ice candidate: ".concat(t.candidate?t.candidate.candidate:"(null)"))})),t.addEventListener("iceconnectionstatechange",(function(){e.context.logger.info("peer connection ice connection state changed: ".concat(t.iceConnectionState))}))}},{key:"run",value:function(){return u(this,void 0,void 0,i().mark((function e(){var t,n,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.context.removableObservers.push(this),t=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0,(n=t?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{}).bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),n.sdpSemantics="unified-plan",this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(n),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=function(){r.context.peer&&r.context.peer.removeEventListener("track",r.trackAddedHandler),r.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"trackIsVideoInput",value:function(e){return!!this.context.transceiverController.useTransceivers()&&(this.logger.debug((function(){return"getting video track type"})),this.context.transceiverController.trackIsVideoInput(e))}},{key:"addRemoteVideoTrack",value:function(e,t){var n,r,i=this,o=t.id,a=this.context.videoStreamIndex.attendeeIdForTrack(o);if(this.context.videoTileController.getVideoTileForAttendeeId?!!(null===(n=null===(r=this.context.videoTileController.getVideoTileForAttendeeId(a))||void 0===r?void 0:r.state())||void 0===n?void 0:n.boundVideoStream):this.context.videoTileController.haveVideoTileForAttendeeId(a))this.context.logger.info("Not adding remote track. Already have tile for attendeeId:  ".concat(a));else{r||(r=this.context.videoTileController.addVideoTile(),this.logger.info("Created video tile ".concat(r.id())));var s=this.context.videoStreamIndex.streamIdForTrack(o);"undefined"===typeof s&&(this.logger.warn("stream not found for tile=".concat(r.id()," track=").concat(o)),s=null);for(var c,u,l=function(n){var o=i.trackEvents[n],a=t.getVideoTracks();if(a&&a.length){var c=a[0],u=function(){i.context.logger.info("received the ".concat(o," event for tile=").concat(r.id()," id=").concat(e.id," streamId=").concat(s)),"ended"===o&&i.removeRemoteVideoTrack(e,r.state())};c.addEventListener(o,u),i.removeVideoTrackEventListeners[e.id]||(i.removeVideoTrackEventListeners[e.id]=[]),i.removeVideoTrackEventListeners[e.id].push((function(){c.removeEventListener(o,u)}))}},d=0;d<this.trackEvents.length;d++)l(d);if(e.getSettings){var f=e.getSettings();c=f.width,u=f.height}else{var h=e.getCapabilities();c=h.width,u=h.height}var p=this.context.videoStreamIndex.externalUserIdForTrack(o);r.bindVideoStream(a,!1,t,c,u,s,p),this.logger.info("video track added, use tile=".concat(r.id()," track=").concat(o," streamId=").concat(s));var v="removetrack",m=t,g=function(){return i.removeRemoteVideoTrack(e,r.state())};this.removeTrackRemovedEventListeners[e.id]=function(){m.removeEventListener(v,g),delete i.removeTrackRemovedEventListeners[e.id]},m.addEventListener(v,g)}}},{key:"removeRemoteVideoTrack",value:function(e,t){if(this.removeTrackRemovedEventListeners.hasOwnProperty(e.id)){this.removeTrackRemovedEventListeners[e.id]();var n,i=r(this.removeVideoTrackEventListeners[e.id]);try{for(i.s();!(n=i.n()).done;){(0,n.value)()}}catch(o){i.e(o)}finally{i.f()}delete this.removeVideoTrackEventListeners[e.id]}this.logger.info("video track ended, removing tile=".concat(t.tileId," id=").concat(e.id," stream=").concat(t.streamId)),t.streamId?this.context.videosPaused.remove(t.streamId):this.logger.warn("no stream found for tile=".concat(t.tileId)),this.context.videoTileController.removeVideoTile(t.tileId)}}]),n}(n(19).default);t.default=l,l.REMOVE_HANDLER_INTERVAL_MS=1e4},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(45),l=n(75),d=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="CreateSDPTask",r}return o(n,[{key:"cancel",value:function(){if(this.cancelPromise){var e=new Error("canceling ".concat(this.name()));this.cancelPromise(e),delete this.cancelPromise}}},{key:"sessionUsesAudio",value:function(){var e,t;return!!(null===(t=null===(e=this.context.meetingSessionConfiguration)||void 0===e?void 0:e.urls)||void 0===t?void 0:t.audioHostURL)}},{key:"sessionUsesVideo",value:function(){var e;e=this.context.transceiverController.useTransceivers()?this.context.transceiverController.hasVideoInput():this.context.videoTileController.hasStartedLocalVideoTile();var t=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),n=e||t;return this.context.logger.info("uses video: ".concat(n," (enabled: ").concat(true,", sending: ").concat(e,", receiving: ").concat(t,")")),n}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()},this.logger.info("peer connection offerOptions: ".concat(JSON.stringify(t))),e.next=4,new Promise((function(e,i){return c(n,void 0,void 0,r().mark((function n(){var o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.cancelPromise=function(e){i(e)},n.prev=1,n.next=4,this.context.peer.createOffer(t);case 4:if(this.context.sdpOfferInit=n.sent,this.context.logger.info("peer connection created offer"),!this.context.previousSdpOffer){n.next=12;break}if(!new l.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){n.next=12;break}return o=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(u.default.IncompatibleSDP)),this.context.previousSdpOffer=null,i(o),n.abrupt("return");case 12:e(),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),i(n.t0);case 18:return n.prev=18,delete this.cancelPromise,n.finish(18);case 21:case"end":return n.stop()}}),n,this,[[1,15,18,21]])})))}));case 4:case"end":return e.stop()}}),e,this)})))}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SDPCandidateType=void 0,function(e){e.Host="host",e.ServerReflexive="srflx",e.PeerReflexive="prflx",e.Relay="relay"}(r=t.SDPCandidateType||(t.SDPCandidateType={})),t.default=r},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,i,o,a,s){r(this,e),this.timestampMs=t,this.topic=n,this.data=i,this.senderAttendeeId=o,this.senderExternalUserId=a,this.throttled=!!s}return i(e,[{key:"text",value:function(){return(new TextDecoder).decode(this.data)}},{key:"json",value:function(){return JSON.parse((new TextDecoder).decode(this.data))}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(12).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(62),u=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:200;o(this,e),this.realtimeController=t,this.selfAttendeeId=n,this.hasBandwidthPriorityCallback=r,this.waitIntervalMs=i,this.updateIntervalMs=a,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}return a(e,[{key:"needUpdate",value:function(e){return!this.activeSpeakers||(0===this.speakerScores[e]&&this.activeSpeakers.includes(e)||this.speakerScores[e]>0&&!this.activeSpeakers.includes(e))}},{key:"updateActiveSpeakers",value:function(e,t,n){if(this.needUpdate(n)){for(var r=[],i=Object.keys(this.speakerScores),o=0;o<i.length;o++){var a=i[o];r.push({attendeeId:a,activeScore:this.speakerScores[a]})}var s=r.sort((function(e,t){return t.activeScore-e.activeScore})).filter((function(e){return e.activeScore>0})).map((function(e){return e.attendeeId}));this.activeSpeakers=s,t(s);var c=s.length>0&&s[0]===this.selfAttendeeId&&e.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==c&&(this.hasBandwidthPriority=c,this.hasBandwidthPriorityCallback(c))}}},{key:"updateScore",value:function(e,t,n,r,i){var o=e.calculateScore(n,r,i);this.speakerScores[n]!==o&&(this.speakerScores[n]=o,this.mostRecentUpdateTimestamp[n]=Date.now(),this.updateActiveSpeakers(e,t,n))}},{key:"subscribe",value:function(e,t,n,r){var i=this,o=function(n,r){if(!r)return i.speakerScores[n]=0,i.mostRecentUpdateTimestamp[n]=Date.now(),void i.updateActiveSpeakers(e,t,n);i.realtimeController.realtimeSubscribeToVolumeIndicator(n,(function(n,r,o,a){i.mostRecentUpdateTimestamp[n]=Date.now(),null!==o&&(i.speakerMuteState[n]=o),i.updateScore(e,t,n,r,o)}))};this.detectorCallbackToHandler.set(t,o);var a=new c.default(this.updateIntervalMs);if(a.start((function(){for(var n in i.speakerScores)Date.now()-i.mostRecentUpdateTimestamp[n]>i.waitIntervalMs&&i.updateScore(e,t,n,0,i.speakerMuteState[n])})),this.detectorCallbackToActivityTimer.set(t,a),n&&r){var s=new c.default(r);s.start((function(){n(i.speakerScores)})),this.detectorCallbackToScoresTimer.set(t,s)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(o)}},{key:"unsubscribe",value:function(e){var t=this.detectorCallbackToHandler.get(e);this.detectorCallbackToHandler.delete(e),t&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t);var n=this.detectorCallbackToActivityTimer.get(e);n&&(n.stop(),this.detectorCallbackToActivityTimer.delete(e));var r=this.detectorCallbackToScoresTimer.get(e);r&&(r.stop(),this.detectorCallbackToHandler.delete(e))}},{key:"destroy",value:function(){return s(this,void 0,void 0,r().mark((function e(){var t,n,o,a,s,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i(this.detectorCallbackToHandler.values());try{for(t.s();!(n=t.n()).done;)o=n.value,this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(o)}catch(r){t.e(r)}finally{t.f()}a=i(this.detectorCallbackToActivityTimer.values());try{for(a.s();!(s=a.n()).done;)s.value.stop()}catch(r){a.e(r)}finally{a.f()}c=i(this.detectorCallbackToScoresTimer.values());try{for(c.s();!(u=c.n()).done;)u.value.stop()}catch(r){c.e(r)}finally{c.f()}this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear();case 9:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=function(){function e(t,n,i,o,a){var s=this;r(this,e),this.audioVideoController=t,this.realtimeController=n,this.connectionHealthData=i,this.pingPong=o,this.statsCollector=a,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange((function(e){s.isActive&&s.receiveSignalStrengthChange(e)}))}return i(e,[{key:"start",value:function(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}},{key:"stop",value:function(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}},{key:"receiveSignalStrengthChange",value:function(e){0===e?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):e<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}},{key:"didReceivePong",value:function(e,t,n){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",t),this.statsCollector.logLatency("ping_pong_clock_skew",n),this.updateConnectionHealth()}},{key:"didMissPongs",value:function(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}},{key:"metricsDidReceive",value:function(e){var t=0,n=0,r=e.getObservableMetrics(),i=r.audioPacketsReceived,o=r.audioPacketsReceivedFractionLoss,a=r.audioSpeakerDelayMs;"number"!==typeof a||isNaN(a)||this.connectionHealthData.setAudioSpeakerDelayMs(a),"number"===typeof i&&"number"===typeof o&&(n=o,(t=i)<0||n<0||(this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,t),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,n),t>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(0===t||n>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),"number"===typeof r.audioPacketsSent&&this.updateAudioPacketsSentInConnectionHealth(r.audioPacketsSent),this.updateConnectionHealth()))}},{key:"updateAudioPacketsSentInConnectionHealth",value:function(e){e>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}},{key:"addToMinuteWindow",value:function(e,t){e.unshift(t),e.length>60&&e.pop()}},{key:"updateConnectionHealth",value:function(){var e=this;this.audioVideoController.forEachObserver((function(t){o.Maybe.of(t.connectionHealthDidChange).map((function(n){return n.bind(t)(e.connectionHealthData.clone())}))}))}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),s=n(62),c=n(29),u=n(21),l=n(44),d=function(){function e(t,n,r){i(this,e),this.signalingClient=t,this.intervalMs=n,this.logger=r,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new s.default(this.intervalMs),this.pingId=0}return o(e,[{key:"addObserver",value:function(e){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(e)}},{key:"removeObserver",value:function(e){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(e)}},{key:"forEachObserver",value:function(e){var t,n=this,i=r(this.observerQueue);try{var o=function(){var r=t.value;a.default.nextTick((function(){n.observerQueue.has(r)&&e(r)}))};for(i.s();!(t=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}}},{key:"start",value:function(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}},{key:"stop",value:function(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}},{key:"startPingInterval",value:function(){var e=this;this.intervalScheduler.start((function(){e.ping()})),this.ping()}},{key:"stopPingInterval",value:function(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}},{key:"ping",value:function(){var e=this;this.consecutivePongsUnaccountedFor>0&&(this.logger.warn("missed pong ".concat(this.consecutivePongsUnaccountedFor," time(s)")),this.forEachObserver((function(t){l.Maybe.of(t.didMissPongs).map((function(n){return n.bind(t)(e.consecutivePongsUnaccountedFor)}))}))),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;var t=u.SdkPingPongFrame.create();t.pingId=this.pingId,t.type=u.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(t),this.logger.debug((function(){return"sent ping ".concat(e.pingId)}))}},{key:"pong",value:function(e){var t=u.SdkPingPongFrame.create();t.pingId=e,t.type=u.SdkPingPongType.PONG,this.signalingClient.pingPong(t)}},{key:"handleSignalingClientEvent",value:function(e){switch(e.type){case c.default.WebSocketOpen:this.startPingInterval();break;case c.default.WebSocketFailed:case c.default.WebSocketError:this.logger.warn("stopped pinging (".concat(c.default[e.type],")")),this.stopPingInterval();break;case c.default.WebSocketClosing:case c.default.WebSocketClosed:this.logger.info("stopped pinging (".concat(c.default[e.type],")")),this.stopPingInterval();break;case c.default.ReceivedSignalFrame:if(e.message.type!==u.SdkSignalFrame.Type.PING_PONG)break;if(e.message.pingPong.type===u.SdkPingPongType.PONG){var t,n=e.message.pingPong.pingId;if(n!==this.pingId){this.logger.warn("unexpected ping id ".concat(n," (expected ").concat(this.pingId,")"));break}if(this.consecutivePongsUnaccountedFor=0,"number"!==typeof e.message.timestampMs)break;t=e.message.timestampMs,this.logger.debug((function(){return"received pong ".concat(n," with timestamp ").concat(t)}));var r=e.timestampMs-this.pingTimestampLocalMs,i=Math.round(t-r/2),o=this.pingTimestampLocalMs-i;this.logger.info("local clock skew estimate=".concat(o,"ms from ping-pong time=").concat(r,"ms")),this.forEachObserver((function(e){l.Maybe.of(e.didReceivePong).map((function(t){return t.bind(e)(n,o,r)}))}))}else this.pong(e.message.pingPong.pingId)}}}]),e}();t.default=d},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(229),s=n(235),c=n(236),u=function(){function e(t,n){i(this,e),this.mediaStreamBroker=t,this.state=new s.default,this._transcriptionController=n||new a.default(this)}return o(e,[{key:"realtimeSetLocalAttendeeId",value:function(e,t){this.state.localAttendeeId=e,this.state.localExternalUserId=t}},{key:"realtimeSetAttendeeIdPresence",value:function(e,t,n,i,o){try{t&&(this.state.attendeeIdToExternalUserId[e]=n);var a,s=r(this.state.attendeeIdChangesCallbacks);try{for(s.s();!(a=s.n()).done;){(0,a.value)(e,t,n,i,o)}}catch(c){s.e(c)}finally{s.f()}}catch(u){this.onError(u)}}},{key:"realtimeSubscribeToAttendeeIdPresence",value:function(e){try{this.state.attendeeIdChangesCallbacks.push(e)}catch(t){this.onError(t)}}},{key:"realtimeUnsubscribeToAttendeeIdPresence",value:function(e){try{var t=this.state.attendeeIdChangesCallbacks.indexOf(e);-1!==t&&this.state.attendeeIdChangesCallbacks.splice(t,1)}catch(n){this.onError(n)}}},{key:"realtimeSetCanUnmuteLocalAudio",value:function(e){try{if(this.state.canUnmute===e)return;this.state.canUnmute=e;var t,n=r(this.state.setCanUnmuteLocalAudioCallbacks);try{for(n.s();!(t=n.n()).done;){(0,t.value)(e)}}catch(i){n.e(i)}finally{n.f()}}catch(o){this.onError(o)}}},{key:"realtimeSubscribeToSetCanUnmuteLocalAudio",value:function(e){try{this.state.setCanUnmuteLocalAudioCallbacks.push(e)}catch(t){this.onError(t)}}},{key:"realtimeUnsubscribeToSetCanUnmuteLocalAudio",value:function(e){try{var t=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(e);-1!==t&&this.state.setCanUnmuteLocalAudioCallbacks.splice(t,1)}catch(n){this.onError(n)}}},{key:"realtimeCanUnmuteLocalAudio",value:function(){return this.state.canUnmute}},{key:"realtimeMuteLocalAudio",value:function(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);var e,t=r(this.state.muteAndUnmuteLocalAudioCallbacks);try{for(t.s();!(e=t.n()).done;){(0,e.value)(!0)}}catch(n){t.e(n)}finally{t.f()}}catch(i){this.onError(i)}}},{key:"realtimeUnmuteLocalAudio",value:function(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);var e,t=r(this.state.muteAndUnmuteLocalAudioCallbacks);try{for(t.s();!(e=t.n()).done;){(0,e.value)(!1)}}catch(n){t.e(n)}finally{t.f()}return!0}catch(i){return this.onError(i),!1}}},{key:"realtimeSubscribeToMuteAndUnmuteLocalAudio",value:function(e){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(e)}catch(t){this.onError(t)}}},{key:"realtimeUnsubscribeToMuteAndUnmuteLocalAudio",value:function(e){try{var t=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(e);-1!==t&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(t,1)}catch(n){this.onError(n)}}},{key:"realtimeIsLocalAudioMuted",value:function(){return this.state.muted}},{key:"realtimeSubscribeToVolumeIndicator",value:function(e,t){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(e)||(this.state.volumeIndicatorCallbacks[e]=[]),this.state.volumeIndicatorCallbacks[e].push(t),this.sendVolumeIndicatorChange(e,!0,!0,!0,this.state.attendeeIdToExternalUserId[e])}catch(n){this.onError(n)}}},{key:"realtimeUnsubscribeFromVolumeIndicator",value:function(e,t){if(this.state.volumeIndicatorCallbacks[e])if(t){var n=this.state.volumeIndicatorCallbacks[e].indexOf(t);n>=0&&this.state.volumeIndicatorCallbacks[e].splice(n,1)}else delete this.state.volumeIndicatorCallbacks[e]}},{key:"realtimeUpdateVolumeIndicator",value:function(e,t,n,r,i){try{n=this.applyLocalMuteOverride(e,n);var o=this.getVolumeIndicatorState(e),a=!1,s=!1,c=!1;null!==n&&o.muted!==n&&(o.muted=n,s=!0,o.muted&&0!==o.volume&&(o.volume=0,a=!0)),o.muted||null===t||(o.volume!==t&&(o.volume=t,a=!0),null===o.muted&&(o.muted=!1,s=!0)),null!==r&&o.signalStrength!==r&&(o.signalStrength=r,c=!0),this.sendVolumeIndicatorChange(e,a,s,c,i)}catch(u){this.onError(u)}}},{key:"realtimeSubscribeToLocalSignalStrengthChange",value:function(e){try{if(this.state.localSignalStrengthChangeCallbacks.push(e),null===this.state.localAttendeeId)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(t){this.onError(t)}}},{key:"realtimeUnsubscribeToLocalSignalStrengthChange",value:function(e){try{var t=this.state.localSignalStrengthChangeCallbacks.indexOf(e);-1!==t&&this.state.localSignalStrengthChangeCallbacks.splice(t,1)}catch(n){this.onError(n)}}},{key:"realtimeSubscribeToSendDataMessage",value:function(e){try{this.state.sendDataMessageCallbacks.push(e)}catch(t){this.onError(t)}}},{key:"realtimeUnsubscribeFromSendDataMessage",value:function(e){try{var t=this.state.sendDataMessageCallbacks.indexOf(e);-1!==t&&this.state.sendDataMessageCallbacks.splice(t,1)}catch(n){this.onError(n)}}},{key:"realtimeSendDataMessage",value:function(e,t,n){try{var i,o=r(this.state.sendDataMessageCallbacks);try{for(o.s();!(i=o.n()).done;){(0,i.value)(e,t,n)}}catch(a){o.e(a)}finally{o.f()}}catch(s){this.onError(s)}}},{key:"realtimeSubscribeToReceiveDataMessage",value:function(e,t){try{this.state.receiveDataMessageCallbacks.has(e)?this.state.receiveDataMessageCallbacks.get(e).push(t):this.state.receiveDataMessageCallbacks.set(e,[t])}catch(n){this.onError(n)}}},{key:"realtimeUnsubscribeFromReceiveDataMessage",value:function(e){try{this.state.receiveDataMessageCallbacks.delete(e)}catch(t){this.onError(t)}}},{key:"realtimeReceiveDataMessage",value:function(e){try{if(this.state.receiveDataMessageCallbacks.has(e.topic)){var t,n=r(this.state.receiveDataMessageCallbacks.get(e.topic));try{for(n.s();!(t=n.n()).done;){(0,t.value)(e)}}catch(i){n.e(i)}finally{n.f()}}}catch(o){this.onError(o)}}},{key:"realtimeSubscribeToFatalError",value:function(e){try{this.state.fatalErrorCallbacks.push(e)}catch(t){this.onError(t)}}},{key:"realtimeUnsubscribeToFatalError",value:function(e){try{var t=this.state.fatalErrorCallbacks.indexOf(e);-1!==t&&this.state.fatalErrorCallbacks.splice(t,1)}catch(n){this.onError(n)}}},{key:"transcriptionController",get:function(){return this._transcriptionController}},{key:"setAudioInputEnabled",value:function(e){e?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}},{key:"applyLocalMuteOverride",value:function(e,t){var n=this.state.localAttendeeId,r=this.state.muted;return e!==n?t:"activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio?r:t}},{key:"sendVolumeIndicatorChange",value:function(e,t,n,i,o){if(this.sendLocalSignalStrengthChange(e,i),this.state.volumeIndicatorCallbacks.hasOwnProperty(e)){var a=this.getVolumeIndicatorState(e),s=new c.default;if(t&&(s.volume=a.volume),n&&(s.muted=a.muted),i&&(s.signalStrength=a.signalStrength),!this.stateIsEmpty(s)){var u,l=r(this.state.volumeIndicatorCallbacks[e]);try{for(l.s();!(u=l.n()).done;){(0,u.value)(e,s.volume,s.muted,s.signalStrength,o)}}catch(d){l.e(d)}finally{l.f()}}}}},{key:"sendLocalSignalStrengthChange",value:function(e,t){if(t&&e===this.state.localAttendeeId){var n=this.getVolumeIndicatorState(e).signalStrength;if(null!==n){var i,o=r(this.state.localSignalStrengthChangeCallbacks);try{for(o.s();!(i=o.n()).done;){(0,i.value)(n)}}catch(a){o.e(a)}finally{o.f()}}}}},{key:"getVolumeIndicatorState",value:function(e){return this.state.volumeIndicatorState.hasOwnProperty(e)||(this.state.volumeIndicatorState[e]=new c.default),this.state.volumeIndicatorState[e]}},{key:"stateIsEmpty",value:function(e){return null===e.volume&&null===e.muted&&null===e.signalStrength}},{key:"onError",value:function(e){try{var t,n=r(this.state.fatalErrorCallbacks);try{for(n.s();!(t=n.n()).done;){(0,t.value)(e)}}catch(i){n.e(i)}finally{n.f()}}catch(o){try{console.error(e),console.error(o)}catch(a){}}}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;var a=n(415);t.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";var s=function(){function e(t){i(this,e),this.realtimeController=t,this.transcriptEventCallbacks=new Set}return o(e,[{key:"subscribeToTranscriptEvent",value:function(e){var n=this;0===this.transcriptEventCallbacks.size&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(t.TRANSCRIPTION_DATA_MESSAGE_TOPIC,(function(e){var t,i=r(a.TranscriptEventConverter.from(e));try{for(i.s();!(t=i.n()).done;){var o,s=t.value,c=r(n.transcriptEventCallbacks);try{for(c.s();!(o=c.n()).done;){(0,o.value)(s)}}catch(u){c.e(u)}finally{c.f()}}}catch(u){i.e(u)}finally{i.f()}})),this.transcriptEventCallbacks.add(e)}},{key:"unsubscribeFromTranscriptEvent",value:function(e){this.transcriptEventCallbacks.delete(e),0===this.transcriptEventCallbacks.size&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(t.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}}]),e}();t.default=s},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STARTED="started",e.INTERRUPTED="interrupted",e.RESUMED="resumed",e.STOPPED="stopped",e.FAILED="failed"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PRONUNCIATION="pronunciation",e.PUNCTUATION="punctuation"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.volume=null,this.muted=null,this.signalStrength=null}));t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(149),a=n(238),s=n(150),c=n(151),u=function(){function e(t){r(this,e),this.logger=t,this.currentState=s.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}return i(e,[{key:"perform",value:function(e,t){var n=this.currentState;if(n===s.SessionStateControllerState.NotConnected&&e===o.SessionStateControllerAction.Connect)this.transition(s.SessionStateControllerState.Connecting,e);else if(n===s.SessionStateControllerState.Connecting&&e===o.SessionStateControllerAction.Fail)this.transition(s.SessionStateControllerState.Disconnecting,e);else if(n===s.SessionStateControllerState.Connecting&&e===o.SessionStateControllerAction.FinishConnecting)this.transition(s.SessionStateControllerState.Connected,e);else if(n===s.SessionStateControllerState.Connected&&e===o.SessionStateControllerAction.Disconnect)this.transition(s.SessionStateControllerState.Disconnecting,e);else if(n===s.SessionStateControllerState.Connected&&e===o.SessionStateControllerAction.Reconnect)this.transition(s.SessionStateControllerState.Connecting,e);else if(n===s.SessionStateControllerState.Connected&&e===o.SessionStateControllerAction.Fail)this.transition(s.SessionStateControllerState.Disconnecting,e);else if(n===s.SessionStateControllerState.Connected&&e===o.SessionStateControllerAction.Update)this.transition(s.SessionStateControllerState.Updating,e);else if(n===s.SessionStateControllerState.Updating&&e===o.SessionStateControllerAction.Fail)this.transition(s.SessionStateControllerState.Disconnecting,e);else if(n===s.SessionStateControllerState.Updating&&e===o.SessionStateControllerAction.FinishUpdating)this.transition(s.SessionStateControllerState.Connected,e);else{if(n!==s.SessionStateControllerState.Disconnecting||e!==o.SessionStateControllerAction.FinishDisconnecting)return this.canDefer(e)?(this.logger.info("deferring transition from ".concat(s.SessionStateControllerState[this.currentState]," with ").concat(o.SessionStateControllerAction[e])),this.deferAction(e,t),c.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn("no transition found from ".concat(s.SessionStateControllerState[this.currentState]," with ").concat(o.SessionStateControllerAction[e])),c.SessionStateControllerTransitionResult.NoTransitionAvailable);this.transition(s.SessionStateControllerState.NotConnected,e)}try{t()}catch(r){return this.logger.error("error during state ".concat(s.SessionStateControllerState[this.currentState]," with action ").concat(o.SessionStateControllerAction[e],": ").concat(r)),this.logger.info("rolling back transition to ".concat(s.SessionStateControllerState[n])),this.currentState=n,c.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),c.SessionStateControllerTransitionResult.Transitioned}},{key:"state",value:function(){return this.currentState}},{key:"transition",value:function(e,t){this.logger.info("transitioning from ".concat(s.SessionStateControllerState[this.currentState]," to ").concat(s.SessionStateControllerState[e]," with ").concat(o.SessionStateControllerAction[t])),this.currentState=e}},{key:"deferPriority",value:function(e){switch(e){case o.SessionStateControllerAction.Disconnect:return a.SessionStateControllerDeferPriority.VeryHigh;case o.SessionStateControllerAction.Fail:return a.SessionStateControllerDeferPriority.High;case o.SessionStateControllerAction.Reconnect:return a.SessionStateControllerDeferPriority.Medium;case o.SessionStateControllerAction.Update:return a.SessionStateControllerDeferPriority.Low;default:return a.SessionStateControllerDeferPriority.DoNotDefer}}},{key:"deferAction",value:function(e,t){null!==this.deferredAction&&this.deferPriority(this.deferredAction)>this.deferPriority(e)||(this.deferredAction=e,this.deferredWork=t)}},{key:"canDefer",value:function(e){return this.deferPriority(e)!==a.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===s.SessionStateControllerState.Connecting||this.currentState===s.SessionStateControllerState.Updating)}},{key:"performDeferredAction",value:function(){if(this.deferredAction){var e=this.deferredAction,t=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info("performing deferred action ".concat(o.SessionStateControllerAction[e])),this.perform(e,t)!==c.SessionStateControllerTransitionResult.Transitioned&&this.logger.info("unable to perform deferred action ".concat(o.SessionStateControllerAction[e]," in state ").concat(s.SessionStateControllerState[this.currentState]))}}}]),e}();t.default=u},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerDeferPriority=void 0,function(e){e[e.DoNotDefer=0]="DoNotDefer",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh"}(r=t.SessionStateControllerDeferPriority||(t.SessionStateControllerDeferPriority={})),t.default=r},function(e,t,n){"use strict";(function(e){var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),s=n(90),c=n(21),u=n(52),l=n(109),d=n(65),f=n(240),h=n(29),p=function(){function t(e,n){var r=this;i(this,t),this.webSocket=e,this.logger=n,this.unloadHandler=null,this.closeEventHandler=function(e){r.deactivatePageUnloadHandler(),r.resetConnection(),r.sendEvent(new f.default(r,h.default.WebSocketClosed,null,e.code,e.reason)),r.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug((function(){return"signaling client init"})),this.audioSessionId=this.generateNewAudioSessionId()}return o(t,[{key:"registerObserver",value:function(e){this.logger.debug((function(){return"registering signaling client observer"})),this.observerQueue.add(e)}},{key:"removeObserver",value:function(e){this.logger.debug((function(){return"removing signaling client observer"})),this.observerQueue.delete(e)}},{key:"openConnection",value:function(e){this.logger.info("adding connection request to queue: "+e.url()),this.connectionRequestQueue.push(e),this.closeConnection()}},{key:"pingPong",value:function(e){this.logger.debug((function(){return"sending ping"}));var t=c.SdkSignalFrame.create();return t.type=c.SdkSignalFrame.Type.PING_PONG,t.pingPong=e,this.sendMessage(t),t.timestampMs}},{key:"join",value:function(e){this.logger.info("sending join");var n=c.SdkJoinFrame.create();n.protocolVersion=2,n.flags=c.SdkJoinFlags.HAS_STREAM_UPDATE;var r=new a.default,i={platformName:r.name(),platformVersion:r.version(),clientSource:u.default.sdkName,chimeSdkVersion:u.default.sdkVersion};if(e.applicationMetadata){var o=e.applicationMetadata,s=o.appName,l=o.appVersion;i.appName=s,i.appVersion=l}n.clientDetails=c.SdkClientDetails.create(i),n.audioSessionId=this.audioSessionId,n.wantsCompressedSdp=t.CLIENT_SUPPORTS_COMPRESSION,n.serverSideNetworkAdaption=d.convertServerSideNetworkAdaptionEnumToSignaled(e.serverSideNetworkAdaption),e.serverSideNetworkAdaption===d.default.BandwidthProbing&&(n.wantsServerSideNetworkProbingOnReceiveSideEstimator=!0),n.supportedServerSideNetworkAdaptions=e.supportedServerSideNetworkAdaptions.map(d.convertServerSideNetworkAdaptionEnumToSignaled);var f=c.SdkSignalFrame.create();f.type=c.SdkSignalFrame.Type.JOIN,f.join=n,this.sendMessage(f)}},{key:"subscribe",value:function(e){var t=c.SdkSubscribeFrame.create();if(t.sendStreams=[],t.sdpOffer=e.sdpOffer,e.connectionTypeHasVideo&&(t.receiveStreamIds=e.receiveStreamIds),e.audioHost&&(t.audioCheckin=e.audioCheckin,t.audioHost=e.audioHost,t.audioMuted=e.audioMuted,!e.audioCheckin)){var n=c.SdkStreamDescriptor.create();n.mediaType=c.SdkStreamMediaType.AUDIO,n.trackLabel="AmazonChimeExpressAudio",n.attendeeId=e.attendeeId,n.streamId=1,n.groupId=1,n.framerate=15,n.maxBitrateKbps=600,n.avgBitrateBps=4e5,t.sendStreams.push(n)}if(t.compressedSdpOffer=e.compressedSdpOffer,t.duplex=c.SdkStreamServiceType.RX,e.localVideoEnabled){t.duplex=c.SdkStreamServiceType.DUPLEX;for(var r=0;r<e.videoStreamDescriptions.length;r++){var i=e.videoStreamDescriptions[r].clone();i.attendeeId=e.attendeeId,t.sendStreams.push(i.toStreamDescriptor())}}e.videoSubscriptionConfiguration.length>0&&(t.videoSubscriptionConfiguration=e.videoSubscriptionConfiguration.map(this.convertVideoSubscriptionConfiguration));var o=c.SdkSignalFrame.create();o.type=c.SdkSignalFrame.Type.SUBSCRIBE,o.sub=t,this.sendMessage(o)}},{key:"remoteVideoUpdate",value:function(e,t){var n=c.SdkRemoteVideoUpdateFrame.create();n.addedOrUpdatedVideoSubscriptions=e.map(this.convertVideoSubscriptionConfiguration),n.removedVideoSubscriptionMids=t;var r=c.SdkSignalFrame.create();r.type=c.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,r.remoteVideoUpdate=n,this.sendMessage(r)}},{key:"convertVideoSubscriptionConfiguration",value:function(e){var t=new c.SdkVideoSubscriptionConfiguration;return t.mid=e.mid,t.attendeeId=e.attendeeId,t.streamId=e.streamId,t.groupId=e.groupId,t.priority=e.priority,t.targetBitrateKbps=e.targetBitrateKbps,t}},{key:"leave",value:function(){var e=c.SdkSignalFrame.create();e.type=c.SdkSignalFrame.Type.LEAVE,e.leave=c.SdkLeaveFrame.create(),this.sendMessage(e),this.logger.debug((function(){return"sent leave"}))}},{key:"sendClientMetrics",value:function(e){var t=c.SdkSignalFrame.create();t.type=c.SdkSignalFrame.Type.CLIENT_METRIC,t.clientMetric=e,this.sendMessage(t)}},{key:"sendDataMessage",value:function(e){var t=c.SdkSignalFrame.create();t.type=c.SdkSignalFrame.Type.DATA_MESSAGE,t.dataMessage=e,this.sendMessage(t)}},{key:"closeConnection",value:function(){var e,n,r=this;if(this.webSocket.readyState()!==l.default.None&&this.webSocket.readyState()!==l.default.Closed){this.isClosing=!0,this.sendEvent(new f.default(this,h.default.WebSocketClosing,null));var i=new s.default(t.CLOSE_EVENT_TIMEOUT_MS),o=function e(t){var n,o;null===(o=(n=r.webSocket).removeEventListener)||void 0===o||o.call(n,"close",e),i.stop(),r.closeEventHandler(t)};null===(n=(e=this.webSocket).removeEventListener)||void 0===n||n.call(e,"close",this.closeEventHandler),this.webSocket.addEventListener("close",o),i.start((function(){o(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))})),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}},{key:"ready",value:function(){return this.webSocket.readyState()===l.default.Open&&!this.isClosing&&this.wasOpened}},{key:"mute",value:function(e){var t=c.SdkSignalFrame.create();t.type=c.SdkSignalFrame.Type.AUDIO_CONTROL;var n=c.SdkAudioControlFrame.create();n.muted=e,t.audioControl=n,this.sendMessage(t)}},{key:"pause",value:function(e){var t=c.SdkSignalFrame.create();t.type=c.SdkSignalFrame.Type.PAUSE,t.pause=c.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)}},{key:"resume",value:function(e){var t=c.SdkSignalFrame.create();t.type=c.SdkSignalFrame.Type.RESUME,t.pause=c.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)}},{key:"resetConnection",value:function(){this.webSocket.destroy(),this.wasOpened=!1}},{key:"sendMessage",value:function(e){e.timestampMs=Date.now(),this.logger.debug((function(){return"sending: ".concat(JSON.stringify(e))}));var t=this.prependWithFrameTypeRTC(c.SdkSignalFrame.encode(e).finish());if(this.ready()){if(!this.webSocket.send(t))return void this.sendEvent(new f.default(this,h.default.WebSocketSendMessageFailure,null));this.sendEvent(new f.default(this,h.default.WebSocketSentMessage,null))}else this.sendEvent(new f.default(this,h.default.WebSocketSkippedMessage,null))}},{key:"receiveMessage",value:function(e){var t;try{t=c.SdkSignalFrame.decode(e)}catch(n){return this.logger.info("failed to decode: ".concat(e)),void this.sendEvent(new f.default(this,h.default.ProtocolDecodeFailure,null))}this.logger.debug((function(){return"received: ".concat(JSON.stringify(t))})),this.webSocket.readyState()===l.default.Open?this.sendEvent(new f.default(this,h.default.ReceivedSignalFrame,t)):this.logger.info("skipping notification of message since WebSocket is not open: ".concat(JSON.stringify(t)))}},{key:"stripFrameTypeRTC",value:function(e){var n=e[0];return n!==t.FRAME_TYPE_RTC&&2!==n&&this.logger.warn("expected FrameTypeRTC for message but got ".concat(n)),e.slice(1)}},{key:"prependWithFrameTypeRTC",value:function(e){var n=new Uint8Array(e.length+1);return n[0]=t.FRAME_TYPE_RTC,n.set(e,1),n}},{key:"serviceConnectionRequestQueue",value:function(){if(0!==this.connectionRequestQueue.length){var e=this.connectionRequestQueue.shift();this.logger.info("opening connection to ".concat(e.url())),this.isClosing=!1,this.webSocket.create(e.url(),e.protocols()),this.setUpEventListeners(),this.sendEvent(new f.default(this,h.default.WebSocketConnecting,null))}else this.logger.info("no connection requests to service")}},{key:"sendEvent",value:function(e){var t=this;switch(e.type){case h.default.WebSocketMessage:case h.default.ReceivedSignalFrame:case h.default.WebSocketSentMessage:this.logger.debug((function(){return"notifying event: ".concat(h.default[e.type])}));break;case h.default.WebSocketSkippedMessage:this.logger.debug((function(){return"notifying event: ".concat(h.default[e.type],", websocket state=").concat(l.default[t.webSocket.readyState()])}));break;default:this.logger.info("notifying event: ".concat(h.default[e.type]))}var n,i=r(this.observerQueue);try{for(i.s();!(n=i.n()).done;){n.value.handleSignalingClientEvent(e)}}catch(o){i.e(o)}finally{i.f()}}},{key:"setUpEventListeners",value:function(){var e=this;this.webSocket.addEventListener("open",(function(){e.activatePageUnloadHandler(),e.wasOpened=!0,e.sendEvent(new f.default(e,h.default.WebSocketOpen,null))})),this.webSocket.addEventListener("message",(function(t){e.sendEvent(new f.default(e,h.default.WebSocketMessage,null)),e.receiveMessage(e.stripFrameTypeRTC(new Uint8Array(t.data)))})),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",(function(){!e.isClosing||e.wasOpened?e.wasOpened?(e.logger.error("received error while connected"),e.sendEvent(new f.default(e,h.default.WebSocketError,null))):(e.logger.error("failed to connect"),e.sendEvent(new f.default(e,h.default.WebSocketFailed,null))):e.logger.info("ignoring error closing signaling while connecting")}))}},{key:"activatePageUnloadHandler",value:function(){var t=this;this.unloadHandler=function(){t.leave()};var n=e;n.window&&n.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}},{key:"deactivatePageUnloadHandler",value:function(){var t=e;t.window&&t.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}},{key:"generateNewAudioSessionId",value:function(){var e=new Uint32Array(1);return window.crypto.getRandomValues(e)[0]}},{key:"promoteToPrimaryMeeting",value:function(e){var t=c.SdkMeetingSessionCredentials.create();t.attendeeId=e.attendeeId,t.externalUserId=e.externalUserId,t.joinToken=e.joinToken;var n=c.SdkPrimaryMeetingJoinFrame.create();n.credentials=t;var r=c.SdkSignalFrame.create();r.type=c.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,r.primaryMeetingJoin=n,this.sendMessage(r)}},{key:"demoteFromPrimaryMeeting",value:function(){var e=c.SdkPrimaryMeetingLeaveFrame.create(),t=c.SdkSignalFrame.create();t.type=c.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,t.primaryMeetingLeave=e,this.sendMessage(t)}}]),t}();t.default=p,p.FRAME_TYPE_RTC=5,p.CLOSE_EVENT_TIMEOUT_MS=2e3,p.CLIENT_SUPPORTS_COMPRESSION=!0}).call(this,n(34))},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),a=function(){function e(t,n,i,o,a){r(this,e),this.client=t,this.type=n,this.message=i,this.closeCode=o,this.closeReason=a,this.timestampMs=Date.now()}return i(e,[{key:"isConnectionTerminated",value:function(){switch(this.type){case o.default.WebSocketFailed:case o.default.WebSocketError:case o.default.WebSocketClosing:case o.default.WebSocketClosed:return!0;default:return!1}}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.previousMetrics={},this.currentMetrics={}}));t.default=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEvent=void 0,function(e){e[e.Connecting=0]="Connecting",e[e.Started=1]="Started",e[e.Stopped=2]="Stopped"}(r=t.MeetingSessionLifecycleEvent||(t.MeetingSessionLifecycleEvent={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEventCondition=void 0,function(e){e[e.ConnectingNew=0]="ConnectingNew",e[e.ReconnectingExisting=1]="ReconnectingExisting",e[e.StartedNew=2]="StartedNew",e[e.StartedExisting=3]="StartedExisting",e[e.StartedAfterReconnect=4]="StartedAfterReconnect",e[e.StoppedCleanly=5]="StoppedCleanly",e[e.StoppedWithFailure=6]="StoppedWithFailure"}(r=t.MeetingSessionLifecycleEventCondition||(t.MeetingSessionLifecycleEventCondition={})),t.default=r},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(45),l=n(75),d=function(e){a(n,e);var t=s(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.CHROME_VPN_TIMEOUT_MS;return i(this,n),(r=t.call(this,e.logger)).context=e,r.chromeVpnTimeoutMs=o,r.taskName="FinishGatheringICECandidatesTask",r}return o(n,[{key:"removeEventListener",value:function(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}},{key:"cancel",value:function(){var e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&(this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(u.default.ICEGatheringTimeoutWorkaround))));this.cancelPromise&&(e=e||new Error("canceling ".concat(this.name())),this.cancelPromise(e),delete this.cancelPromise)}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),!this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){e.next=7;break}if(!new l.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){e.next=5;break}return this.context.logger.info("ice gathering already complete; bypass gathering, current local description ".concat(this.context.peer.localDescription.sdp)),e.abrupt("return");case 5:e.next=8;break;case 7:this.context.logger.info("iOS device does not require checking for connection attributes in SDP, current local description ".concat(this.context.peer.localDescription.sdp));case 8:if(!this.context.browserBehavior.hasFirefoxWebRTC()&&"complete"!==this.context.peer.iceGatheringState||!new l.default(this.context.peer.localDescription.sdp).hasCandidates()){e.next=11;break}return this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering"),e.abrupt("return");case 11:return e.prev=11,e.next=14,new Promise((function(e,n){t.cancelPromise=function(e){t.removeEventListener(),n(e)},t.context.turnCredentials||(t.context.iceGatheringStateEventHandler=function(){if("complete"===t.context.peer.iceGatheringState)return t.removeEventListener(),e(),void delete t.cancelPromise},t.context.peer.addEventListener("icegatheringstatechange",t.context.iceGatheringStateEventHandler)),t.context.iceCandidateHandler=function(r){if(t.context.logger.info("ice candidate: ".concat(r.candidate?r.candidate.candidate:"(null)"," state: ").concat(t.context.peer.iceGatheringState)),r.candidate&&(l.default.isRTPCandidate(r.candidate.candidate)&&t.context.iceCandidates.push(r.candidate),t.context.turnCredentials&&t.context.iceCandidates.length>=1))return t.context.logger.info("gathered at least one relay candidate"),t.removeEventListener(),e(),void delete t.cancelPromise;"complete"===t.context.peer.iceGatheringState&&(t.context.logger.info("done gathering ice candidates"),t.removeEventListener(),new l.default(t.context.peer.localDescription.sdp).hasCandidates()&&0!==t.context.iceCandidates.length?(e(),delete t.cancelPromise):(n(new Error("no ice candidates were gathered")),delete t.cancelPromise))},t.context.peer.addEventListener("icecandidate",t.context.iceCandidateHandler),t.startTimestampMs=Date.now()}));case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(11),e.t0;case 19:return e.prev=19,this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs)),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[11,16,19,22]])})))}}]),n}(n(19).default);t.default=d,d.CHROME_VPN_TIMEOUT_MS=5e3},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(77),l=n(45),d=n(153),f=n(65),h=n(29),p=n(246),v=n(21),m=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="JoinAndReceiveIndexTask",r.taskCanceler=null,r}return o(n,[{key:"cancel",value:function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var r=n.context;r.turnCredentials=null;var a=function(){function n(e){i(this,n),this.signalingClient=e}return o(n,[{key:"cancel",value:function(){this.signalingClient.removeObserver(this),t(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}},{key:"handleSignalingClientEvent",value:function(t){if(t.type===h.default.WebSocketClosed){var n="The signaling connection was closed with code ".concat(t.closeCode," and reason: ").concat(t.closeReason);r.logger.warn(n);var i=l.default.SignalingBadRequest;return 4410===t.closeCode?(n="The meeting already ended.",r.logger.warn(n),i=l.default.MeetingEnded):t.closeCode>=4500&&t.closeCode<4600&&(i=l.default.SignalingInternalServerError),void r.audioVideoController.handleMeetingSessionStatus(new u.default(i),new Error(n))}if(t.type===h.default.ReceivedSignalFrame)if(t.message.type!==v.SdkSignalFrame.Type.JOIN_ACK){if(t.message.type===v.SdkSignalFrame.Type.INDEX){this.signalingClient.removeObserver(this);var o=t.message.index;e(o)}}else{var a=t.message.joinack;if(a&&a.videoSubscriptionLimit&&(r.videoSubscriptionLimit=a.videoSubscriptionLimit),r.serverSupportsCompression=null===a||void 0===a?void 0:a.wantsCompressedSdp,void 0!==(null===a||void 0===a?void 0:a.defaultServerSideNetworkAdaption)&&a.defaultServerSideNetworkAdaption!==f.default.Default&&void 0!==r.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption){var s=a.defaultServerSideNetworkAdaption;r.logger.info("Overriding server side network adaption value to ".concat(s)),r.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(f.convertServerSideNetworkAdaptionEnumFromSignaled(s))}a&&a.turnCredentials?(r.turnCredentials=new d.default,r.turnCredentials.username=a.turnCredentials.username,r.turnCredentials.password=a.turnCredentials.password,r.turnCredentials.ttl=a.turnCredentials.ttl,r.turnCredentials.uris=a.turnCredentials.uris.map((function(e){return r.meetingSessionConfiguration.urls.urlRewriter(e)})).filter((function(e){return!!e}))):r.logger.error("missing TURN credentials in JoinAckFrame")}}}]),n}(),s=new a(n.context.signalingClient);n.context.signalingClient.registerObserver(s),n.taskCanceler=s,n.context.previousSdpAnswerAsString="",n.context.previousSdpOffer=null,n.context.serverSupportsCompression=!1;var c=new p.default(n.context.meetingSessionConfiguration.applicationMetadata);void 0!==n.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption&&void 0!==n.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions&&(c.serverSideNetworkAdaption=n.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),c.supportedServerSideNetworkAdaptions=n.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),n.context.signalingClient.join(c)}));case 2:t=e.sent,this.context.logger.info("received first index ".concat(JSON.stringify(t))),this.context.indexFrame=t;case 5:case"end":return e.stop()}}),e,this)})))}}]),n}(n(19).default);t.default=m},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(65),a=r((function e(t){i(this,e),this.applicationMetadata=t,this.serverSideNetworkAdaption=o.default.Default,this.supportedServerSideNetworkAdaptions=[]}));t.default=a},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(29),l=n(21),d=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="LeaveAndReceiveLeaveAckTask",r.taskCanceler=null,r}return o(n,[{key:"cancel",value:function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.context.signalingClient.ready()){e.next=5;break}return this.context.signalingClient.leave(),this.context.logger.info("sent leave"),e.next=5,this.receiveLeaveAck();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"receiveLeaveAck",value:function(){var e=this;return new Promise((function(t,n){var r=new(function(){function e(t,n){i(this,e),this.signalingClient=t,this.logger=n}return o(e,[{key:"cancel",value:function(){this.signalingClient.removeObserver(this),n(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}},{key:"handleSignalingClientEvent",value:function(e){if(e.isConnectionTerminated())return this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),void t();e.type===u.default.ReceivedSignalFrame&&e.message.type===l.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),t())}}]),e}())(e.context.signalingClient,e.context.logger);e.taskCanceler=r,e.context.signalingClient.registerObserver(r)}))}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(29),l=n(21),d=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="ListenForVolumeIndicatorsTask",r.realtimeMuteAndUnmuteHandler=function(e){r.context.signalingClient.mute(e)},r}return o(n,[{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"removeObserver",value:function(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}},{key:"handleSignalingClientEvent",value:function(e){if(e.type===u.default.ReceivedSignalFrame)if(e.message.type===l.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){var t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===l.SdkSignalFrame.Type.AUDIO_METADATA){var n=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(n)}}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(92),d=n(93),f=n(205),h=n(250),p=n(251),v=n(252),m=n(77),g=n(45),b=n(29),y=n(21),w=n(136),S=n(44),k=function(e){s(n,e);var t=c(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,e.logger)).context=e,a.initialConnectionHealthData=i,a.taskName="MonitorTask",a.prevSignalStrength=1,a.currentVideoDownlinkBandwidthEstimationKbps=1e4,a.currentAvailableStreamAvgBitrates=null,a.hasSignalingError=!1,a.presenceHandlerCalled=!1,a.isResubscribeCheckPaused=!1,a.pendingMetricsReport=void 0,a.checkAndSendWeakSignalEvent=function(e){var t=e<1,n=a.prevSignalStrength<1,r=t?n?null:w.default.RedmicStartLoss:n?w.default.RedmicEndLoss:null;r&&a.context.statsCollector.logAudioEvent(r),a.prevSignalStrength=e},a.realtimeFatalErrorCallback=function(e){a.logger.error("realtime error: ".concat(e,": ").concat(e.stack)),a.context.audioVideoController.handleMeetingSessionStatus(new m.default(g.default.RealtimeApiFailed),e)},a.realtimeAttendeeIdPresenceHandler=function(e,t){var n,r=a.context.meetingSessionConfiguration.credentials.attendeeId;a.logger.info("attendeePresenceReceived: ".concat(r)),r===e&&t&&!a.presenceHandlerCalled&&(a.presenceHandlerCalled=!0,a.context.attendeePresenceDurationMs=Date.now()-a.context.startAudioVideoTimestamp,null===(n=a.context.eventController)||void 0===n||n.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:a.context.attendeePresenceDurationMs}))},a.generateBaseAudioVideoEventAttributes=function(){var e=a.context,t=e.signalingOpenDurationMs,n=e.startTimeMs,r=e.iceGatheringDurationMs,i=e.attendeePresenceDurationMs,o=e.meetingStartDurationMs;return{meetingDurationMs:null===n?0:Math.round(Date.now()-n),signalingOpenDurationMs:t,iceGatheringDurationMs:r,attendeePresenceDurationMs:i,meetingStartDurationMs:o}},a.generateAudioVideoEventAttributesForReceivingAudioDropped=function(){var e=a.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},e),{maxVideoTileCount:a.context.maxVideoTileCount,poorConnectionCount:a.context.poorConnectionCount})},a.reconnectionHealthPolicy=new h.default(e.logger,Object.assign({},r),a.initialConnectionHealthData.clone()),a.unusableAudioWarningHealthPolicy=new v.default(Object.assign({},r),a.initialConnectionHealthData.clone()),a.sendingAudioFailureHealthPolicy=new p.default(e.logger,Object.assign({},r),a.initialConnectionHealthData.clone()),a}return a(n,[{key:"removeObserver",value:function(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}},{key:"run",value:function(){return u(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"pauseResubscribeCheck",value:function(){this.isResubscribeCheckPaused=!0}},{key:"resumeResubscribeCheck",value:function(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}},{key:"videoTileDidUpdate",value:function(e){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}},{key:"checkResubscribe",value:function(e){if(this.isResubscribeCheckPaused)return this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),void(this.pendingMetricsReport=e);this.pendingMetricsReport=void 0;var t=e.getObservableMetrics();if(!t)return!1;var n=t.availableOutgoingBitrate,r=t.nackCountReceivedPerSecond,i=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(e);var o=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(i=i||o,o){var a=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=a.truncate(this.context.videoSubscriptionLimit),a.size()>this.context.videosToReceive.size()&&this.logger.warn("Video receive limit exceeded. Limiting the videos to ".concat(this.context.videosToReceive.size(),". Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.")),this.logger.info("trigger resubscribe for down=".concat(o,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"]"))}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:n/1e3,nackCountPerSecond:r});var s=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();i=i||s,s&&(this.logger.info("trigger resubscribe for up=".concat(s,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"]")),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return i}},{key:"metricsDidReceive",value:function(e){var t=e;if(t&&(this.checkResubscribe(e)&&this.context.audioVideoController.update({needsRenegotiation:!1}),this.currentAvailableStreamAvgBitrates)){var i=t.streamMetricReports;if(i){var o=e.getObservableMetrics();this.currentVideoDownlinkBandwidthEstimationKbps=o.availableIncomingBitrate;var a=new Map,s=new Map;for(var c in i)i[c].mediaType===d.default.VIDEO&&i[c].direction===l.default.DOWNSTREAM&&a.set(i[c].streamId,i[c]);var u,h=!1,p=r(this.currentAvailableStreamAvgBitrates.bitrates);try{for(p.s();!(u=p.n()).done;){var v=u.value;if(a.has(v.sourceStreamId)){var m=a.get(v.sourceStreamId),g=this.context.videoStreamIndex.attendeeIdForStreamId(v.sourceStreamId);if(!g)continue;var b=new f.default,y=m.previousMetrics.bytesReceived,w=m.currentMetrics.bytesReceived;if(!y||!w)continue;var S=8*(w-y)/1e3;b.expectedAverageBitrateKbps=v.avgBitrateBps/1e3,b.receivedAverageBitrateKbps=S,b.attendeeId=g,S<v.avgBitrateBps/1e3*n.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR&&(h=!0),s.set(g,b)}}}catch(k){p.e(k)}finally{p.f()}h&&this.logger.info("One or more video streams are not receiving expected amounts of data ".concat(JSON.stringify(Array.from(s.values()))))}}}},{key:"connectionHealthDidChange",value:function(e){var t=this;0===e.consecutiveMissedPongs&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,e,(function(){t.context.audioVideoController.handleMeetingSessionStatus(new m.default(g.default.ConnectionHealthReconnect),null)})),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,e,(function(){var e;t.context.poorConnectionCount+=1;var n=t.generateAudioVideoEventAttributesForReceivingAudioDropped();null===(e=t.context.eventController)||void 0===e||e.publishEvent("receivingAudioDropped",n),t.context.videoTileController.haveVideoTilesWithStreams()?t.context.audioVideoController.forEachObserver((function(e){S.Maybe.of(e.connectionDidSuggestStopVideo).map((function(t){return t.bind(e)()}))})):t.context.audioVideoController.forEachObserver((function(e){S.Maybe.of(e.connectionDidBecomePoor).map((function(t){return t.bind(e)()}))}))}),(function(){t.context.audioVideoController.forEachObserver((function(e){S.Maybe.of(e.connectionDidBecomeGood).map((function(t){return t.bind(e)()}))}))})),this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,e,(function(){var e,n=t.generateBaseAudioVideoEventAttributes();null===(e=t.context.eventController)||void 0===e||e.publishEvent("sendingAudioFailed",n)}),(function(){var e,n=t.generateBaseAudioVideoEventAttributes();null===(e=t.context.eventController)||void 0===e||e.publishEvent("sendingAudioRecovered",n)}))}},{key:"applyHealthPolicy",value:function(e,t,n,r){var i=this;e.update(t);var o=e.healthIfChanged();null!==o&&(this.logger.info("".concat(e.name," value is now ").concat(o)),o<=e.minimumHealth()?S.Maybe.of(n).map((function(e){return e.bind(i)()})):S.Maybe.of(r).map((function(e){return e.bind(i)()})))}},{key:"handleBitrateFrame",value:function(e){var t=0;this.currentAvailableStreamAvgBitrates=e,this.logger.debug((function(){return"simulcast: bitrates from server ".concat(JSON.stringify(e))}));var i,o=r(e.bitrates);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.context.videosToReceive.contain(a.sourceStreamId)&&(t+=a.avgBitrateBps)}}catch(s){o.e(s)}finally{o.f()}t/=1e3,this.currentVideoDownlinkBandwidthEstimationKbps*n.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR<t&&this.logger.info("Downlink bandwidth pressure is high: estimated bandwidth ".concat(this.currentVideoDownlinkBandwidthEstimationKbps,"Kbps, required bandwidth ").concat(t,"Kbps"))}},{key:"handleSignalingClientEvent",value:function(e){var t;if(e.type===b.default.WebSocketClosed&&(4410===e.closeCode||e.closeCode>=4500&&e.closeCode<4600)||e.type===b.default.WebSocketError||e.type===b.default.WebSocketFailed){if(!this.hasSignalingError){var n=this.generateAudioVideoEventAttributesForReceivingAudioDropped();null===(t=this.context.eventController)||void 0===t||t.publishEvent("signalingDropped",n),this.hasSignalingError=!0}}else e.type===b.default.WebSocketOpen&&(this.hasSignalingError=!1);if(e.type===b.default.ReceivedSignalFrame){if(e.message.bitrates){var r=e.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(r),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(e.message.bitrates)}var i=m.default.fromSignalFrame(e.message);e.message.type!==y.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&i.statusCode()!==g.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(i,null)}}}]),n}(n(19).default);t.default=k,k.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR=2,k.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR=.2},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,i,o,"Reconnection Health")).logger=e,a.audioDelayPointsOverMaximum=0,n.CONNECTION_UNHEALTHY_THRESHOLD=i.connectionUnhealthyThreshold,n.CONNECTION_WAIT_TIME_MS=i.connectionWaitTimeMs,n.MISSED_PONGS_THRESHOLD=i.missedPongsUpperThreshold,n.MAXIMUM_AUDIO_DELAY_MS=i.maximumAudioDelayMs,n.MAXIMUM_AUDIO_DELAY_DATA_POINTS=i.maximumAudioDelayDataPoints,a}return i(n,[{key:"health",value:function(){if(this.currentData.isConnectionStartRecent(n.CONNECTION_WAIT_TIME_MS))return 1;var e=this.currentData.consecutiveStatsWithNoPackets>=n.CONNECTION_UNHEALTHY_THRESHOLD,t=this.currentData.consecutiveMissedPongs>=n.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>n.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;var r=this.audioDelayPointsOverMaximum>n.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return r&&(this.audioDelayPointsOverMaximum=0),e||t||r?(this.logger.warn("reconnection recommended due to: no packets received: ".concat(e,", missed pongs: ").concat(t,", bad audio delay: ").concat(r)),0):1}}]),n}(n(107).default);t.default=s},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,i,o,"Sending Audio Health")).logger=e,a.sendingAudioFailureSamplesToConsider=i.sendingAudioFailureSamplesToConsider>0?i.sendingAudioFailureSamplesToConsider:1,a.sendingAudioFailureInitialWaitTimeMs=i.sendingAudioFailureInitialWaitTimeMs,a.maximumTimesToWarn=i.maximumTimesToWarn,a.coolDownTimeMs=i.cooldownTimeMs,a.lastWarnTimestampMs=0,a.warnCount=0,a}return i(n,[{key:"isSendingAudioUnhealthy",value:function(){var e=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),t=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return e&&t}},{key:"health",value:function(){if(this.isSendingAudioUnhealthy()){var e=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!e?(this.logger.warn("Sending Audio is unhealthy for ".concat(this.sendingAudioFailureSamplesToConsider," seconds consecutively.")),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}}]),n}(n(107).default);t.default=s},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e,i){var o;return r(this,n),(o=t.call(this,e,i,"Unusable Audio Warning")).coolDownTimeMs=e.cooldownTimeMs,o.pastSamplesToConsider=e.pastSamplesToConsider,o.fractionalLoss=e.fractionalLoss,o.packetsExpected=e.packetsExpected,o.maximumTimesToWarn=e.maximumTimesToWarn,o.lastWarnTimestampMs=0,o.warnCount=0,o}return i(n,[{key:"calculateFractionalLoss",value:function(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;for(var e=this.pastSamplesToConsider,t=e*this.packetsExpected,n=0,r=0;r<e;r++)n+=this.currentData.packetsReceivedInLastMinute[r];return Math.min(Math.max(1-n/t,0),1)}},{key:"health",value:function(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?0!==this.currentHealth&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}}]),n}(n(107).default);t.default=s},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(254),l=n(29),d=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="OpenSignalingConnectionTask",r.taskCanceler=null,r}return o(n,[{key:"cancel",value:function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n,a=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.meetingSessionConfiguration,this.context.signalingClient.openConnection(new u.default(t.urls.signalingURL,t.credentials.joinToken)),n=Date.now(),e.prev=3,e.next=6,new Promise((function(e,t){var n=new(function(){function n(e){i(this,n),this.signalingClient=e}return o(n,[{key:"cancel",value:function(){this.signalingClient.removeObserver(this),t(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}},{key:"handleSignalingClientEvent",value:function(n){switch(n.type){case l.default.WebSocketOpen:this.signalingClient.removeObserver(this),e();break;case l.default.WebSocketFailed:this.signalingClient.removeObserver(this),t(new Error("WebSocket connection failed"))}}}]),n}())(a.context.signalingClient);a.context.signalingClient.registerObserver(n),a.taskCanceler=n}));case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),e.t0;case 11:return e.prev=11,this.context.signalingOpenDurationMs=Math.round(Date.now()-n),this.logger.info("Opening signaling connection took ".concat(this.context.signalingOpenDurationMs," ms")),e.finish(11);case 15:case"end":return e.stop()}}),e,this,[[3,8,11,15]])})))}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){r(this,e),this.signalingURL=t,this.joinToken=n}return i(e,[{key:"url",value:function(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}},{key:"protocols",value:function(){return["_aws_wt_session",this.joinToken]}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(12).default,o=n(2).default,a=n(3).default,s=n(56).default,c=n(9).default,u=n(10).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){c(n,e);var t=u(n);function n(e,r,a){var c;o(this,n),(c=t.call(this,e)).taskName=r,c.tasksToRunParallel=a;var u,l=i(a);try{for(l.s();!(u=l.n()).done;){u.value.setParent(s(c))}}catch(d){l.e(d)}finally{l.f()}return c}return a(n,[{key:"cancel",value:function(){var e,t=i(this.tasksToRunParallel);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.logger.info("canceling parallel group task ".concat(this.name()," subtask ").concat(n.name())),n.cancel()}}catch(r){t.e(r)}finally{t.f()}}},{key:"run",value:function(){return l(this,void 0,void 0,r().mark((function e(){var t,n,o,a,s,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=i(this.tasksToRunParallel);try{for(n.s();!(o=n.n()).done;)a=o.value,this.logger.info("parallel group task ".concat(this.name()," running subtask ").concat(a.name())),t.push(a.run())}catch(r){n.e(r)}finally{n.f()}s=[],c=0;case 5:if(!(c<t.length)){e.next=18;break}return e.prev=6,e.next=9,t[c];case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),s.push("task ".concat(this.tasksToRunParallel[c].name()," failed: ").concat(e.t0.message));case 14:this.logger.info("parallel group task ".concat(this.name()," completed subtask ").concat(this.tasksToRunParallel[c].name()));case 15:c++,e.next=5;break;case 18:s.length>0&&(u=s.join(", "),this.logAndThrow("parallel group task ".concat(this.name()," failed for tasks: ").concat(u))),this.logger.info("parallel group task ".concat(this.name()," completed"));case 20:case"end":return e.stop()}}),e,this,[[6,11]])})))}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(13),l=n(29),d=n(21),f=function(e){a(n,e);var t=s(n);function n(e,r,o){var a;return i(this,n),(a=t.call(this,e.logger)).context=e,a.credentials=r,a.completionCallback=o,a.taskName="PromoteToPrimaryMeetingTask",a.taskCanceler=null,a}return o(n,[{key:"cancel",value:function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.context.signalingClient.ready()){e.next=7;break}return this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),e.next=5,this.receivePrimaryMeetingJoinAck();case 5:e.next=8;break;case 7:this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"receivePrimaryMeetingJoinAck",value:function(){var e=this;return new Promise((function(t,n){var r=new(function(){function e(t,n,r){i(this,e),this.signalingClient=t,this.completionCallback=n,this.logger=r}return o(e,[{key:"cancel",value:function(){this.signalingClient.removeObserver(this),this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed)),t()}},{key:"handleSignalingClientEvent",value:function(e){e.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new u.MeetingSessionStatus(u.MeetingSessionStatusCode.SignalingRequestFailed)),t()),e.type===l.default.ReceivedSignalFrame&&e.message.type===d.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(u.MeetingSessionStatus.fromSignalFrame(e.message)),t())}}]),e}())(e.context.signalingClient,e.completionCallback,e.context.logger);e.taskCanceler=r,e.context.signalingClient.registerObserver(r)}))}}]),n}(n(19).default);t.default=f},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="ReceiveAudioInputTask",r}return o(n,[{key:"run",value:function(){var e,t;return c(this,void 0,void 0,r().mark((function n(){var i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===(t=null===(e=this.context.meetingSessionConfiguration)||void 0===e?void 0:e.urls)||void 0===t?void 0:t.audioHostURL){n.next=3;break}return this.context.logger.info("No audio connection: not acquiring audio input"),n.abrupt("return");case 3:if(!this.context.activeAudioInput){n.next=6;break}return this.context.logger.info("an active audio input exists"),n.abrupt("return");case 6:return n.prev=6,n.next=9,this.context.mediaStreamBroker.acquireAudioInputStream();case 9:i=n.sent,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(6),this.context.logger.warn("could not acquire audio input from current device");case 15:i?this.context.activeAudioInput=i:this.context.logger.warn("an audio input is not available");case 16:case"end":return n.stop()}}),n,this,[[6,12]])})))}}]),n}(n(19).default);t.default=u},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(45),l=n(153),d=n(63),f=n(52),h=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="ReceiveTURNCredentialsTask",r.url=e.meetingSessionConfiguration.urls.turnControlURL,r.meetingId=e.meetingSessionConfiguration.meetingId,r.joinToken=e.meetingSessionConfiguration.credentials.joinToken,r}return o(n,[{key:"cancel",value:function(){if(this.cancelPromise){var e=new Error("canceling ".concat(this.name()));this.cancelPromise(e),delete this.cancelPromise}}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.context.turnCredentials){e.next=3;break}return this.context.logger.info("TURN credentials available, skipping credentials fetch"),e.abrupt("return");case 3:if(this.context.logger.error("missing TURN credentials - falling back to fetch"),this.url){e.next=7;break}return this.context.logger.info("TURN control url not supplied, skipping credentials fetch"),e.abrupt("return");case 7:return t={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new d.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})},this.context.logger.info("requesting TURN credentials from ".concat(this.url)),e.next=11,new Promise((function(e,n){return c(i,void 0,void 0,r().mark((function i(){var o;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.cancelPromise=function(e){n(e)},r.prev=1,r.next=4,fetch(f.default.urlWithVersion(this.url),t);case 4:if(o=r.sent,this.context.logger.info("received TURN credentials"),!o.status||403!==o.status){r.next=9;break}return n(new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(u.default.TURNCredentialsForbidden))),r.abrupt("return");case 9:if(!o.status||404!==o.status){r.next=12;break}return n(new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(u.default.MeetingEnded))),r.abrupt("return");case 12:return r.t0=e,r.next=15,o.json();case 15:r.t1=r.sent,(0,r.t0)(r.t1),r.next=22;break;case 19:r.prev=19,r.t2=r.catch(1),n(r.t2);case 22:return r.prev=22,delete this.cancelPromise,r.finish(22);case 25:case"end":return r.stop()}}),i,this,[[1,19,22,25]])})))}));case 11:n=e.sent,this.context.turnCredentials=new l.default,this.context.turnCredentials.password=n.password,this.context.turnCredentials.ttl=n.ttl,this.context.turnCredentials.uris=n.uris.map((function(e){return i.context.meetingSessionConfiguration.urls.urlRewriter(e)})).filter((function(e){return!!e})),this.context.turnCredentials.username=n.username;case 17:case"end":return e.stop()}}),e,this)})))}}]),n}(n(19).default);t.default=h},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(63),l=n(21),d=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="ReceiveVideoInputTask",r}return o(n,[{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n,i,o,a,s,c,d,f,h,p,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.context.videoDuplexMode===l.SdkStreamServiceType.RX||this.context.videoDuplexMode===l.SdkStreamServiceType.DUPLEX,this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=t?l.SdkStreamServiceType.DUPLEX:l.SdkStreamServiceType.TX:this.context.videoDuplexMode=t?l.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),this.context.videoTileController.hasStartedLocalVideoTile()){e.next=7;break}return this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([])),e.abrupt("return");case 7:return n=this.context.videoTileController.getLocalVideoTile(),i=void 0,e.prev=9,e.next=12,this.context.mediaStreamBroker.acquireVideoInputStream();case 12:i=e.sent,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(9),this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile();case 19:if(this.context.enableSimulcast&&(o=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(o.values()))),this.context.activeVideoInput=i,!i){e.next=42;break}if((a=i.getVideoTracks())&&0!==a.length){e.next=25;break}return e.abrupt("return");case 25:if(s=this.context.meetingSessionConfiguration.credentials.attendeeId,c=new u.default(s).hasModality(u.default.MODALITY_CONTENT),d=a[0].getSettings(),!this.context.enableSimulcast||c){e.next=39;break}return f=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints(),this.context.logger.info("simulcast: choose constraint ".concat(JSON.stringify(f))),e.prev=31,e.next=34,a[0].applyConstraints(f);case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(31),this.context.logger.info("simulcast: pass video without more constraint");case 39:for(h=this.context.audioVideoController.configuration.credentials.externalUserId,n.bindVideoStream(s,!0,i,d.width,d.height,null,h),p=0;p<a.length;p++)v=a[p],this.logger.info("using video device label=".concat(v.label," id=").concat(v.id)),this.context.videoDeviceInformation.current_camera_name=v.label,this.context.videoDeviceInformation.current_camera_id=v.id;case 42:case"end":return e.stop()}}),e,this,[[9,15],[31,36]])})))}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r=n(12).default,i=n(76).default,o=n(7).default,a=n(2).default,s=n(3).default,c=n(9).default,u=n(10).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(148),f=n(63),h=n(145),p=n(29),v=n(21),m=n(44),g=function(e){c(n,e);var t=u(n);function n(e){var r;return a(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="ReceiveVideoStreamIndexTask",r.isIngestionPaused=!1,r.pendingIndex=null,r}return s(n,[{key:"removeObserver",value:function(){this.context.signalingClient.removeObserver(this)}},{key:"run",value:function(){return l(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"handleSignalingClientEvent",value:function(e){if(e.type===p.default.ReceivedSignalFrame&&e.message.type===v.SdkSignalFrame.Type.INDEX){var t=e.message.index;this.context.logger.info("received new index ".concat(JSON.stringify(t))),this.handleIndexFrame(t)}}},{key:"pauseIngestion",value:function(){this.isIngestionPaused=!0}},{key:"resumeIngestion",value:function(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}},{key:"handleIndexFrame",value:function(e){if(e){if(this.isIngestionPaused)return this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),void(this.pendingIndex=e);this.pendingIndex=null;var t=this.context.audioVideoController.configuration.credentials.attendeeId;e.sources=e.sources.filter((function(e){var n=new f.default(e.attendeeId);return!(n.base()===t&&n.hasModality(f.default.MODALITY_CONTENT))}));var n=this.context,r=n.videoStreamIndex,i=n.videoDownlinkBandwidthPolicy,o=n.videoUplinkBandwidthPolicy,a=r.allVideoSendingSourcesExcludingSelf(t);r.integrateIndexFrame(e),i.updateIndex(r),o.updateIndex(r),this.resubscribe(i,o),this.updateVideoAvailability(e),this.handleIndexVideosPausedAtSource(),e.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(e);var s=r.allVideoSendingSourcesExcludingSelf(t);this.areVideoSourcesEqual(a,s)||this.context.audioVideoController.forEachObserver((function(e){m.Maybe.of(e.remoteVideoSourcesDidChange).map((function(t){return t.bind(e)(s)}))}))}}},{key:"areVideoSourcesEqual",value:function(e,t){if(e.length!==t.length)return!1;for(var n=function(e,t){return e.attendee.attendeeId.localeCompare(t.attendee.attendeeId)},r=i(e).sort(n),o=i(t).sort(n),a=0;a<r.length;a++)if(r[a].attendee.attendeeId!==o[a].attendee.attendeeId)return!1;return!0}},{key:"resubscribe",value:function(e,t){var n=e.wantsResubscribe(),r=(this.context.videoDuplexMode===v.SdkStreamServiceType.TX||this.context.videoDuplexMode===v.SdkStreamServiceType.DUPLEX)&&t.wantsResubscribe(),i=n||r;if(this.logger.info("should resubscribe: ".concat(i," (downlink: ").concat(n," uplink: ").concat(r,")")),i){var o=e.chooseSubscriptions();this.context.videosToReceive=o.truncate(this.context.videoSubscriptionLimit),o.size()>this.context.videosToReceive.size()&&this.logger.warn("Video receive limit exceeded. Limiting the videos to ".concat(this.context.videosToReceive.size(),". Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.")),this.context.videoCaptureAndEncodeParameter=t.chooseCaptureAndEncodeParameters(),this.logger.info("trigger resubscribe for up=".concat(r," down=").concat(n,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"] captureParams=").concat(JSON.stringify(this.context.videoCaptureAndEncodeParameter))),this.context.audioVideoController.update({needsRenegotiation:!1})}}},{key:"updateVideoAvailability",value:function(e){if(this.context.videosToReceive){var t=new d.default;t.remoteVideoAvailable=!this.context.videosToReceive.empty(),t.canStartLocalVideo=!e.atCapacity,this.context.lastKnownVideoAvailability&&this.context.lastKnownVideoAvailability.equal(t)||(this.context.lastKnownVideoAvailability=t.clone(),this.context.audioVideoController.forEachObserver((function(e){m.Maybe.of(e.videoAvailabilityDidChange).map((function(n){return n.bind(e)(t.clone())}))})))}else this.logger.error("videosToReceive must be set in the meeting context.")}},{key:"handleSupportedVideoReceiveCodecIntersection",value:function(e){if(void 0!==this.context.videoSendCodecPreferences){var t,n=[],i=!1,o=r(this.context.videoSendCodecPreferences);try{for(o.s();!(t=o.n()).done;){var a,s=t.value,c=r(e.supportedReceiveCodecIntersection);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(s.equals(h.default.fromSignaled(u))){n.push(s);break}}}catch(l){c.e(l)}finally{c.f()}s.equals(this.context.currentVideoSendCodec)&&(i=!0)}}catch(l){o.e(l)}finally{o.f()}n.length>0?this.context.meetingSupportedVideoSendCodecPreferences=n:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),i&&this.context.audioVideoController.update({needsRenegotiation:!0})}}},{key:"handleIndexVideosPausedAtSource",value:function(){var e,t=this.context.videoStreamIndex.streamsPausedAtSource(),n=r(this.context.videoTileController.getAllVideoTiles());try{for(n.s();!(e=n.n()).done;){var i=e.value,o=i.state();t.contain(o.streamId)?i.markPoorConnection()&&this.logger.info("marks the tile ".concat(o.tileId," as having a poor connection")):i.unmarkPoorConnection()&&this.logger.info("unmarks the tile ".concat(o.tileId," as having a poor connection"))}}catch(a){n.e(a)}finally{n.f()}}}]),n}(n(19).default);t.default=g},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(224),d=n(29),f=n(21),h=function(e){s(n,e);var t=c(n);function n(e){var r;return o(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="SendAndReceiveDataMessagesTask",r.sendDataMessageHandler=function(e,t,n){if(r.context.signalingClient.ready()){var i;i=t instanceof Uint8Array?t:"string"===typeof t?(new TextEncoder).encode(t):(new TextEncoder).encode(JSON.stringify(t)),r.validateDataMessage(e,i,n);var o=f.SdkDataMessagePayload.create();o.topic=e,o.lifetimeMs=n,o.data=i;var a=f.SdkDataMessageFrame.create();a.messages=[o],r.context.signalingClient.sendDataMessage(a)}else r.context.logger.error("Signaling client is not ready")},r}return a(n,[{key:"run",value:function(){return u(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"removeObserver",value:function(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}},{key:"handleSignalingClientEvent",value:function(e){if(e.type===d.default.ReceivedSignalFrame&&e.message.type===f.SdkSignalFrame.Type.DATA_MESSAGE){var t,n=r(e.message.dataMessage.messages);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=new l.default(i.ingestTimeNs/1e6,i.topic,i.data,i.senderAttendeeId,i.senderExternalUserId,0===i.ingestTimeNs);this.context.realtimeController.realtimeReceiveDataMessage(o)}}catch(a){n.e(a)}finally{n.f()}}}},{key:"validateDataMessage",value:function(e,t,r){if(!n.TOPIC_REGEX.test(e))throw new Error("Invalid topic");if(t.length>n.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(r&&r<0)throw new Error("The life time of the message has to be non negative")}}]),n}(n(19).default);t.default=h,h.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),h.DATA_SIZE=2048},function(e,t,n){"use strict";var r=n(7).default,i=n(12).default,o=n(2).default,a=n(3).default,s=n(56).default,c=n(9).default,u=n(10).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(19),f=n(135),h=function(e){c(n,e);var t=u(n);function n(e,r,a){var c;o(this,n),(c=t.call(this,e)).taskName=r,c.tasksToRunSerially=a,c.currentTask=null;var u,l=i(a);try{for(l.s();!(u=l.n()).done;){u.value.setParent(s(c))}}catch(d){l.e(d)}finally{l.f()}return c}return a(n,[{key:"cancel",value:function(){this.currentTask&&(this.logger.info("canceling serial group task ".concat(this.name()," subtask ").concat(this.currentTask.name())),this.currentTask.cancel())}},{key:"run",value:function(){return l(this,void 0,void 0,r().mark((function e(){var t,n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i(this.tasksToRunSerially),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=22;break}return o=n.value,this.getStatus()===f.default.CANCELED&&this.logAndThrow("serial group task ".concat(this.name()," was canceled")),e.prev=6,this.logger.info("serial group task ".concat(this.name()," running subtask ").concat(o.name())),this.currentTask=o,e.next=11,o.run();case 11:this.logger.info("serial group task ".concat(this.name()," completed subtask ").concat(o.name())),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),this.logAndThrow("serial group task ".concat(this.name()," was canceled due to subtask ")+"".concat(this.currentTask.name()," error: ").concat(e.t0.message));case 17:return e.prev=17,this.currentTask=null,e.finish(17);case 20:e.next=3;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(1),t.e(e.t1);case 27:return e.prev=27,t.f(),e.finish(27);case 30:this.logger.info("serial group task ".concat(this.name()," completed"));case 31:case"end":return e.stop()}}),e,this,[[1,24,27,30],[6,14,17,20]])})))}}]),n}(d.default);t.default=h},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(31),l=n(75),d=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="SetLocalDescriptionTask",r}return o(n,[{key:"cancel",value:function(){if(this.cancelPromise){var e=new Error("canceling ".concat(this.name()));this.cancelPromise(e),delete this.cancelPromise}}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n,i,o,a=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.peer,n=this.context.sdpOfferInit,i=n.sdp,this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(i=new l.default(i).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),(new u.default).requiresDisablingH264Encoding()&&(i=new l.default(i).removeH264SupportFromSendSection().sdp),void 0!==this.context.videoSendCodecPreferences&&this.context.videoSendCodecPreferences.length>0&&(i=new l.default(i).withVideoSendCodecPreferences(void 0!==this.context.meetingSupportedVideoSendCodecPreferences?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(i=new l.default(i).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(i=new l.default(i).withStereoAudio().sdp)),this.logger.debug((function(){return"local description is >>>".concat(i,"<<<")})),o={type:"offer",sdp:i,toJSON:null},e.next=11,new Promise((function(e,n){return c(a,void 0,void 0,r().mark((function i(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.cancelPromise=function(e){n(e)},r.prev=1,r.next=4,t.setLocalDescription(o);case 4:e(),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),n(r.t0);case 10:return r.prev=10,delete this.cancelPromise,r.finish(10);case 13:case"end":return r.stop()}}),i,this,[[1,7,10,13]])})))}));case 11:this.context.logger.info("set local description");case 12:case"end":return e.stop()}}),e,this)})))}}]),n}(n(19).default);t.default=d},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(75),l=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="SetRemoteDescriptionTask",r}return o(n,[{key:"cancel",value:function(){this.cancelICEPromise&&this.cancelICEPromise()}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description"),t=this.context.sdpAnswer,t=new u.default(t).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(t=new u.default(t).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(t=new u.default(t).withStereoAudio().sdp)),void 0!==this.context.videoSendCodecPreferences&&this.context.videoSendCodecPreferences.length>0&&(t=new u.default(t).withVideoSendCodecPreferences(void 0!==this.context.meetingSupportedVideoSendCodecPreferences?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp,this.context.currentVideoSendCodec=new u.default(t).highestPriorityVideoSendCodec()),this.logger.info("processed remote description is >>>".concat(t,"<<<")),n={type:"answer",sdp:t,toJSON:null},e.prev=8,e.next=11,this.createICEConnectionCompletedPromise(n);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(8),e.t0;case 16:case"end":return e.stop()}}),e,this,[[8,13]])})))}},{key:"createICEConnectionCompletedPromise",value:function(e){var t=this;return new Promise((function(n,i){return c(t,void 0,void 0,r().mark((function t(){var o,a=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function e(){"connected"!==a.context.peer.iceConnectionState&&"completed"!==a.context.peer.iceConnectionState||(a.context.peer.removeEventListener("iceconnectionstatechange",e),n())},this.cancelICEPromise=function(){a.context.peer&&a.context.peer.removeEventListener("iceconnectionstatechange",o),i(new Error("".concat(a.name()," got canceled while waiting for the ICE connection state")))},this.context.peer.addEventListener("iceconnectionstatechange",o),t.prev=3,t.next=6,this.context.peer.setRemoteDescription(e);case 6:this.logger.info("set remote description, waiting for ICE connection"),o(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),i(t.t0);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})))}))}}]),n}(n(19).default);t.default=l},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(77),d=n(45),f=n(75),h=n(266),p=n(65),v=n(29),m=n(267),g=n(152),b=n(21),y=function(e){s(n,e);var t=c(n);function n(e){var r;return o(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="SubscribeAndReceiveSubscribeAckTask",r.taskCanceler=null,r.textCompressor=new h.default(e.logger),r}return a(n,[{key:"cancel",value:function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}},{key:"run",value:function(){return u(this,void 0,void 0,i().mark((function e(){var t,n,r,o,a,s,c,u,l,d,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",this.context.peer&&this.context.peer.localDescription&&(t=new f.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),this.context.enableSimulcast||(n=0,r=0,this.context.videoCaptureAndEncodeParameter&&(n=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),r=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]),o={rid:"hi",maxBitrate:1e3*r,maxFramerate:n,active:!0},this.context.videoStreamIndex.integrateUplinkPolicyDecision([o])),this.context.videoStreamIndex.subscribeFrameSent(),a=this.fixUpSubscriptionOrder(t,this.context.videoSubscriptions),s=this.context.videoDuplexMode===b.SdkStreamServiceType.TX||this.context.videoDuplexMode===b.SdkStreamServiceType.DUPLEX,u=t,this.context.serverSupportsCompression&&(l=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"",c=this.textCompressor.compress(u,l),this.context.logger.info("Compressed the SDP message from ".concat(u.length," to ").concat(c.length," bytes.")),t=""),this.context.previousSdpOffer=new f.default(u),d=new m.default(this.context.meetingSessionConfiguration.credentials.attendeeId,t,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,a,s,this.context.videoStreamIndex.localStreamDescriptions(),!0,c),void 0!==this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption&&this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()!==p.default.None&&void 0!==this.context.videoDownlinkBandwidthPolicy.getVideoPreferences&&(d.videoSubscriptionConfiguration=this.convertVideoPreferencesToVideoSubscriptionConfiguration(a,this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info("sending subscribe: ".concat(JSON.stringify(d))),this.context.signalingClient.subscribe(d),e.next=15,this.receiveSubscribeAck();case 15:h=e.sent,this.context.logger.info("got subscribe ack: ".concat(JSON.stringify(h))),v="",h.compressedSdpAnswer&&h.compressedSdpAnswer.length?(0===(v=this.textCompressor.decompress(h.compressedSdpAnswer,this.context.previousSdpAnswerAsString)).length&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info("Decompressed the SDP message from ".concat(h.compressedSdpAnswer.length," to ").concat(v.length," bytes.")),this.context.sdpAnswer=v):this.context.sdpAnswer=h.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(h);case 21:case"end":return e.stop()}}),e,this)})))}},{key:"fixUpSubscriptionOrder",value:function(e,t){if(void 0===this.context.transceiverController.getMidForStreamId)return t;var n,i=new Map,o=r(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=this.context.transceiverController.getMidForStreamId(a);void 0!==s?i.set(s,a):0!==a&&this.logger.warn("Could not find MID for stream ID: ".concat(a))}}catch(v){o.e(v)}finally{o.f()}var c,u=new f.default(e).mediaSections(),l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var h=c.value;if("video"===h.mediaType)if("recvonly"===h.direction){var p=i.get(h.mid);if(void 0===p){this.logger.warn("Could not find stream ID for MID: ".concat(h.mid));continue}l.push(p)}else l.push(0)}}catch(v){d.e(v)}finally{d.f()}return this.logger.info("Fixed up ".concat(JSON.stringify(t)," to ").concat(JSON.stringify(l)," (may be same))}")),l}},{key:"convertVideoPreferencesToVideoSubscriptionConfiguration",value:function(e,t){if(void 0===this.context.transceiverController.getMidForStreamId||void 0===t)return[];var n,i=new Array,o=new Map,a=new Map,s=r(e);try{for(s.s();!(n=s.n()).done;){var c=n.value,u=this.context.transceiverController.getMidForStreamId(c);if(void 0!==u){var l=this.context.videoStreamIndex.attendeeIdForStreamId(c);o.set(l,u),a.set(l,this.context.videoStreamIndex.groupIdForStreamId(c))}else 0!==c&&this.context.logger.warn("Could not find MID for stream ID: ".concat(c))}}catch(m){s.e(m)}finally{s.f()}var d,f=r(t);try{for(f.s();!(d=f.n()).done;){var h=d.value,p=new g.default,v=o.get(h.attendeeId);void 0!==v?(p.mid=v,p.attendeeId=h.attendeeId,p.groupId=a.get(h.attendeeId),p.priority=Number.MAX_SAFE_INTEGER-h.priority,p.targetBitrateKbps=h.targetSizeToBitrateKbps(h.targetSize),i.push(p)):this.context.logger.warn("Could not find MID for attendee ID: ".concat(h.attendeeId))}}catch(m){f.e(m)}finally{f.f()}return i}},{key:"receiveSubscribeAck",value:function(){var e=this;return new Promise((function(t,n){var r=e.context,i=new(function(){function e(t){o(this,e),this.signalingClient=t}return a(e,[{key:"cancel",value:function(){this.signalingClient.removeObserver(this),n(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}},{key:"handleSignalingClientEvent",value:function(e){if(e.isConnectionTerminated()){var n="SubscribeAndReceiveSubscribeAckTask connection was terminated with code ".concat(e.closeCode," and reason: ").concat(e.closeReason);r.logger.warn(n);var i=d.default.TaskFailed;return e.closeCode>=4500&&e.closeCode<4600&&(i=d.default.SignalingInternalServerError),void r.audioVideoController.handleMeetingSessionStatus(new l.default(i),new Error(n))}if(e.type===v.default.ReceivedSignalFrame&&e.message.type===b.SdkSignalFrame.Type.SUBSCRIBE_ACK){this.signalingClient.removeObserver(this);var o=e.message.suback;t(o)}}}]),e}())(e.context.signalingClient);e.context.signalingClient.registerObserver(i),e.taskCanceler=i}))}}]),n}(n(19).default);t.default=y},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(417),a=function(){function e(t){r(this,e),this.logger=t}return i(e,[{key:"compress",value:function(t,n){if(n.length>0){var r=Math.min(n.length,e.MAX_DICTIONARY_SIZE);n=n.slice(0,r)}var i={memLevel:e.Z_MEM_LEVEL,dictionary:n};return o.deflateRaw(t,i)}},{key:"decompress",value:function(t,n){if(n.length>0){var r=Math.min(n.length,e.MAX_DICTIONARY_SIZE);n=n.slice(0,r)}var i={to:"string",dictionary:n,chunkSize:4096},a="";try{a=o.inflateRaw(t,i)}catch(s){this.logger.error("failed to decompress the string with error: [".concat(s,"]"))}return a}}]),e}();t.default=a,a.Z_MEM_LEVEL=9,a.MAX_DICTIONARY_SIZE=31744},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(t,n,r,o,a,s,c,u,l,d){i(this,e),this.attendeeId=t,this.sdpOffer=n,this.audioHost=r,this.audioMuted=o,this.audioCheckin=a,this.receiveStreamIds=s,this.localVideoEnabled=c,this.videoStreamDescriptions=u,this.connectionTypeHasVideo=l,this.compressedSdpOffer=d,this.videoSubscriptionConfiguration=[]}));t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(45),l=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e.logger)).context=e,r.taskName="WaitForAttendeePresenceTask",r}return o(n,[{key:"cancel",value:function(){if(this.cancelPromise){var e=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(u.default.NoAttendeePresent));this.cancelPromise(e),delete this.cancelPromise}}},{key:"run",value:function(){return c(this,void 0,void 0,r().mark((function e(){var t,n=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context.meetingSessionConfiguration.credentials.attendeeId,e.abrupt("return",new Promise((function(e,r){var i=function r(i,o,a,s,c){t===i&&o&&(n.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(r),e(),delete n.cancelPromise)};n.cancelPromise=function(e){n.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i),r(e)},n.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(i)})));case 2:case"end":return e.stop()}}),e,this)})))}}]),n}(n(19).default);t.default=l},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e,i){return r(this,n),t.call(this,e,i)}return i(n,[{key:"setupLocalTransceivers",value:function(){this.useTransceivers()&&(this.defaultMediaStream||"undefined"===typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}}]),n}(n(110).default);t.default=s},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default,a=n(56).default,s=n(57).default,c=n(9).default,u=n(10).default,l=n(418).default,d=n(43).default;Object.defineProperty(t,"__esModule",{value:!0});var f=n(94),h=n(156),p=n(112),v=function(e){c(n,e);var t=u(n);function n(e){var r,o;return i(this,n),(o=t.call(this,e)).logger=e,l((r=a(o),d(n.prototype)),"shouldPauseTiles",!1,r,!0),o.videoPreferences=void 0,o}return o(n,[{key:"reset",value:function(){s(d(n.prototype),"reset",this).call(this),l(d(n.prototype),"shouldPauseTiles",!1,this,!0),this.videoPreferences=void 0}},{key:"updateIndex",value:function(e){s(d(n.prototype),"updateIndex",this).call(this,e);var t,i=p.VideoPreferences.prepare(),o=!1,a=e.remoteStreamDescriptions(),c=r(a);try{var u=function(){var e=t.value;i.some((function(t){return t.attendeeId===e.attendeeId}))||(e.attendeeId.endsWith(f.default.Modality)?(i.add(new h.default(e.attendeeId,1)),o=!0):i.add(new h.default(e.attendeeId,2)))};for(c.s();!(t=c.n()).done;)u()}catch(l){c.e(l)}finally{c.f()}o?(this.videoPreferences=i.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}},{key:"chooseRemoteVideoSources",value:function(e){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}}]),n}(n(271).default);t.default=v},function(e,t,n){"use strict";var r=n(12).default,i=n(3).default,o=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(92),s=n(93),c=n(94),u=n(48),l=n(65),d=n(73),f=n(157),h=n(156),p=n(112),v=n(272),m=i((function e(){o(this,e),this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0})),g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.default.Default;o(this,e),this.logger=t,this.videoPriorityBasedPolicyConfig=n,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.reset()}return i(e,[{key:"reset",value:function(){this.optimalReceiveSet=new d.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new d.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new d.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=e.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=e.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new m,this.prevDownlinkStats=new m,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption}},{key:"bindToTileController",value:function(e){this.tileController=e,this.logger.info("tileController bound")}},{key:"chooseRemoteVideoSources",value:function(e){var t;(null===(t=this.videoPreferences)||void 0===t?void 0:t.equals(e))||(this.videoPreferences=null===e||void 0===e?void 0:e.clone(),this.videoPreferencesUpdated=!0,this.logger.info("bwe: setVideoPreferences bwe: new preferences: ".concat(JSON.stringify(e))))}},{key:"updateIndex",value:function(e){this.videoIndex=e,this.videoPreferences||this.updateDefaultVideoPreferences()}},{key:"updateDefaultVideoPreferences",value:function(){var e,t=new Set,n=r(this.videoIndex.remoteStreamDescriptions());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.add(i.attendeeId)}}catch(d){n.e(d)}finally{n.f()}var o=p.VideoPreferences.prepare(),a=t.size,s=f.default.High;a>8?s=f.default.Low:a>4&&(s=f.default.Medium);var c,u=r(t);try{for(u.s();!(c=u.n()).done;){var l=c.value;o.add(new h.default(l,1,s))}}catch(d){u.e(d)}finally{u.f()}this.defaultVideoPreferences=o.build()}},{key:"updateMetrics",value:function(e){if(this.videoIndex&&!this.videoIndex.allStreams().empty()){this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new m;var t=e.getObservableMetrics();for(var n in this.downlinkStats.bandwidthEstimateKbps=t.availableIncomingBitrate/1e3,e.streamMetricReports){var r=Number.parseInt(n,10),i=e.streamMetricReports[r];i.direction===a.default.DOWNSTREAM&&i.mediaType===s.default.VIDEO&&(i.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=e.countPerSecond("nackCount",r)),i.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=e.countPerSecond("packetsLost",r)),i.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=e.bitsPerSecond("bytesReceived",r)/1e3))}}}},{key:"wantsResubscribe",value:function(){return this.calculateOptimalReceiveSet(),!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}},{key:"chooseSubscriptions",value:function(){return this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone()}},{key:"addObserver",value:function(e){this.observerQueue.add(e)}},{key:"removeObserver",value:function(e){this.observerQueue.delete(e)}},{key:"forEachObserver",value:function(e){var t,n=r(this.observerQueue);try{for(n.s();!(t=n.n()).done;){e(t.value)}}catch(i){n.e(i)}finally{n.f()}}},{key:"setVideoPriorityBasedPolicyConfigs",value:function(e){this.videoPriorityBasedPolicyConfig=e}},{key:"calculateOptimalReceiveStreams",value:function(){var t,n=[],i=this.videoIndex.remoteStreamDescriptions();if(0===i.length||(null===(t=this.videoPreferences)||void 0===t?void 0:t.isEmpty()))this.optimalReceiveStreams=[];else{var o=this.rateProbeState;this.cleanBwPausedTiles(i),this.handleAppPausedStreams(n,i);var a=this.availStreamsSameAsLast(i),s=!this.startupPeriod&&a;if(!(s&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)){i.sort((function(e,t){return e.maxBitrateKbps===t.maxBitrateKbps?e.streamId-t.streamId:e.maxBitrateKbps-t.maxBitrateKbps}));var d,f=r(i);try{for(f.s();!(d=f.n()).done;){var h=d.value;(0===h.avgBitrateKbps||h.avgBitrateKbps>h.maxBitrateKbps)&&(h.attendeeId.endsWith(c.default.Modality)&&h.maxBitrateKbps<100?h.maxBitrateKbps=h.avgBitrateKbps:h.avgBitrateKbps=h.maxBitrateKbps)}}catch(k){f.e(k)}finally{f.f()}var p={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};p.targetDownlinkBitrate=this.determineTargetRate();var v=this.subscribedReceiveSet.size(),m=this.downlinkStats.bandwidthEstimateKbps,g=!this.videoPriorityBasedPolicyConfig.allowSubscribe(v,m);if(!(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=e.MIN_TIME_BETWEEN_SUBSCRIBE_MS,s&&g))){var b=this.priorityPolicy(p,i,n),y=0;if(this.serverSideNetworkAdaption!==l.default.None&&this.serverSideNetworkAdaption!==l.default.Default||this.startupPeriod||!a?(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0):"Probing"===this.rateProbeState?y=this.handleProbe(n,p.targetDownlinkBitrate):0!==p.deltaToNextUpgrade&&(y=this.maybeOverrideOrProbe(n,p,b)),this.prevRemoteInfos=i,this.videoPreferencesUpdated=!1,1===y)return this.logger.info("bwe: keepSameSubscriptions stats:".concat(JSON.stringify(this.downlinkStats))),void(this.prevTargetRateKbps=p.targetDownlinkBitrate);if(2===y){var w=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);return this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(i,this.preProbeNonPausedReceiveStreams),void this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+w)}this.optimalNonPausedReceiveStreams=n.slice();var S=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(i,n),this.logger.getLogLevel()<=u.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==o||this.optimalReceiveStreams.length!==n.length||S!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(i,p.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=p.targetDownlinkBitrate,this.optimalReceiveStreams=n.slice()}}}}},{key:"calculateOptimalReceiveSet",value:function(){var e=new d.default;this.calculateOptimalReceiveStreams();var t,n=r(this.optimalReceiveStreams);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.add(i.streamId)}}catch(a){n.e(a)}finally{n.f()}if(!this.optimalReceiveSet.equal(e)){var o=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info("bwe: new streamSelection: ".concat(JSON.stringify(e)," subscribedRate:").concat(o))}this.optimalReceiveSet=e}},{key:"determineTargetRate",value:function(){var t=this,n=0,r=Date.now();return 0!==this.downlinkStats.bandwidthEstimateKbps?(0===this.firstEstimateTimestamp&&(this.firstEstimateTimestamp=r),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>e.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||r-this.firstEstimateTimestamp>e.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?n=e.DEFAULT_BANDWIDTH_KBPS:"Probing"===this.rateProbeState&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<e.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info("bwe: In probe state, overriding estimate ".concat(this.downlinkStats.bandwidthEstimateKbps," with actual receive bitrate ").concat(this.downlinkStats.usedBandwidthKbps)),n=this.downlinkStats.usedBandwidthKbps+e.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):n=this.downlinkStats.bandwidthEstimateKbps):n=0===this.firstEstimateTimestamp?e.DEFAULT_BANDWIDTH_KBPS:this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-e.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*e.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&0===this.downlinkStats.packetsLost?(this.logger.debug((function(){return"bwe: ValidateRate: Using Previous rate "+t.prevTargetRateKbps})),this.usingPrevTargetRate=!0,n=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,n}},{key:"setProbeState",value:function(t){if(this.rateProbeState===t)return!1;var n=Date.now();switch(t){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(!(0===this.lastProbeTimestamp||n-this.lastProbeTimestamp>e.MIN_TIME_BETWEEN_PROBE_MS))return!1;this.probePendingStartTimestamp=n;break;case"Probing":if(!(n-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs))return!1;this.lastProbeTimestamp=n,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(2*this.timeBeforeAllowProbeMs,e.MAX_HOLD_BEFORE_PROBE_MS)}return this.logger.info("bwe: setProbeState to "+t+" from "+this.rateProbeState),this.rateProbeState=t,!0}},{key:"upgradeToStream",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n].groupId===t.groupId){var r=t.avgBitrateKbps-e[n].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(e[n])+" to "+t),this.lastUpgradeRateKbps=r,e[n]=t,r}return e.push(t),this.lastUpgradeRateKbps=t.avgBitrateKbps,this.lastUpgradeRateKbps}},{key:"handleProbe",value:function(t,n){if(Date.now()-this.lastProbeTimestamp>e.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info("bwe: Probe encountering packets lost:".concat(this.downlinkStats.packetsLost)),this.downlinkStats.packetsLost>e.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info("bwe: Canceling probe due to packets lost:".concat(this.downlinkStats.packetsLost)),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=3*Math.max(e.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs),2;var r=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(t)||n>r?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=e.MIN_TIME_BETWEEN_PROBE_MS,0):1}},{key:"maybeOverrideOrProbe",value:function(t,n,r){var i=this.chosenStreamsSameAsLast(t),o=0,a=n.targetDownlinkBitrate>e.LOW_BITRATE_THRESHOLD_KBPS?e.TARGET_RATE_CHANGE_TRIGGER_PERCENT:2*e.TARGET_RATE_CHANGE_TRIGGER_PERCENT,s=n.targetDownlinkBitrate*a/100;if(this.targetRateBaselineForDeltaCheckKbps=void 0!==this.targetRateBaselineForDeltaCheckKbps?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!i&&Math.abs(n.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<s?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),o=1):this.targetRateBaselineForDeltaCheckKbps=n.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,o;if(i||1===o)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(t,r),o=0)}else this.setProbeState("Not Probing");return o}},{key:"calculateSubscribeRate",value:function(e){var t,n=0,i=r(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.pausedStreamIds.contain(o.streamId)||this.pausedBwAttendeeIds.has(o.attendeeId)||(n+=o.maxBitrateKbps)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"handleAppPausedStreams",value:function(e,t){if(this.tileController){this.pausedStreamIds=new d.default;var n,i=this.tileController.getAllRemoteVideoTiles(),o=r(i);try{for(o.s();!(n=o.n()).done;){var a=n.value.state();if(a.paused&&!this.pausedBwAttendeeIds.has(a.boundAttendeeId))for(var s=t.length;s--;)t[s].attendeeId===a.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+a.boundAttendeeId+" streamId: "+t[s].streamId),this.pausedStreamIds.add(t[s].streamId),this.subscribedReceiveSet.contain(t[s].streamId)&&e.push(t[s]),t.splice(s,1))}}catch(c){o.e(c)}finally{o.f()}}else this.logger.warn("tileController not found!")}},{key:"processBwPausedStreams",value:function(e,t){var n=this;if(this.tileController){var i=this.getCurrentVideoPreferences();if(i&&this.shouldPauseTiles){var o,a=this.tileController.getAllVideoTiles(),s=r(i);try{var c=function(){var r=o.value,i=n.getVideoTileForAttendeeId(r.attendeeId,a),s=(null===i||void 0===i?void 0:i.state().paused)||!1;if(t.some((function(e){return e.attendeeId===r.attendeeId})))s&&n.pausedBwAttendeeIds.has(r.attendeeId)&&(n.logger.info("bwe: unpausing attendee ".concat(r.attendeeId," due to bandwidth")),n.forEachObserver((function(e){e.tileWillBeUnpausedByDownlinkPolicy(i.id())})),n.tileController.unpauseVideoTile(i.id()),n.pausedBwAttendeeIds.delete(r.attendeeId));else{var c=e.some((function(e){return e.attendeeId===r.attendeeId}));if(i&&c){var u=n.optimalReceiveStreams.find((function(e){return e.attendeeId===r.attendeeId}));void 0!==u&&(s||(n.logger.info("bwe: pausing streamId ".concat(u.streamId," attendee ").concat(r.attendeeId," due to bandwidth")),n.forEachObserver((function(e){e.tileWillBePausedByDownlinkPolicy(i.id())})),n.tileController.pauseVideoTile(i.id())),t.push(u)),n.pausedBwAttendeeIds.add(r.attendeeId)}else if(c){var l=n.tileController.addVideoTile();l.bindVideoStream(r.attendeeId,!1,null,0,0,0,null),n.forEachObserver((function(e){e.tileWillBePausedByDownlinkPolicy(l.id())})),l.pause(),n.logger.info("bwe: Created video tile ".concat(l.id()," for bw paused attendee ").concat(r.attendeeId)),n.pausedBwAttendeeIds.add(r.attendeeId)}}};for(s.s();!(o=s.n()).done;)c()}catch(u){s.e(u)}finally{s.f()}}}else this.logger.warn("tileController not found!")}},{key:"cleanBwPausedTiles",value:function(e){var t=this;if(this.tileController){var n,i=this.tileController.getAllRemoteVideoTiles(),o=this.getCurrentVideoPreferences(),a=r(i);try{var s=function(){var r=n.value.state();r.boundVideoStream||(e.some((function(e){return e.attendeeId===r.boundAttendeeId}))?void 0===o||o.some((function(e){return e.attendeeId===r.boundAttendeeId}))||t.tileController.removeVideoTile(r.tileId):(t.tileController.removeVideoTile(r.tileId),t.logger.info("bwe: Removed video tile ".concat(r.tileId," for bw paused attendee ").concat(r.boundAttendeeId))))};for(a.s();!(n=a.n()).done;)s()}catch(c){a.e(c)}finally{a.f()}}else this.logger.warn("tileController not found!")}},{key:"priorityPolicy",value:function(e,t,n){for(var i,o,a=this,s=this.getCurrentVideoPreferences(),u=s.highestPriority(),l=u;-1!==l;){o=-1;var d,f=r(s);try{for(f.s();!(d=f.n()).done;){var h=d.value;if(h.priority===l){var p,v=r(t);try{var m=function(){var t=p.value;t.attendeeId===h.attendeeId&&(n.some((function(e){return e.groupId===t.groupId}))||(e.chosenTotalBitrate+t.avgBitrateKbps<=e.targetDownlinkBitrate?(n.push(t),e.chosenTotalBitrate+=t.avgBitrateKbps):0===e.deltaToNextUpgrade&&(e.deltaToNextUpgrade=t.avgBitrateKbps,i=t)))};for(v.s();!(p=v.n()).done;)m()}catch(C){v.e(C)}finally{v.f()}}else if(h.priority>l){o=h.priority;break}}}catch(C){f.e(C)}finally{f.f()}var g,b=r(s);try{for(b.s();!(g=b.n()).done;){var y=g.value;if(y.priority===l){var w,S=r(t);try{var k=function(){var r=w.value;if(r.attendeeId===y.attendeeId){var o=n.findIndex((function(e){return e.groupId===r.groupId&&e.maxBitrateKbps<r.maxBitrateKbps}));if(-1!==o){var s=r.avgBitrateKbps-n[o].avgBitrateKbps;a.hasSimulcastStreams(t,r.attendeeId,r.groupId)&&a.canUpgrade(r.avgBitrateKbps,y.targetSize,y.targetSizeToBitrateKbps(y.targetSize),r.attendeeId.endsWith(c.default.Modality))?(a.logger.info("bwe: attendee: ".concat(r.attendeeId," group: ").concat(r.groupId," has simulcast and can upgrade avgBitrate: ").concat(r.avgBitrateKbps," target: ").concat(y.targetSizeToBitrateKbps(y.targetSize)," targetTotalBitrate: ").concat(e.targetDownlinkBitrate)),e.chosenTotalBitrate+s<=e.targetDownlinkBitrate?(e.chosenTotalBitrate+=s,n[o]=r):0===e.deltaToNextUpgrade&&(e.deltaToNextUpgrade=s,i=r)):a.logger.info("bwe: cannot upgrade stream quality beyond target size")}}};for(S.s();!(w=S.n()).done;)k()}catch(C){S.e(C)}finally{S.f()}}else if(y.priority>l)break}}catch(C){b.e(C)}finally{b.f()}if(l===u&&0!==e.deltaToNextUpgrade)break;l=o}return i}},{key:"getVideoTileForAttendeeId",value:function(e,t){var n,i=r(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.state().boundAttendeeId===e)return o}}catch(a){i.e(a)}finally{i.f()}return null}},{key:"canUpgrade",value:function(e,t,n,r){var i=!1;return r?(t===f.default.High||t===f.default.Medium&&e<=n)&&(i=!0):e<=n&&(i=!0),i?(this.logger.info("bwe: canUpgrade: bitrateKbp: ".concat(e," targetBitrateKbp: ").concat(n)),!0):(this.logger.info("bwe: cannot Upgrade: bitrateKbp: ".concat(e," targetBitrateKbp: ").concat(n)),!1)}},{key:"hasSimulcastStreams",value:function(e,t,n){var i,o=0,a=r(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.attendeeId===t&&s.groupId===n&&o++}}catch(c){a.e(c)}finally{a.f()}return this.logger.info("bwe: attendeeId: ".concat(t," groupId: ").concat(n," hasSimulcastStreams: streamCount: ").concat(o)),o>1}},{key:"availStreamsSameAsLast",value:function(e){var t=this;if(void 0===this.prevRemoteInfos||e.length!==this.prevRemoteInfos.length||!0===this.videoPreferencesUpdated)return!1;var n,i=r(e);try{var o=function(){var e=n.value;if(void 0===t.prevRemoteInfos.find((function(t){return t.groupId===e.groupId&&t.streamId===e.streamId&&t.maxBitrateKbps===e.maxBitrateKbps})))return{v:!1}};for(i.s();!(n=i.n()).done;){var a=o();if("object"===typeof a)return a.v}}catch(s){i.e(s)}finally{i.f()}return!0}},{key:"chosenStreamsSameAsLast",value:function(e){if(this.optimalNonPausedReceiveStreams.length!==e.length)return!1;var t,n=r(this.optimalNonPausedReceiveStreams);try{var i=function(){var n=t.value;if(!e.some((function(e){return e.streamId===n.streamId})))return{v:!1}};for(n.s();!(t=n.n()).done;){var o=i();if("object"===typeof o)return o.v}}catch(a){n.e(a)}finally{n.f()}return!0}},{key:"policyStateLogStr",value:function(e,t){var n,i={targetBitrate:t,subscribedRate:this.calculateSubscribeRate(this.optimalReceiveStreams),probeState:this.rateProbeState,startupPeriod:this.startupPeriod},o="remoteInfos: [",a=r(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;o+="{grpId:".concat(s.groupId," strId:").concat(s.streamId," maxBr:").concat(s.maxBitrateKbps," avgBr:").concat(s.avgBitrateKbps,"}, ")}}catch(u){a.e(u)}finally{a.f()}o+="]";var c="bwe: optimalReceiveSet ".concat(JSON.stringify(i),"\n")+"bwe:   prev ".concat(JSON.stringify(this.prevDownlinkStats),"\n")+"bwe:   now  ".concat(JSON.stringify(this.downlinkStats),"\n")+"bwe:   ".concat(o,"\n");return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(c+="bwe:   paused: app stream ids ".concat(JSON.stringify(this.pausedStreamIds),"  bw attendees { ").concat(Array.from(this.pausedBwAttendeeIds).join(" ")," }\n")),this.videoPreferences?c+="bwe:   preferences: ".concat(JSON.stringify(this.videoPreferences)):c+="bwe:   default preferences: ".concat(JSON.stringify(this.defaultVideoPreferences)),c}},{key:"getCurrentVideoPreferences",value:function(){return this.videoPreferences||this.defaultVideoPreferences}},{key:"getServerSideNetworkAdaption",value:function(){return this.serverSideNetworkAdaption}},{key:"setServerSideNetworkAdaption",value:function(e){this.serverSideNetworkAdaption=e,this.setProbeState("Not Probing")}},{key:"supportedServerSideNetworkAdaptions",value:function(){return[l.default.None,l.default.BandwidthProbing]}},{key:"getVideoPreferences",value:function(){var e=this.getCurrentVideoPreferences();e||(e=p.VideoPreferences.prepare().build());return e}}]),e}();t.default=g,g.DEFAULT_BANDWIDTH_KBPS=2800,g.STARTUP_PERIOD_MS=6e3,g.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,g.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,g.LOW_BITRATE_THRESHOLD_KBPS=300,g.MIN_TIME_BETWEEN_PROBE_MS=5e3,g.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,g.MAX_HOLD_BEFORE_PROBE_MS=3e4,g.MAX_ALLOWED_PROBE_TIME_MS=6e4,g.SPURIOUS_PACKET_LOST_THRESHOLD=2,g.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(65),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.networkIssueResponseDelayFactor=t,this.networkIssueRecoveryDelayFactor=n,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=o.default.Default,t<0?t=0:t>1&&(t=1),this.networkIssueResponseDelayFactor=t,n<0?n=0:n>1&&(n=1),this.networkIssueRecoveryDelayFactor=n}return i(e,[{key:"allowSubscribe",value:function(e,t){var n=0,r=this.currentNetworkEvent;if(t>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=t,!0;if(t<this.referenceBitrate){if(this.currentNetworkEvent=1,n=this.getSubscribeDelay(this.currentNetworkEvent,e),1!==r)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>n)return this.referenceBitrate=t,!0;return!1}return this.currentNetworkEvent=0,!1}},{key:"getSubscribeDelay",value:function(t,n){var r=e.MINIMUM_DELAY_MS,i=e.MAXIMUM_DELAY_MS-e.MINIMUM_DELAY_MS,o=this.networkIssueResponseDelayFactor;if(1===t)r+=i*o*(1+n/10),r=Math.min(e.MAXIMUM_DELAY_MS,r);return r}}]),e}();t.default=a,a.MINIMUM_DELAY_MS=2e3,a.MAXIMUM_DELAY_MS=8e3,a.Default=new a(0,0),a.UnstableNetworkPreset=new a(0,1),a.StableNetworkPreset=new a(1,0)},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default,a=n(57).default,s=n(43).default,c=n(9).default,u=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var l=n(21),d=n(158),f=n(159),h=function(e){c(n,e);var t=u(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).streamIdToBitrateKbpsMap=new Map,r._localStreamInfos=[],r._lastBitRateMsgTime=Date.now(),r}return o(n,[{key:"localStreamDescriptions",value:function(){var e=[];return this._localStreamInfos.forEach((function(t){e.push(t.clone())})),e}},{key:"integrateUplinkPolicyDecision",value:function(e){for(var t=!0,n=0,r=0;r<e.length;r++){var i=e[r].maxBitrate/1e3,o=e[r].maxFramerate;if(t&&r!==this._localStreamInfos.length)0===this._localStreamInfos[n].maxBitrateKbps&&i>0&&(this._localStreamInfos[n].timeEnabled=Date.now()),this._localStreamInfos[n].maxBitrateKbps=i,this._localStreamInfos[n].maxFrameRate=o,this._localStreamInfos[n].disabledByUplinkPolicy=0===i,!0===this._localStreamInfos[n].disabledByUplinkPolicy&&(this._localStreamInfos[n].disabledByWebRTC=!1),n++;else{t=!1;var a=new f.default;a.maxBitrateKbps=i,a.maxFrameRate=o,a.disabledByUplinkPolicy=0===i,0!==i&&(a.timeEnabled=Date.now()),this._localStreamInfos.push(a),n++}}t&&this._localStreamInfos.splice(n)}},{key:"integrateBitratesFrame",value:function(e){a(s(n.prototype),"integrateBitratesFrame",this).call(this,e);var t,i=new Set,o=new Set(this.streamIdToBitrateKbpsMap.keys()),c=r(e.bitrates);try{for(c.s();!(t=c.n()).done;){var u=t.value;i.add(u.sourceStreamId),this.streamIdToBitrateKbpsMap.set(u.sourceStreamId,this.convertBpsToKbps(u.avgBitrateBps))}}catch(v){c.e(v)}finally{c.f()}var l,d=r(o);try{for(d.s();!(l=d.n()).done;){var f=l.value;if(!i.has(f))this.streamIdToBitrateKbpsMap.get(f)===n.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(f,n.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(f,n.NOT_SENDING_STREAM_BITRATE)}}catch(v){d.e(v)}finally{d.f()}for(var h=0;h<this._localStreamInfos.length;h++){this._localStreamInfos[h].disabledByWebRTC=!1;var p=this._localStreamInfos[h].streamId;if(!this._localStreamInfos[h].disabledByUplinkPolicy)if(this.streamIdToBitrateKbpsMap.has(p))this.streamIdToBitrateKbpsMap.get(p)===n.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[h].timeEnabled>n.BitratesMsgFrequencyMs&&(this._localStreamInfos[h].disabledByWebRTC=!0);else this._lastBitRateMsgTime-this._localStreamInfos[h].timeEnabled>n.BitratesMsgFrequencyMs&&(this._localStreamInfos[h].disabledByWebRTC=!0)}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}},{key:"logLocalStreamDescriptions",value:function(){var e,t="",n=r(this._localStreamInfos);try{for(n.s();!(e=n.n()).done;){var i=e.value;t+="streamId=".concat(i.streamId," maxBitrate=").concat(i.maxBitrateKbps," disabledByWebRTC=").concat(i.disabledByWebRTC," disabledByUplink=").concat(i.disabledByUplinkPolicy,"\n")}}catch(o){n.e(o)}finally{n.f()}this.logger.debug((function(){return t}))}},{key:"integrateIndexFrame",value:function(e){a(s(n.prototype),"integrateIndexFrame",this).call(this,e);var t,i=new Set,o=new Set(this.streamIdToBitrateKbpsMap.keys()),c=r(this.currentIndex.sources);try{for(c.s();!(t=c.n()).done;){var u=t.value;u.mediaType===l.SdkStreamMediaType.VIDEO&&(i.add(u.streamId),this.streamIdToBitrateKbpsMap.has(u.streamId)||this.streamIdToBitrateKbpsMap.set(u.streamId,n.UNSEEN_STREAM_BITRATE))}}catch(p){c.e(p)}finally{c.f()}var d,f=r(o);try{for(f.s();!(d=f.n()).done;){var h=d.value;i.has(h)||this.streamIdToBitrateKbpsMap.delete(h)}}catch(p){f.e(p)}finally{f.f()}}},{key:"integrateSubscribeAckFrame",value:function(e){if(a(s(n.prototype),"integrateSubscribeAckFrame",this).call(this,e),e.allocations&&void 0!==e.allocations){var t,i=0,o=r(e.allocations);try{for(o.s();!(t=o.n()).done;){var c=t.value;if(this._localStreamInfos.length<i+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[i].groupId=c.groupId,this._localStreamInfos[i].streamId=c.streamId,this.streamIdToBitrateKbpsMap.has(c.streamId)||this.streamIdToBitrateKbpsMap.set(c.streamId,n.UNSEEN_STREAM_BITRATE),i++}}catch(u){o.e(u)}finally{o.f()}}}}]),n}(d.default);t.default=h,h.UNSEEN_STREAM_BITRATE=-2,h.RECENTLY_INACTIVE_STREAM_BITRATE=-1,h.NOT_SENDING_STREAM_BITRATE=0,h.BitratesMsgFrequencyMs=4e3},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(275),u=n(276),l=n(44),d=n(108),f=function(){function e(t,n,r){o(this,e),this.tileFactory=t,this.audioVideoController=n,this.logger=r,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=n.configuration.keepLastFrameWhenPaused}return a(e,[{key:"createDevicePixelRatioMonitorIfNeeded",value:function(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new c.default(new u.default,this.logger))}},{key:"discardDevicePixelRatioMonitorIfNotNeeded",value:function(){return s(this,void 0,void 0,i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tileMap.size&&this.devicePixelRatioMonitor){e.next=2;break}return e.abrupt("return");case 2:return t=this.devicePixelRatioMonitor,this.devicePixelRatioMonitor=void 0,e.abrupt("return",t.destroy());case 5:case"end":return e.stop()}}),e,this)})))}},{key:"bindVideoElement",value:function(e,t){var n=this.getVideoTile(e);null!==n?n.bindVideoElement(t):this.logger.warn("Ignoring video element binding for unknown tile id ".concat(e))}},{key:"unbindVideoElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getVideoTile(e);if(null!==n){this.logger.info("Unbinding the video element");var r=n.stateRef().boundVideoElement;n.bindVideoElement(null),t&&(this.logger.info("Cleaning up the video element"),d.default.disconnectVideoStreamFromVideoElement(r,!1))}else this.logger.warn("Ignoring video element unbinding for unknown tile id ".concat(e))}},{key:"startLocalVideoTile",value:function(){var e=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),e.id()}},{key:"stopLocalVideoTile",value:function(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}},{key:"hasStartedLocalVideoTile",value:function(){return!(!this.currentLocalTile||!this.currentLocalTile.stateRef().localTileStarted)}},{key:"removeLocalVideoTile",value:function(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}},{key:"getLocalVideoTile",value:function(){return this.currentLocalTile}},{key:"pauseVideoTile",value:function(e){var t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)||(this.audioVideoController.pauseReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.add(e)),t.pause())}},{key:"unpauseVideoTile",value:function(e){var t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)&&(this.audioVideoController.resumeReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.delete(e)),t.unpause())}},{key:"getVideoTile",value:function(e){return this.tileMap.has(e)?this.tileMap.get(e):null}},{key:"getVideoTileArea",value:function(e){var t=e.state(),n=0,r=0;return t.boundVideoElement&&(n=t.boundVideoElement.clientHeight*t.devicePixelRatio,r=t.boundVideoElement.clientWidth*t.devicePixelRatio),n*r}},{key:"getAllRemoteVideoTiles",value:function(){var e=this,t=new Array;return this.tileMap.forEach((function(n,r){e.currentLocalTile&&r===e.currentLocalTile.id()||t.push(n)})),t}},{key:"getAllVideoTiles",value:function(){return Array.from(this.tileMap.values())}},{key:"addVideoTile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();var n=this.tileFactory.makeTile(t,e,this,this.devicePixelRatioMonitor);return this.tileMap.set(t,n),n}},{key:"removeVideoTile",value:function(e){if(this.tileMap.has(e)){var t=this.tileMap.get(e);this.currentLocalTile===t&&(this.currentLocalTile=null),t.destroy(),this.tileMap.delete(e),this.audioVideoController.forEachObserver((function(t){l.Maybe.of(t.videoTileWasRemoved).map((function(n){return n.bind(t)(e)}))})),this.discardDevicePixelRatioMonitorIfNotNeeded()}}},{key:"removeVideoTilesByAttendeeId",value:function(e){var t,n=[],i=r(this.getAllVideoTiles());try{for(i.s();!(t=i.n()).done;){var o=t.value.state();o.boundAttendeeId===e&&(this.removeVideoTile(o.tileId),n.push(o.tileId))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"removeAllVideoTiles",value:function(){for(var e=0,t=Array.from(this.tileMap.keys());e<t.length;e++){var n=t[e];this.removeVideoTile(n)}}},{key:"sendTileStateUpdate",value:function(e){this.audioVideoController.forEachObserver((function(t){l.Maybe.of(t.videoTileDidUpdate).map((function(n){return n.bind(t)(e)}))}))}},{key:"haveVideoTilesWithStreams",value:function(){var e,t=r(this.getAllVideoTiles());try{for(t.s();!(e=t.n()).done;){if(e.value.state().boundVideoStream)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"haveVideoTileForAttendeeId",value:function(e){return!!this.getVideoTileForAttendeeId(e)}},{key:"getVideoTileForAttendeeId",value:function(e){var t,n=r(this.getAllVideoTiles());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.state().boundAttendeeId===e)return i}}catch(o){n.e(o)}finally{n.f()}}},{key:"captureVideoTile",value:function(e){var t=this.getVideoTile(e);return t?t.capture():null}},{key:"findOrCreateLocalVideoTile",value:function(){return this.currentLocalTile||(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId)),this.currentLocalTile}}]),e}();t.default=f},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t,n){var r=this;if(i(this,e),this.devicePixelRatioSource=t,this.observerQueue=new Set,this.mediaQueryListener=function(){r.observerQueue.forEach((function(e){e.devicePixelRatioChanged(r.devicePixelRatioSource.devicePixelRatio())}))},"undefined"!==typeof window){var o=matchMedia("(resolution: ".concat(this.devicePixelRatioSource.devicePixelRatio(),"dppx)"));"function"===typeof o.addEventListener?(o.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=o):"function"===typeof o.addListener?(o.addListener(this.mediaQueryListener),this.mediaQueryList=o):n.warn("ignoring DefaultDevicePixelRatioMonitor")}}return o(e,[{key:"destroy",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mediaQueryList&&("function"===typeof this.mediaQueryList.addEventListener?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"registerObserver",value:function(e){this.observerQueue.add(e),e.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}},{key:"removeObserver",value:function(e){this.observerQueue.delete(e)}}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e)}return i(e,[{key:"devicePixelRatio",value:function(){return"undefined"!==typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio:1}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(108),a=function(){function e(){r(this,e)}return i(e,[{key:"makeTile",value:function(e,t,n,r){return new o.default(e,t,n,r)}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(279),s=n(111),c=n(44),u=n(95),l=n(189),d=function(){function e(t,n){i(this,e),this.selfAttendeeId=t,this.logger=n,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=e.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new u.default(0,0,0,0,!0),this.parametersInEffect=new u.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=e.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}return o(e,[{key:"updateConnectionMetric",value:function(t){var n=this,r=t.uplinkKbps,i=void 0===r?0:r;if(!isNaN(i)){0===this.startTimeMs&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<e.startupDurationMs?this.lastUplinkBandwidthKbps=e.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=i,this.logger.debug((function(){return"simulcast: uplink policy update metrics ".concat(n.lastUplinkBandwidthKbps)}));var o=e.holdDownDurationMs;3===this.currentActiveStreams?o=2*e.holdDownDurationMs:(2===this.currentActiveStreams&&i<=e.kMidDisabledRate||1===this.currentActiveStreams&&i<=e.kHiDisabledRate)&&(o=e.holdDownDurationMs/2),Date.now()<this.lastUpdatedMs+o||(this.newQualityMap=this.calculateEncodingParameters(!1))}}},{key:"calculateEncodingParameters",value:function(t){var n=[new l.default,new l.default,new l.default],r=0,i=0;if(0===this.currentActiveStreams?(r=this.lastUplinkBandwidthKbps+1,i=0):1===this.currentActiveStreams?(r=2400,i=e.kHiDisabledRate):2===this.currentActiveStreams?(r=1e3,i=e.kMidDisabledRate):(r=300,i=0),t||this.lastUplinkBandwidthKbps>=r||this.lastUplinkBandwidthKbps<=i){this.shouldDisableSimulcast?(this.newActiveStreams=0,n[0].maxBitrateKbps=0,n[1].maxBitrateKbps=1200,n[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=e.kHiDisabledRate?(this.newActiveStreams=1,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=e.kMidDisabledRate?(this.newActiveStreams=2,n[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,n[1].maxBitrateKbps=this.numSenders<=6?600:350,n[2].maxBitrateKbps=0):(this.newActiveStreams=3,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=0);var o=n.map((function(e,t,n){return e.maxBitrateKbps}));this.newQualityMap=this.fillEncodingParamWithBitrates(o),this.encodingParametersEqual()||this.logger.info("simulcast: policy:calculateEncodingParameters bw:".concat(this.lastUplinkBandwidthKbps," numSources:").concat(this.numSenders," shouldDisableSimulcast:").concat(this.shouldDisableSimulcast," newQualityMap: ").concat(this.getQualityMapString(this.newQualityMap)))}return this.newQualityMap}},{key:"chooseMediaTrackConstraints",value:function(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}}},{key:"chooseEncodingParameters",value:function(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}},{key:"updateIndex",value:function(e){var t=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,n=t!==this.numSenders,r=e.numberOfParticipants(),i=r>=0&&r<=2,o=this.shouldDisableSimulcast!==i;this.numSenders=t,this.shouldDisableSimulcast=i,this.optimalParameters=new u.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=e,this.newQualityMap=this.calculateEncodingParameters(n||o)}},{key:"wantsResubscribe",value:function(){var e=this,t=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(var n=function(n){var r=e.nextLocalDescriptions[n].streamId;if(0!==r&&r){var i=e.currLocalDescriptions.findIndex((function(e){return e.streamId===r}));-1!==i&&e.nextLocalDescriptions[n].disabledByWebRTC!==e.currLocalDescriptions[i].disabledByWebRTC&&(t=!0)}},r=0;r<this.nextLocalDescriptions.length;r++)n(r);return t&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,t}},{key:"compareEncodingParameter",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"encodingParametersEqual",value:function(){var e,t=!1,n=r(s.default.NAME_ARR_ASCENDING);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(t=t||!this.compareEncodingParameter(this.newQualityMap.get(i),this.currentQualityMap.get(i)))break}}catch(o){n.e(o)}finally{n.f()}return!t}},{key:"chooseCaptureAndEncodeParameters",value:function(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}},{key:"captureWidth",value:function(){return 1280}},{key:"captureHeight",value:function(){return 768}},{key:"captureFrameRate",value:function(){return 15}},{key:"maxBandwidthKbps",value:function(){return 1400}},{key:"setIdealMaxBandwidthKbps",value:function(e){}},{key:"setHasBandwidthPriority",value:function(e){}},{key:"fillEncodingParamWithBitrates",value:function(e){for(var t=new Map,n=s.default.NAME_ARR_ASCENDING,r=e,i=this.shouldDisableSimulcast?1:4,o=0;o<n.length;o++){var a=n[o];t.set(a,{rid:a,active:r[o]>0,scaleResolutionDownBy:Math.max(i,1),maxBitrate:1e3*r[o]}),i/=2}return t}},{key:"getQualityMapString",value:function(e){var t="",n=this.videoIndex.localStreamDescriptions();return 3===n.length&&e.forEach((function(e){var r=!1;r="low"===e.rid?n[0].disabledByWebRTC:"mid"===e.rid?n[1].disabledByWebRTC:n[2].disabledByWebRTC,t+="{ rid: ".concat(e.rid," active:").concat(e.active," disabledByWebRTC: ").concat(r," maxBitrate:").concat(e.maxBitrate,"}")})),t}},{key:"getEncodingSimulcastLayer",value:function(e){switch(e){case 0:return a.default.High;case 1:return a.default.LowAndHigh;case 2:return a.default.LowAndMedium;case 3:return a.default.Low}}},{key:"publishEncodingSimulcastLayer",value:function(){var e=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver((function(t){c.Maybe.of(t.encodingSimulcastLayersDidChange).map((function(n){return n.bind(t)(e)}))}))}},{key:"addObserver",value:function(e){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(e)}},{key:"removeObserver",value:function(e){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(e)}},{key:"forEachObserver",value:function(e){var t,n=r(this.observerQueue);try{for(n.s();!(t=n.n()).done;){e(t.value)}}catch(i){n.e(i)}finally{n.f()}}}]),e}();t.default=d,d.defaultUplinkBandwidthKbps=1200,d.startupDurationMs=6e3,d.holdDownDurationMs=4e3,d.defaultMaxFrameRate=15,d.kHiDisabledRate=700,d.kMidDisabledRate=240},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SimulcastLayers=void 0,function(e){e[e.Low=0]="Low",e[e.LowAndMedium=1]="LowAndMedium",e[e.LowAndHigh=2]="LowAndHigh",e[e.Medium=3]="Medium",e[e.MediumAndHigh=4]="MediumAndHigh",e[e.High=5]="High"}(r=t.SimulcastLayers||(t.SimulcastLayers={})),t.default=r},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(95),c=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;i(this,e),this.selfAttendeeId=t,this.scaleResolution=n,this.logger=r,this.browserBehavior=o,this.numberOfPublishedVideoSources=0,this.idealMaxBandwidthKbps=1400,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.reset()}return o(e,[{key:"reset",value:function(){this.numberOfPublishedVideoSources=0,this.optimalParameters=new s.default(0,0,0,0,!1),this.parametersInEffect=new s.default(0,0,0,0,!1),this.encodingParamMap.set(e.encodingMapKey,{maxBitrate:0})}},{key:"updateConnectionMetric",value:function(e){}},{key:"chooseMediaTrackConstraints",value:function(){return{}}},{key:"chooseEncodingParameters",value:function(){return new Map}},{key:"updateIndex",value:function(e){var t,n=!0,r=1;this.transceiverController&&(n=this.transceiverController.hasVideoInput());var i=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(n?1:0);if(this.numberOfPublishedVideoSources!==i){if(this.numberOfPublishedVideoSources=i,this.transceiverController){var o=this.getStreamCaptureSetting();if(o)r=this.calculateEncodingParameters(o).scaleResolutionDownBy}this.optimalParameters=new s.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,r)}else null===(t=this.logger)||void 0===t||t.debug("Skipping update index; Number of participants has not changed")}},{key:"wantsResubscribe",value:function(){return!this.parametersInEffect.equal(this.optimalParameters)}},{key:"chooseCaptureAndEncodeParameters",value:function(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}},{key:"captureWidth",value:function(){var e=640;return this.getNumberOfPublishedVideoSources()>4&&(e=320),e}},{key:"captureHeight",value:function(){var e=384;return this.getNumberOfPublishedVideoSources()>4&&(e=192),e}},{key:"captureFrameRate",value:function(){return 15}},{key:"maxBandwidthKbps",value:function(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);var e=0;return e=this.getNumberOfPublishedVideoSources()<=2?this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?2*this.idealMaxBandwidthKbps/3:(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(e)}},{key:"setIdealMaxBandwidthKbps",value:function(e){this.idealMaxBandwidthKbps=e}},{key:"setHasBandwidthPriority",value:function(e){this.hasBandwidthPriority=e}},{key:"setTransceiverController",value:function(e){this.transceiverController=e}},{key:"updateTransceiverController",value:function(){return a(this,void 0,void 0,r().mark((function t(){var n,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getStreamCaptureSetting()){t.next=3;break}return t.abrupt("return");case 3:i=this.calculateEncodingParameters(n),this.shouldUpdateEndcodingParameters(i)&&(this.encodingParamMap.set(e.encodingMapKey,i),this.transceiverController.setEncodingParameters(this.encodingParamMap));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"shouldUpdateEndcodingParameters",value:function(e){var t,n,r=null===(n=null===(t=this.transceiverController.localVideoTransceiver().sender.getParameters())||void 0===t?void 0:t.encodings)||void 0===n?void 0:n[0];return e.maxBitrate!==(null===r||void 0===r?void 0:r.maxBitrate)||e.scaleResolutionDownBy!==(null===r||void 0===r?void 0:r.scaleResolutionDownBy)}},{key:"calculateEncodingParameters",value:function(t){var n,r,i=1e3*this.maxBandwidthKbps(),o=1;if(void 0!==t.height&&void 0!==t.width&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2){var a=e.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),e.targetHeightArray.length-1)];480===a&&(null===(n=this.browserBehavior)||void 0===n?void 0:n.disable480pResolutionScaleDown())&&(a=360),o=Math.max(Math.min(t.height,t.width)/a,1),null===(r=this.logger)||void 0===r||r.info("Resolution scale factor is ".concat(o," for capture resolution ").concat(t.width,"x").concat(t.height,". New dimension is ").concat(t.width/o,"x").concat(t.height/o))}return{scaleResolutionDownBy:o,maxBitrate:i}}},{key:"getStreamCaptureSetting",value:function(){var e,t,n,r;return null===(r=null===(n=null===(t=null===(e=this.transceiverController)||void 0===e?void 0:e.localVideoTransceiver())||void 0===t?void 0:t.sender)||void 0===n?void 0:n.track)||void 0===r?void 0:r.getSettings()}},{key:"getNumberOfPublishedVideoSources",value:function(){var e;return null!==(e=this.numberOfPublishedVideoSources)&&void 0!==e?e:0}}]),e}();t.default=c,c.encodingMapKey="video",c.targetHeightArray=[0,0,0,540,540,480,480,480,480,360,360,360,360,270,270,270,270,180,180,180,180,180,180,180,180,180]},function(e,t,n){"use strict";var r=n(58).default,i=n(12).default,o=n(2).default,a=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t,n,r,i,a){o(this,e),this.logger=t,this.realtimeController=n,this.minVolumeDecibels=r,this.maxVolumeDecibels=i,this.selfAttendeeId=a,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}return a(e,[{key:"onReconnect",value:function(){this.sessionReconnected=!0}},{key:"sendRealtimeUpdatesForAudioStreamIdInfo",value:function(e){var t,n=0,r=i(e.streams);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=!!o.attendeeId,s=!!o.externalUserId,c=o.hasOwnProperty("muted"),u=!!o.dropped;if(a){this.attendeeIdToStreamId[o.attendeeId]&&this.attendeeIdToStreamId[o.attendeeId]<o.audioStreamId&&delete this.attendeeIdToStreamId[o.attendeeId],this.streamIdToAttendeeId[o.audioStreamId]=o.attendeeId;var l=s?o.externalUserId:o.attendeeId;this.streamIdToExternalUserId[o.audioStreamId]=l,this.attendeeIdToStreamId[o.attendeeId]=o.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(o.attendeeId,!0,l,!1,{attendeeIndex:n++,attendeesInFrame:e.streams.length})}if(c){var d=this.streamIdToAttendeeId[o.audioStreamId],f=this.streamIdToExternalUserId[o.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(d,null,o.muted,null,f)}if(!a&&!c){var h=this.streamIdToAttendeeId[o.audioStreamId];if(h){var p=this.streamIdToExternalUserId[o.audioStreamId];delete this.streamIdToAttendeeId[o.audioStreamId],delete this.streamIdToExternalUserId[o.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[o.audioStreamId],this.attendeeIdToStreamId[h]===o.audioStreamId&&delete this.attendeeIdToStreamId[h];for(var v=!1,m=0,g=Object.keys(this.streamIdToAttendeeId);m<g.length;m++){var b=g[m],y=parseInt(b);if(y>o.audioStreamId&&this.streamIdToAttendeeId[y]===h){v=!0;break}}v||this.realtimeController.realtimeSetAttendeeIdPresence(h,!1,p,u,{attendeeIndex:n++,attendeesInFrame:e.streams.length})}}}}catch(w){r.e(w)}finally{r.f()}this.sessionReconnected&&(this.cleanUpState(e),this.sessionReconnected=!1)}},{key:"cleanUpState",value:function(e){var t,n=Object.values(this.streamIdToAttendeeId),o=e.streams.map((function(e){return e.attendeeId})),a=n.filter((function(e){return!o.includes(e)})),s=i(a.entries());try{for(s.s();!(t=s.n()).done;){var c=r(t.value,2),u=c[0],l=c[1],d=this.attendeeIdToStreamId[l],f=this.streamIdToExternalUserId[d];delete this.streamIdToAttendeeId[d],delete this.streamIdToExternalUserId[d],delete this.warnedAboutMissingStreamIdMapping[d],delete this.attendeeIdToStreamId[l],l!==this.selfAttendeeId?this.realtimeController.realtimeSetAttendeeIdPresence(l,!1,f,!1,{attendeeIndex:u,attendeesInFrame:l.length}):this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection")}}catch(h){s.e(h)}finally{s.f()}}},{key:"sendRealtimeUpdatesForAudioMetadata",value:function(e){var t,n=null,r=null,o=i(e.attendeeStates);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=this.attendeeIdForStreamId(a.audioStreamId);a.hasOwnProperty("volume")&&(null===n&&(n={}),null!==s&&(n[s]=this.normalizedVolume(a))),a.hasOwnProperty("signalStrength")&&(null===r&&(r={}),null!==s&&(r[s]=this.normalizedSignalStrength(a)))}}catch(c){o.e(c)}finally{o.f()}this.applyRealtimeUpdatesForAudioMetadata(n,r)}},{key:"normalizedVolume",value:function(e){var t=1-(-e.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(t,0),1)}},{key:"normalizedSignalStrength",value:function(t){var n=t.signalStrength/e.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(n,0),1)}},{key:"applyRealtimeUpdatesForAudioMetadata",value:function(t,n){for(var r in this.streamIdToAttendeeId){var i=this.streamIdToAttendeeId[r],o=this.streamIdToExternalUserId[r],a=null,s=null;null!==t&&(a=t.hasOwnProperty(i)?t[i]:e.IMPLICIT_VOLUME),null!==n&&(s=n.hasOwnProperty(i)?n[i]:e.IMPLICIT_SIGNAL_STRENGTH),null===a&&null===s||this.realtimeController.realtimeUpdateVolumeIndicator(i,a,null,s,o)}}},{key:"attendeeIdForStreamId",value:function(e){if(0===e)return null;var t=this.streamIdToAttendeeId[e];return t||(this.warnedAboutMissingStreamIdMapping[e]||(this.warnedAboutMissingStreamIdMapping[e]=!0,this.logger.warn("volume indicator stream id ".concat(e," seen before being defined"))),null)}}]),e}();t.default=s,s.MAX_SIGNAL_STRENGTH_LEVELS=2,s.IMPLICIT_VOLUME=0,s.IMPLICIT_SIGNAL_STRENGTH=1},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(144),c=function(){function e(t,n,r,o,a,s){i(this,e),this.audioVideoController=t,this.videoTileController=n,this.realtimeController=r,this.audioMixController=o,this.deviceController=a,this.contentShareController=s}return o(e,[{key:"addObserver",value:function(e){this.audioVideoController.addObserver(e),this.trace("addObserver")}},{key:"removeObserver",value:function(e){this.audioVideoController.removeObserver(e),this.trace("removeObserver")}},{key:"setAudioProfile",value:function(e){this.trace("setAudioProfile",e),this.audioVideoController.setAudioProfile(e)}},{key:"start",value:function(e){this.audioVideoController.start(e),this.trace("start")}},{key:"stop",value:function(){this.audioVideoController.stop(),this.trace("stop")}},{key:"getRTCPeerConnectionStats",value:function(e){return this.trace("getRTCPeerConnectionStats",e?e.id:null),this.audioVideoController.getRTCPeerConnectionStats(e)}},{key:"bindAudioElement",value:function(e){var t=this.audioMixController.bindAudioElement(e);return this.trace("bindAudioElement",e.id,t),t}},{key:"unbindAudioElement",value:function(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}},{key:"getCurrentMeetingAudioStream",value:function(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}},{key:"addAudioMixObserver",value:function(e){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(e)}},{key:"removeAudioMixObserver",value:function(e){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(e)}},{key:"bindVideoElement",value:function(e,t){this.videoTileController.bindVideoElement(e,t),this.trace("bindVideoElement",{tileId:e,videoElementId:t.id})}},{key:"unbindVideoElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.videoTileController.unbindVideoElement(e,t),this.trace("unbindVideoElement",{tileId:e,cleanUpVideoElement:t})}},{key:"startLocalVideoTile",value:function(){var e=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,e),e}},{key:"stopLocalVideoTile",value:function(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}},{key:"hasStartedLocalVideoTile",value:function(){var e=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,e),e}},{key:"removeLocalVideoTile",value:function(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}},{key:"getLocalVideoTile",value:function(){var e=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),e}},{key:"pauseVideoTile",value:function(e){this.videoTileController.pauseVideoTile(e),this.trace("pauseVideoTile",e)}},{key:"unpauseVideoTile",value:function(e){this.videoTileController.unpauseVideoTile(e),this.trace("unpauseVideoTile",e)}},{key:"getVideoTile",value:function(e){var t=this.videoTileController.getVideoTile(e);return this.trace("getVideoTile",e),t}},{key:"getAllRemoteVideoTiles",value:function(){var e=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),e}},{key:"getAllVideoTiles",value:function(){var e=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),e}},{key:"addVideoTile",value:function(){var e=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,e.state()),e}},{key:"removeVideoTile",value:function(e){this.videoTileController.removeVideoTile(e),this.trace("removeVideoTile",e)}},{key:"removeVideoTilesByAttendeeId",value:function(e){var t=this.videoTileController.removeVideoTilesByAttendeeId(e);return this.trace("removeVideoTilesByAttendeeId",e,t),t}},{key:"removeAllVideoTiles",value:function(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}},{key:"captureVideoTile",value:function(e){var t=this.videoTileController.captureVideoTile(e);return this.trace("captureVideoTile",e),t}},{key:"realtimeSubscribeToAttendeeIdPresence",value:function(e){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(e),this.trace("realtimeSubscribeToAttendeeIdPresence")}},{key:"realtimeUnsubscribeToAttendeeIdPresence",value:function(e){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(e),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}},{key:"realtimeSetCanUnmuteLocalAudio",value:function(e){this.realtimeController.realtimeSetCanUnmuteLocalAudio(e),this.trace("realtimeSetCanUnmuteLocalAudio",e)}},{key:"realtimeSubscribeToSetCanUnmuteLocalAudio",value:function(e){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}},{key:"realtimeUnsubscribeToSetCanUnmuteLocalAudio",value:function(e){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}},{key:"realtimeCanUnmuteLocalAudio",value:function(){var e=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,e),e}},{key:"realtimeMuteLocalAudio",value:function(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}},{key:"realtimeUnmuteLocalAudio",value:function(){var e=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),e}},{key:"realtimeSubscribeToMuteAndUnmuteLocalAudio",value:function(e){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}},{key:"realtimeUnsubscribeToMuteAndUnmuteLocalAudio",value:function(e){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}},{key:"realtimeIsLocalAudioMuted",value:function(){var e=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),e}},{key:"realtimeSubscribeToVolumeIndicator",value:function(e,t){this.realtimeController.realtimeSubscribeToVolumeIndicator(e,t),this.trace("realtimeSubscribeToVolumeIndicator",e)}},{key:"realtimeUnsubscribeFromVolumeIndicator",value:function(e,t){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(e,t),this.trace("realtimeUnsubscribeFromVolumeIndicator",e,t)}},{key:"realtimeSubscribeToLocalSignalStrengthChange",value:function(e){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(e),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}},{key:"realtimeUnsubscribeToLocalSignalStrengthChange",value:function(e){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(e),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}},{key:"realtimeSendDataMessage",value:function(e,t,n){this.realtimeController.realtimeSendDataMessage(e,t,n),this.trace("realtimeSendDataMessage")}},{key:"realtimeSubscribeToReceiveDataMessage",value:function(e,t){this.realtimeController.realtimeSubscribeToReceiveDataMessage(e,t),this.trace("realtimeSubscribeToReceiveDataMessage")}},{key:"realtimeUnsubscribeFromReceiveDataMessage",value:function(e){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(e),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}},{key:"realtimeSubscribeToFatalError",value:function(e){this.realtimeController.realtimeSubscribeToFatalError(e),this.trace("realtimeSubscribeToFatalError")}},{key:"realtimeUnsubscribeToFatalError",value:function(e){this.realtimeController.realtimeUnsubscribeToFatalError(e),this.trace("realtimeUnsubscribeToFatalError")}},{key:"subscribeToActiveSpeakerDetector",value:function(e,t,n,r){this.audioVideoController.activeSpeakerDetector.subscribe(e,t,n,r),this.trace("subscribeToActiveSpeakerDetector")}},{key:"unsubscribeFromActiveSpeakerDetector",value:function(e){this.audioVideoController.activeSpeakerDetector.unsubscribe(e),this.trace("unsubscribeFromActiveSpeakerDetector")}},{key:"listAudioInputDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.deviceController.listAudioInputDevices(e);case 2:return n=t.sent,this.trace("listAudioInputDevices",e,n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"listVideoInputDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.deviceController.listVideoInputDevices(e);case 2:return n=t.sent,this.trace("listVideoInputDevices",e,n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"listAudioOutputDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.deviceController.listAudioOutputDevices(e);case 2:return n=t.sent,this.trace("listAudioOutputDevices",e,n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"startAudioInput",value:function(e){return a(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.trace("startAudioInput",e),t.abrupt("return",this.deviceController.startAudioInput(e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopAudioInput",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.trace("stopAudioInput"),e.abrupt("return",this.deviceController.stopAudioInput());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"startVideoInput",value:function(e){return a(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.isVideoTransformDevice(e)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",e),t.abrupt("return",this.deviceController.startVideoInput(e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopVideoInput",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.trace("stopVideoInput"),e.abrupt("return",this.deviceController.stopVideoInput());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"chooseAudioOutput",value:function(e){var t=this.deviceController.chooseAudioOutput(e);return this.trace("chooseAudioOutput",e),t}},{key:"addDeviceChangeObserver",value:function(e){this.deviceController.addDeviceChangeObserver(e),this.trace("addDeviceChangeObserver")}},{key:"removeDeviceChangeObserver",value:function(e){this.deviceController.removeDeviceChangeObserver(e),this.trace("removeDeviceChangeObserver")}},{key:"createAnalyserNodeForAudioInput",value:function(){var e=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),e}},{key:"startVideoPreviewForVideoInput",value:function(e){this.deviceController.startVideoPreviewForVideoInput(e),this.trace("startVideoPreviewForVideoInput",e.id)}},{key:"stopVideoPreviewForVideoInput",value:function(e){this.deviceController.stopVideoPreviewForVideoInput(e),this.trace("stopVideoPreviewForVideoInput",e.id)}},{key:"setDeviceLabelTrigger",value:function(e){this.deviceController.setDeviceLabelTrigger(e),this.trace("setDeviceLabelTrigger")}},{key:"mixIntoAudioInput",value:function(e){var t=this.deviceController.mixIntoAudioInput(e);return this.trace("mixIntoAudioInput",e.id),t}},{key:"chooseVideoInputQuality",value:function(e,t,n){this.deviceController.chooseVideoInputQuality(e,t,n),this.trace("chooseVideoInputQuality",{width:e,height:t,frameRate:n})}},{key:"setVideoMaxBandwidthKbps",value:function(e){this.audioVideoController.setVideoMaxBandwidthKbps(e),this.trace("setVideoMaxBandwidthKbps",e)}},{key:"setVideoCodecSendPreferences",value:function(e){this.audioVideoController.setVideoCodecSendPreferences(e),this.trace("setVideoCodecSendPreferences",e)}},{key:"getVideoInputQualitySettings",value:function(){var e=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),e}},{key:"setContentAudioProfile",value:function(e){this.trace("setContentAudioProfile",e),this.contentShareController.setContentAudioProfile(e)}},{key:"enableSimulcastForContentShare",value:function(e,t){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(e,t)}},{key:"startContentShare",value:function(e){var t=this.contentShareController.startContentShare(e);return this.trace("startContentShare"),t}},{key:"startContentShareFromScreenCapture",value:function(e,t){var n=this.contentShareController.startContentShareFromScreenCapture(e,t);return this.trace("startContentShareFromScreenCapture"),n}},{key:"pauseContentShare",value:function(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}},{key:"unpauseContentShare",value:function(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}},{key:"stopContentShare",value:function(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}},{key:"addContentShareObserver",value:function(e){this.contentShareController.addContentShareObserver(e),this.trace("addContentShareObserver")}},{key:"removeContentShareObserver",value:function(e){this.contentShareController.removeContentShareObserver(e),this.trace("removeContentShareObserver")}},{key:"setContentShareVideoCodecPreferences",value:function(e){this.contentShareController.setContentShareVideoCodecPreferences(e),this.trace("setContentShareVideoCodecPreferences")}},{key:"trace",value:function(e,t,n){var r=this.audioVideoController.configuration.meetingId,i=this.audioVideoController.configuration.credentials.attendeeId,o="API/DefaultAudioVideoFacade/".concat(r,"/").concat(i,"/").concat(e);"undefined"!==typeof t&&(o+=" ".concat(JSON.stringify(t))),"undefined"!==typeof n&&(o+=" -> ".concat(JSON.stringify(n))),this.audioVideoController.logger.info(o)}},{key:"getRemoteVideoSources",value:function(){var e=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,e),e}},{key:"transcriptionController",get:function(){return this.realtimeController.transcriptionController}},{key:"promoteToPrimaryMeeting",value:function(e){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);var t=this.audioVideoController.promoteToPrimaryMeeting(e);return this.trace("promoteToPrimaryMeeting",null,t),t}},{key:"demoteFromPrimaryMeeting",value:function(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}},{key:"audioVideoWasDemotedFromPrimaryMeeting",value:function(e){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}}]),e}();t.default=c},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(160),u=n(113),l=n(63),d=n(47),f=n(44),h=n(284),p=n(94),v=function(){function e(t,n,r){o(this,e),this.mediaStreamBroker=t,this.contentAudioVideo=n,this.attendeeAudioVideo=r,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}return a(e,[{key:"setContentAudioProfile",value:function(e){this.contentAudioVideo.setAudioProfile(e)}},{key:"enableSimulcastForContentShare",value:function(e,t){e?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new h.default(this.contentAudioVideo.logger,t)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}},{key:"startContentShare",value:function(e){return s(this,void 0,void 0,i().mark((function t(){var n,r=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:for(this.mediaStreamBroker.mediaStream=e,n=0;n<this.mediaStreamBroker.mediaStream.getTracks().length;n++)this.mediaStreamBroker.mediaStream.getTracks()[n].addEventListener("ended",(function(){r.stopContentShare()}));this.contentAudioVideo.start();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"startContentShareFromScreenCapture",value:function(e,t){return s(this,void 0,void 0,i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(e,t);case 2:return r=n.sent,n.next=5,this.startContentShare(r);case 5:return n.abrupt("return",r);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"pauseContentShare",value:function(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver((function(e){f.Maybe.of(e.contentShareDidPause).map((function(t){return t.call(e)}))}))}},{key:"unpauseContentShare",value:function(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver((function(e){f.Maybe.of(e.contentShareDidUnpause).map((function(t){return t.call(e)}))}))}},{key:"setContentShareVideoCodecPreferences",value:function(e){this.contentAudioVideo.setVideoCodecSendPreferences(e)}},{key:"destroy",value:function(){return s(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.contentAudioVideo){e.next=2;break}return e.abrupt("return");case 2:this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0;case 9:case"end":return e.stop()}}),e,this)})))}},{key:"stopContentShare",value:function(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}},{key:"addContentShareObserver",value:function(e){this.observerQueue.add(e)}},{key:"removeContentShareObserver",value:function(e){this.observerQueue.delete(e)}},{key:"forEachContentShareObserver",value:function(e){var t,n=this,i=r(this.observerQueue);try{var o=function(){var r=t.value;d.default.nextTick((function(){n.observerQueue.has(r)&&e(r)}))};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}},{key:"audioVideoDidStart",value:function(){this.mediaStreamBroker.mediaStream.getVideoTracks().length>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}},{key:"audioVideoDidStop",value:function(e){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver((function(e){f.Maybe.of(e.contentShareDidStop).map((function(t){return t.call(e)}))}))}},{key:"setupContentShareEvents",value:function(){var e=this;this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((function(t,n,r,i){var o=new l.default(t).hasModality(l.default.MODALITY_CONTENT),a=new l.default(t).base()===e.attendeeAudioVideo.configuration.credentials.attendeeId;if(o&&a&&n&&!e.contentShareTile){var s=e.mediaStreamBroker.mediaStream;if(null===s||void 0===s?void 0:s.getVideoTracks().length){e.contentShareTile=e.attendeeAudioVideo.videoTileController.addVideoTile();var c,u,d=s.getVideoTracks()[0];if(d.getSettings){var h=d.getSettings();c=h.width,u=h.height}else{var p=d.getCapabilities();c=p.width,u=p.height}e.contentShareTile.bindVideoStream(e.contentAudioVideo.configuration.credentials.attendeeId,!1,s,c,u,null,e.contentAudioVideo.configuration.credentials.externalUserId)}e.forEachContentShareObserver((function(e){f.Maybe.of(e.contentShareDidStart).map((function(t){return t.call(e)}))}))}}))}}],[{key:"createContentShareMeetingSessionConfigure",value:function(e){var t=new c.default;return t.meetingId=e.meetingId,t.externalMeetingId=e.externalMeetingId,t.urls=e.urls,t.credentials=new u.default,t.credentials.attendeeId=e.credentials.attendeeId+p.default.Modality,t.credentials.externalUserId=e.credentials.externalUserId,t.credentials.joinToken=e.credentials.joinToken+p.default.Modality,t}}]),e}();t.default=v},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(155),a=function(){function e(t,n){r(this,e),this.logger=t,this.encodingParams=n,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[]}return i(e,[{key:"updateConnectionMetric",value:function(e){}},{key:"chooseMediaTrackConstraints",value:function(){}},{key:"chooseEncodingParameters",value:function(){var e,t,n,r,i,a,s,c,u,l,d,f,h=new Map,p=o.default.NAME_ARR_ASCENDING;return h.set(p[0],{rid:p[0],active:!0,scaleResolutionDownBy:(null===(t=null===(e=this.encodingParams)||void 0===e?void 0:e.low)||void 0===t?void 0:t.scaleResolutionDownBy)||2,maxBitrate:1e3*((null===(r=null===(n=this.encodingParams)||void 0===n?void 0:n.low)||void 0===r?void 0:r.maxBitrateKbps)||300),maxFramerate:(null===(a=null===(i=this.encodingParams)||void 0===i?void 0:i.low)||void 0===a?void 0:a.maxFramerate)||5}),h.set(p[1],{rid:p[1],active:!0,scaleResolutionDownBy:(null===(c=null===(s=this.encodingParams)||void 0===s?void 0:s.high)||void 0===c?void 0:c.scaleResolutionDownBy)||1,maxBitrate:1e3*((null===(l=null===(u=this.encodingParams)||void 0===u?void 0:u.high)||void 0===l?void 0:l.maxBitrateKbps)||1200),maxFramerate:null===(f=null===(d=this.encodingParams)||void 0===d?void 0:d.high)||void 0===f?void 0:f.maxFramerate}),this.getQualityMapString(h),h}},{key:"updateIndex",value:function(e){this.videoIndex=e}},{key:"wantsResubscribe",value:function(){var e,t,n=this,r=!1;this.nextLocalDescriptions=null===(e=this.videoIndex)||void 0===e?void 0:e.localStreamDescriptions();for(var i=function(e){var t=n.nextLocalDescriptions[e].streamId;if(0!==t&&t){var i=n.currLocalDescriptions.findIndex((function(e){return e.streamId===t}));-1!==i&&n.nextLocalDescriptions[e].disabledByWebRTC!==n.currLocalDescriptions[i].disabledByWebRTC&&(r=!0)}},o=0;o<(null===(t=this.nextLocalDescriptions)||void 0===t?void 0:t.length);o++)i(o);return this.currLocalDescriptions=this.nextLocalDescriptions,r}},{key:"chooseCaptureAndEncodeParameters",value:function(){}},{key:"maxBandwidthKbps",value:function(){return 1200}},{key:"setIdealMaxBandwidthKbps",value:function(e){}},{key:"setHasBandwidthPriority",value:function(e){}},{key:"getQualityMapString",value:function(e){var t,n="",r=null===(t=this.videoIndex)||void 0===t?void 0:t.localStreamDescriptions();(null===r||void 0===r?void 0:r.length)>0&&(e.forEach((function(e){var t=!1;t="low"===e.rid?r[0].disabledByWebRTC:r[1].disabledByWebRTC,n+="{ rid: ".concat(e.rid," active:").concat(e.active," disabledByWebRTC: ").concat(t," maxBitrate:").concat(e.maxBitrate," scaleResolutionDownBy:").concat(e.scaleResolutionDownBy," maxFrameRate:").concat(e.maxFramerate)})),this.logger.info("simulcast: content policy:chooseEncodingParameters newQualityMap: ".concat(n)))}},{key:"addObserver",value:function(e){}},{key:"removeObserver",value:function(e){}},{key:"forEachObserver",value:function(e){}}]),e}();t.default=a},function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",c="object",u="string",l="model",d="name",f="type",h="vendor",p="version",v="architecture",m="console",g="mobile",b="tablet",y="smarttv",w="wearable",S="embedded",k="Amazon",C="Apple",O="ASUS",x="BlackBerry",E="Firefox",_="Google",T="Huawei",I="LG",A="Microsoft",M="Motorola",P="Opera",j="Samsung",R="Sony",D="Xiaomi",N="Zebra",L="Facebook",F=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},U=function(e,t){return typeof e===u&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},z=function(e,t){for(var n,r,i,s,u,l,d=0;d<t.length&&!u;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(i=0;i<h.length;i++)l=u[++r],typeof(s=h[i])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;d+=2}},H=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(U(t[n][r],e))return"?"===n?o:n}else if(U(t[n],e))return"?"===n?o:n;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,P]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[d,E]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,L],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,B]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,j],[f,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,j],[f,g]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,C],[f,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,C],[f,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,T],[f,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[h,T],[f,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,D],[f,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,D],[f,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[f,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[f,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[f,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,M],[f,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,M],[f,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,I],[f,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,I],[f,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[f,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[f,g]],[/(pixel c)\b/i],[l,[h,_],[f,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,_],[f,g]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,R],[f,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,R],[f,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[f,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,k],[f,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,k],[f,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[f,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,x],[f,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,O],[f,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,O],[f,g]],[/(nexus 9)/i],[l,[h,"HTC"],[f,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[f,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[f,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[f,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,"Sharp"],[f,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[f,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[f,b]],[/(surface duo)/i],[l,[h,A],[f,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[f,g]],[/(u304aa)/i],[l,[h,"AT&T"],[f,g]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[f,g]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[f,b]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[f,b]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[f,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[f,b]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[f,b]],[/\b(k88) b/i],[l,[h,"ZTE"],[f,b]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[f,g]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[f,g]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[f,b]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[f,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[f,b]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[f,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[f,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[f,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[f,g]],[/\b(ph-1) /i],[l,[h,"Essential"],[f,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[f,b]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[f,b]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[f,b]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[f,b]],[/(sprint) (\w+)/i],[h,l,[f,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,A],[f,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,N],[f,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,N],[f,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[f,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[f,m]],[/(playstation [345portablevi]+)/i],[l,[h,R],[f,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,A],[f,m]],[/smart-tv.+(samsung)/i],[h,[f,y]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,j],[f,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,I],[f,y]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[f,y]],[/crkey/i],[[l,"Chromecast"],[h,_],[f,y]],[/droid.+aft(\w)( bui|\))/i],[l,[h,k],[f,y]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[f,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,V],[l,V],[f,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,y]],[/((pebble))app/i],[h,l,[f,w]],[/droid.+; (glass) \d/i],[l,[h,_],[f,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,N],[f,w]],[/(quest( 2)?)/i],[l,[h,L],[f,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[f,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,b]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,H,W]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,H,W]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,p]]},K=function e(t,n){if(typeof t===c&&(n=t,t=o),!(this instanceof e))return new e(t,n).getResult();var r=t||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(q,n):q;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,z.call(t,r,a.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,z.call(e,r,a.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,z.call(e,r,a.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,z.call(e,r,a.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,z.call(e,r,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>255?V(e,255):e,this},this.setUA(r),this};K.VERSION="1.0.2",K.BROWSER=F([d,p,"major"]),K.CPU=F([v]),K.DEVICE=F([l,h,f,m,g,y,b,w,S]),K.ENGINE=K.OS=F([d,p]),typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=K),t.UAParser=K):n(419)?(r=function(){return K}.call(t,n,t,e))===o||(e.exports=r):typeof i!==s&&(i.UAParser=K);var G=typeof i!==s&&(i.jQuery||i.Zepto);if(G&&!G.ua){var J=new K;G.ua=J.getResult(),G.ua.get=function(){return J.getUA()},G.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var n in t)G.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(287),a=r((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o.default;i(this,e),this.eventsClientConfiguration=t,this.ingestionURL=n,this.eventBufferConfiguration=r}));t.default=a},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:15;i(this,e),this.flushIntervalMs=t,this.flushSize=n,this.maxBufferCapacityKb=r,this.totalBufferItems=o,this.retryCountLimit=a}));t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(114),c=n(289),u=function(){function e(t,n){i(this,e),this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded"],this.destroyed=!1;var r=t.eventsClientConfiguration,o=t.ingestionURL,a=t.eventBufferConfiguration,s=r.eventsToIgnore;this.eventBuffer=new c.default(a,r,o,this.importantEvents,n),this.logger=n,this.eventsToIgnore=s,this.start()}return o(e,[{key:"start",value:function(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(e){this.logger.error("Event Reporting - Error starting the event buffer ".concat(e))}}},{key:"stop",value:function(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(e){this.logger.error("Event Reporting - Error stopping the event buffer ".concat(e))}}},{key:"reportEvent",value:function(e,t,n){return a(this,void 0,void 0,r().mark((function i(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.logger.debug("Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ".concat(e,", ").concat(t,", ").concat(JSON.stringify(n))),!this.eventsToIgnore.includes(t)){r.next=4;break}return this.logger.debug("Event Reporting - DefaultMeetingEventReporter - ".concat(t," event will be ignored as it is in events to ignore")),r.abrupt("return");case 4:return r.prev=4,this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),r.next=8,this.eventBuffer.addItem({ts:e,name:t,attributes:n});case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(4),this.logger.error("Event Reporting - Error adding event to buffer ".concat(r.t0));case 13:case"end":return r.stop()}}),i,this,[[4,10]])})))}},{key:"destroy",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.destroyed=!0,this.stop(),s.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0;case 4:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=u},function(e,t,n){"use strict";(function(e){var r=n(58).default,i=n(7).default,o=n(76).default,a=n(2).default,s=n(3).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},u=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var l=n(66),d=n(62),f=n(290),h=n(161),p=function(){function t(e,n,r,s,l){var d=this;a(this,t),this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=function(e){return{type:e.type,v:e.v,payloads:o(e.payloads)}},this.sendEvents=function(){return c(d,void 0,void 0,i().mark((function e(){var t,n,r,a,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lock){e.next=2;break}return e.abrupt("return");case 2:if(0!==(t=this.getItems(this.flushSize)).length){e.next=5;break}return e.abrupt("return");case 5:return this.lock=!0,n=this.makeRequestBody(t),r=!1,a=Date.now(),"firefox"===this.metadata.browserName.toLowerCase()&&this.cancellableEvents.set(a,t),e.prev=10,this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ".concat(n)),e.next=14,this.send(n);case 14:if(s=e.sent,this.cancellableEvents.delete(a),s.ok){e.next=21;break}this.logger.error("Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ".concat(n," with response status ").concat(s.status)),r=!0,e.next=31;break;case 21:return e.prev=21,e.next=24,s.json();case 24:c=e.sent,this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ".concat(n," message: ").concat(JSON.stringify(c))),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(21),this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ".concat(e.t0," for events ").concat(n));case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(10),r=!0,this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ".concat(n," to the ingestion endpoint ").concat(e.t1));case 37:return e.prev=37,this.lock=!1,e.finish(37);case 40:r&&(this.cancellableEvents.delete(a),(u=this.failedIngestionEvents).push.apply(u,o(t)));case 41:case"end":return e.stop()}}),e,this,[[10,33,37,40],[21,28]])})))};var h=new f.default(l).getParserResult(),p=(h.browserMajorVersion,u(h,["browserMajorVersion"])),v=n.toJSON(),m=v.type,g=v.v,b=u(v,["type","v"]);this.authenticationToken=n.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},p),b),Object.keys(this.metadata).forEach((function(e){return d.attributesToFilter.push(e)})),this.type=m,this.v=g,this.ingestionURL=r,this.logger=l,this.importantEvents=new Set(s);var y=e.maxBufferCapacityKb,w=e.totalBufferItems,S=e.flushSize,k=e.flushIntervalMs,C=e.retryCountLimit;this.maxBufferCapacityBytes=1024*y,this.totalBufferItems=w,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/w),this.flushIntervalMs=k,this.flushSize=S,this.retryCountLimit=C,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=function(e){return d.beaconEventHandler(e)},this.addEventListeners()}return s(t,[{key:"addEventListeners",value:function(){this.beaconEventListener&&"window"in e&&window.addEventListener&&"document"in e&&document.addEventListener&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}},{key:"beaconEventHandler",value:function(e){("visibilitychange"===e.type&&"hidden"===document.visibilityState||"pagehide"===e.type)&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}},{key:"removeEventListeners",value:function(){this.beaconEventListener&&"window"in e&&window.removeEventListener&&"document"in e&&document.removeEventListener&&(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}},{key:"start",value:function(){var e,t=this;this.removeEventListeners(),this.addEventListeners(),null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=new d.default(this.flushIntervalMs),this.intervalScheduler.start((function(){return t.sendEvents()}))}},{key:"stop",value:function(){var e;null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}},{key:"addItem",value:function(e){return c(this,void 0,void 0,i().mark((function n(){var r,o,a,s,c,u,l;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - received event ".concat(JSON.stringify(e))),r=e.name,o=e.ts,a=e.attributes,s=a&&this.filterAttributes(a,this.attributesToFilter),c=Object.assign({name:r,ts:o},s),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ".concat(JSON.stringify(c))),!((u=this.getSize(c))>t.MAX_ITEM_SIZE_BYTES_ALLOWED)){n.next=8;break}throw new Error("Event Reporting - Item to be added has size ".concat(u," bytes. Item cannot exceed max item size allowed of ").concat(t.MAX_ITEM_SIZE_BYTES_ALLOWED," bytes."));case 8:if(!this.importantEvents.has(r)){n.next=12;break}return this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ".concat(JSON.stringify(c))),this.sendEventImmediately({name:r,ts:o,attributes:s}),n.abrupt("return");case 12:if(!this.isFull()){n.next=15;break}throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");case 15:this.currentIngestionEvent.payloads.push(c),this.ingestionEventSize+=u,this.bufferItemThresholdReached(u)&&(l=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent),this.buffer.push(l),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ".concat(JSON.stringify(this.buffer))));case 18:case"end":return n.stop()}}),n,this)})))}},{key:"filterAttributes",value:function(e,t){var n=new Set(t);return Object.keys(e).filter((function(e){return n.has(e)})).forEach((function(t){return delete e[t]})),e}},{key:"initializeAndGetCurrentIngestionEvent",value:function(){var e={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(e),e}},{key:"bufferItemThresholdReached",value:function(e){return e+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===t.MAX_PAYLOAD_ITEMS}},{key:"getSize",value:function(e){var t=0;if("object"===typeof e)for(var n=0,i=Object.entries(e);n<i.length;n++){var o=r(i[n],2),a=o[0],s=o[1];t+=this.getPrimitiveSize(a),t+=this.getSize(s)}else t+=this.getPrimitiveSize(e);return t}},{key:"getPrimitiveSize",value:function(e){var t=0;return"string"===typeof e?t+=2*e.length:"number"===typeof e&&(t+=8),t}},{key:"isFull",value:function(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}},{key:"isEmpty",value:function(){return 0===this.buffer.length||0===this.bufferSize}},{key:"getItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isEmpty())return[];e=Math.min(this.buffer.length,e+1);var n=this.buffer.splice(t,e);return n}},{key:"makeBeaconRequestBody",value:function(e){var t={metadata:this.metadata,events:e,authorization:this.authenticationToken};return JSON.stringify(t)}},{key:"makeRequestBody",value:function(e){var t={metadata:this.metadata,events:e};return JSON.stringify(t)}},{key:"sendEventImmediately",value:function(e){return c(this,void 0,void 0,i().mark((function t(){var n,r,o,a,s,c,u,l,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ".concat(JSON.stringify(e))),n=e.name,r=e.ts,o=e.attributes,a={type:this.type,v:this.v,payloads:[Object.assign({name:n,ts:r},o)]},s=!1,c=null,u=this.makeRequestBody([a]),t.prev=6,t.next=9,this.send(u);case 9:if(!(c=t.sent).ok){t.next=24;break}return t.prev=11,t.next=14,c.json();case 14:l=t.sent,this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ".concat(u,", message: ").concat(JSON.stringify(l))),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ".concat(t.t0," for event ").concat(u));case 21:return t.abrupt("return");case 24:this.logger.error("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ".concat(u," with response status ").concat(c.status)),s=!0;case 26:t.next=33;break;case 28:t.prev=28,t.t1=t.catch(6),this.logger.warn("Event Reporting - There may be a failure in sending an important event ".concat(u," to the ingestion endpoint ").concat(t.t1,".")),s=!0;try{"firefox"===this.metadata.browserName.toLowerCase()&&(d=this.makeBeaconRequestBody([a]),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ".concat(d)),s=!navigator.sendBeacon("".concat(this.ingestionURL,"?beacon=1"),d))}catch(i){this.logger.warn("Event Reporting - Error sending beacon for an important event ".concat(u)),s=!0}case 33:s&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ".concat(u)),this.failedIngestionEvents.push(a));case 34:case"end":return t.stop()}}),t,this,[[6,28],[11,18]])})))}},{key:"send",value:function(e){return c(this,void 0,void 0,i().mark((function n(){var r,o,a,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=new l.default(t.RETRY_FIXED_BACKOFF_WAIT_MS,t.RETRY_SHORT_BACKOFF_MS,t.RETRY_LONG_BACKOFF_MS),n.prev=1,o=0;case 3:if(!(o<this.retryCountLimit)){n.next=19;break}return n.next=6,fetch(this.ingestionURL,{method:"POST",headers:{Authorization:"Bearer ".concat(this.authenticationToken)},body:e});case 6:if(!(a=n.sent).ok&&t.SENDING_FAILURE_CODES.has(a.status)){n.next=11;break}return n.abrupt("return",a);case 11:if(this.logger.warn("Will retry sending failure for ".concat(e," due to status code ").concat(a.status,".")),!(++o<this.retryCountLimit)){n.next=17;break}return s=r.nextBackoffAmountMs(),n.next=17,h.wait(s);case 17:n.next=3;break;case 19:if(o!==this.retryCountLimit){n.next=21;break}throw new Error("Retry count limit reached for ".concat(e));case 21:n.next=26;break;case 23:throw n.prev=23,n.t0=n.catch(1),n.t0;case 26:case"end":return n.stop()}}),n,this,[[1,23]])})))}},{key:"sendBeacon",value:function(){return c(this,void 0,void 0,i().mark((function e(){var t,n,r,a,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.buffer,this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ".concat(JSON.stringify(t))),this.buffer=[],this.currentIngestionEvent.payloads.length>0&&(n=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent),t.push(n),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ".concat(JSON.stringify(n))),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()),this.failedIngestionEvents.length>0&&(r=this.failedIngestionEvents.map((function(e){return s.deepCopyCurrentIngestionEvent(e)})),t.push.apply(t,o(r)),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ".concat(JSON.stringify(r))),this.failedIngestionEvents=[]),this.cancellableEvents.size>0&&(this.cancellableEvents.forEach((function(e){t.push.apply(t,o(e)),s.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ".concat(JSON.stringify(e)))})),this.cancellableEvents.clear()),0!==t.length){e.next=8;break}return e.abrupt("return");case 8:a=this.makeBeaconRequestBody(t),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ".concat(a));try{navigator.sendBeacon("".concat(this.ingestionURL,"?beacon=1"),a)||this.logger.warn("Event Reporting - Browser failed to queue beacon data ".concat(a))}catch(i){this.logger.warn("Event Reporting - Sending beacon data ".concat(a," failed with error ").concat(i))}case 11:case"end":return e.stop()}}),e,this)})))}},{key:"reset",value:function(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}},{key:"destroy",value:function(){return c(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stop(),this.reset();case 2:case"end":return e.stop()}}),e,this)})))}}]),t}();t.default=p,p.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),p.RETRY_FIXED_BACKOFF_WAIT_MS=0,p.RETRY_SHORT_BACKOFF_MS=1e3,p.RETRY_LONG_BACKOFF_MS=15e3,p.MAX_PAYLOAD_ITEMS=2,p.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3}).call(this,n(34))},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(285),a=n(52),s=function(){function e(t){var n,i,a,s,c,u,l;r(this,e);try{this.parserResult=navigator&&navigator.userAgent?new o.UAParser(navigator.userAgent).getResult():void 0}catch(d){t.error(d.message)}this.browserMajorVersion=(null===(a=null===(i=null===(n=this.parserResult)||void 0===n?void 0:n.browser)||void 0===i?void 0:i.version)||void 0===a?void 0:a.split(".")[0])||e.UNAVAILABLE,this.browserName=(null===(s=this.parserResult)||void 0===s?void 0:s.browser.name)||e.UNAVAILABLE,this.browserVersion=(null===(c=this.parserResult)||void 0===c?void 0:c.browser.version)||e.UNAVAILABLE,this.deviceName=[(null===(u=this.parserResult)||void 0===u?void 0:u.device.vendor)||"",(null===(l=this.parserResult)||void 0===l?void 0:l.device.model)||""].join(" ").trim()||e.UNAVAILABLE}return i(e,[{key:"getParserResult",value:function(){var t,n;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:(null===(t=this.parserResult)||void 0===t?void 0:t.os.name)||e.UNAVAILABLE,osVersion:(null===(n=this.parserResult)||void 0===n?void 0:n.os.version)||e.UNAVAILABLE,sdkVersion:a.default.sdkVersion,sdkName:a.default.sdkName}}}]),e}();t.default=s,s.UNAVAILABLE="Unavailable"},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r(this,e),this.type="Meet",this.v=1,this.meetingId=t,this.attendeeId=n,this.eventsToIgnore=o,this.authenticationToken=i}return i(e,[{key:"getAuthenticationToken",value:function(){return this.authenticationToken}},{key:"toJSON",value:function(){var e={};return e.type=this.type,e.v=this.v,e.meetingId=this.meetingId,e.attendeeId=this.attendeeId,e}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.timeoutMs=1e4,this.waitDurationMs=3e3}));t.default=o},function(e,t,n){"use strict";(function(e){}).call(this,n(72))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(425),i=n(295),o=n(99),a=n(78),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",c(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(c(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function c(e){return"string"===typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(297),i=n(295),o=n(78),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(426);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(430);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(431);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(432);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(t,n,r){i(this,e),this.type=t,this.headers=n,this.payload=r}));t.default=o},function(e,t,n){"use strict";var r=n(76).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(445),u=n(453),l=n(52),d=function(){function e(t){o(this,e),this.chimeClient=t}return a(e,[{key:"makeTwoDigits",value:function(e){return e>9?e.toString():"0"+e.toString()}},{key:"hmac",value:function(e,t){var n=new c.Sha256(t);return n.update(e),n.digest()}},{key:"getDateTimeString",value:function(){var e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}},{key:"getDateString",value:function(e){return e.substring(0,e.indexOf("T"))}},{key:"getSignatureKey",value:function(e,t,n,r){return s(this,void 0,void 0,i().mark((function o(){var a,s,c,u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.hmac(t,"AWS4"+e);case 2:return a=i.sent,i.next=5,this.hmac(n,a);case 5:return s=i.sent,i.next=8,this.hmac(r,s);case 8:return c=i.sent,i.next=11,this.hmac("aws4_request",c);case 11:return u=i.sent,i.abrupt("return",u);case 13:case"end":return i.stop()}}),o,this)})))}},{key:"signURL",value:function(e,t,n,o,a,c,d){return s(this,void 0,void 0,i().mark((function s(){var f,h,p,v,m,g,b,y,w,S,k,C,O,x,E,_;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(f=this.getDateTimeString(),h=this.getDateString(f),p="AWS4-HMAC-SHA256",v="",!(this.chimeClient.config.region instanceof Function)){i.next=10;break}return i.next=7,this.chimeClient.config.region();case 7:v=i.sent,i.next=11;break;case 10:v=this.chimeClient.config.region;case 11:if(m="host",g="host:"+o.toLowerCase()+"\n",b=h+"/"+v+"/"+n+"/aws4_request",y=void 0,!(this.chimeClient.config.credentials instanceof Function)){i.next=21;break}return i.next=18,this.chimeClient.config.credentials();case 18:y=i.sent,i.next=22;break;case 21:y=this.chimeClient.config.credentials;case 22:return(w=new Map).set("X-Amz-Algorithm",[p]),w.set("X-Amz-Credential",[encodeURIComponent(y.accessKeyId+"/"+b)]),w.set("X-Amz-Date",[f]),w.set("X-Amz-Expires",["10"]),w.set("X-Amz-SignedHeaders",["host"]),y.sessionToken&&w.set("X-Amz-Security-Token",[encodeURIComponent(y.sessionToken)]),w.set(l.default.X_AMZN_VERSION,[encodeURIComponent(l.default.sdkVersion)]),w.set(l.default.X_AMZN_USER_AGENT,[encodeURIComponent(l.default.sdkUserAgentLowResolution)]),null===d||void 0===d||d.forEach((function(e,t){var n=encodeURIComponent(t);e.sort().forEach((function(e){w.has(n)||w.set(n,[]),w.get(n).push(encodeURIComponent(e))}))})),S="",(w=new Map(r(w.entries()).sort())).forEach((function(e,t){e.forEach((function(e){S.length&&(S+="&"),S+=t+"="+e}))})),i.t0=e+"\n"+a+"\n"+S+"\n"+g+"\n"+m+"\n",i.t1=u,i.next=39,this.hmac(c);case 39:return i.t2=i.sent,i.t3=i.t1.toHex.call(i.t1,i.t2),k=i.t0+i.t3,i.t4=u,i.next=45,this.hmac(k);case 45:return i.t5=i.sent,C=i.t4.toHex.call(i.t4,i.t5),O="AWS4-HMAC-SHA256\n"+f+"\n"+h+"/"+v+"/"+n+"/aws4_request\n"+C,i.next=50,this.getSignatureKey(y.secretAccessKey,h,v,n);case 50:return x=i.sent,i.t6=u,i.next=54,this.hmac(O,x);case 54:return i.t7=i.sent,E=i.t6.toHex.call(i.t6,i.t7),_=S+"&X-Amz-Signature="+E,i.abrupt("return",t+"://"+o+a+"?"+_);case 58:case"end":return i.stop()}}),s,this)})))}}]),e}();t.default=d},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Connect="connect"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r=n(7).default,i=n(12).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(140),u=function(){function e(t,n){var a=this;o(this,e),this.logger=t,this.stages=n,this.fr=15,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=function(e){return s(a,void 0,void 0,r().mark((function e(){var t,n,o,a,s,c,u,l,d,f,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inputVideoStream){e.next=2;break}return e.abrupt("return");case 2:t=performance.now(),this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0)),(n=[]).push(this.sourceBuffers[0]),e.prev=6,o=i(this.processors),e.prev=8,o.s();case 10:if((a=o.n()).done){e.next=17;break}return s=a.value,e.next=14,s.process(n);case 14:n=e.sent;case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:e.next=31;break;case 27:return e.prev=27,e.t1=e.catch(6),this.forEachObserver((function(e){e.processingDidFailToStart&&e.processingDidFailToStart()})),e.abrupt("return");case 31:return this.destBuffers=n,e.prev=32,e.next=35,this.destBuffers[0].asCanvasImageSource();case 35:c=e.sent,e.next=42;break;case 38:return e.prev=38,e.t2=e.catch(32),this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver((function(e){e.processingDidFailToStart&&e.processingDidFailToStart()}))),e.abrupt("return");case 42:u=c.width,l=c.height,0!==u&&0!==l&&(this.canvasOutput.width!==u&&this.canvasOutput.height!==l&&(this.canvasOutput.width=u,this.canvasOutput.height=l),this.outputCtx.drawImage(c,0,0,u,l,0,0,u,l),this.hasStarted||(this.hasStarted=!0,this.forEachObserver((function(e){e.processingDidStart&&e.processingDidStart()})))),d=performance.now()-t,f=2e3/this.framerate-d,h=Math.max(0,1e3/this.framerate-d),f<=0&&this.forEachObserver((function(e){e.processingLatencyTooHigh&&e.processingLatencyTooHigh(d)})),this.lastTimeOut=setTimeout(this.process,h);case 50:case"end":return e.stop()}}),e,this,[[6,27],[8,19,22,25],[32,38]])})))}}return a(e,[{key:"destroy",value:function(){if(this.stop(),this.stages){var e,t=i(this.stages);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}}},{key:"framerate",get:function(){return this.fr},set:function(e){this.fr=e<0?15:e}},{key:"stop",value:function(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream){var e,t=i(this.outputMediaStream.getVideoTracks());try{for(t.s();!(e=t.n()).done;){e.value.stop()}}catch(n){t.e(n)}finally{t.f()}}this.lastTimeOut&&(clearTimeout(this.lastTimeOut),this.lastTimeOut=void 0),this.hasStarted&&(this.hasStarted=!1,this.forEachObserver((function(e){e.processingDidStop&&e.processingDidStop()})))}},{key:"addObserver",value:function(e){this.observers.add(e)}},{key:"removeObserver",value:function(e){this.observers.delete(e)}},{key:"getInputMediaStream",value:function(){return s(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.inputVideoStream);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getActiveOutputMediaStream",value:function(){return this.outputMediaStream&&this.outputMediaStream.active?this.outputMediaStream:this.outputMediaStream=this.canvasOutput.captureStream(this.framerate)}},{key:"setInputMediaStream",value:function(e){return s(this,void 0,void 0,r().mark((function t(){var n,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return this.stop(),t.abrupt("return");case 3:if(0!==e.getVideoTracks().length){t.next=6;break}return this.logger.error("No video tracks in input media stream, ignoring"),t.abrupt("return");case 6:return this.inputVideoStream=e,n=this.inputVideoStream.getVideoTracks()[0].getSettings(),this.logger.info("processing pipeline input stream settings ".concat(JSON.stringify(n))),this.canvasOutput.width=n.width,this.canvasOutput.height=n.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true"),i=new c.default(this.canvasInput),this.sourceBuffers.push(i),this.videoInput.load(),t.prev=17,t.next=20,this.videoInput.play();case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(17),this.logger.warn("Video element play() overrided by another load().");case 25:case"end":return t.stop()}}),t,this,[[17,22]])})))}},{key:"processors",get:function(){return this.stages},set:function(e){this.stages=e}},{key:"forEachObserver",value:function(e){var t,n=i(this.observers);try{var r=function(){var n=t.value;setTimeout((function(){e(n)}),0)};for(n.s();!(t=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}}},{key:"destroyInputMediaStreamAndBuffers",value:function(){if(this.inputVideoStream){var e,t=i(this.inputVideoStream.getTracks());try{for(t.s();!(e=t.n()).done;){e.value.stop()}}catch(o){t.e(o)}finally{t.f()}}this.inputVideoStream=null;var n,r=i(this.sourceBuffers);try{for(r.s();!(n=r.n()).done;){n.value.destroy()}}catch(o){r.e(o)}finally{r.f()}this.sourceBuffers=[]}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default,o=n(57).default,a=n(43).default,s=n(9).default,c=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){s(n,e);var t=c(n);function n(e,i,o,a){var s;return r(this,n),(s=t.call(this,e,i,o)).limit=a,s.attempts=0,s}return i(n,[{key:"nextBackoffAmountMs",value:function(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return o(a(n.prototype),"nextBackoffAmountMs",this).call(this)}}]),n}(n(66).default);t.default=u},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(t,n,r,o){i(this,e),this.sequenceNumber=t,this.message=n,this.timestampMs=r,this.logLevel=o}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(48),c=function(e){o(n,e);var t=a(n);function n(){return i(this,n),t.call(this,s.default.DEBUG)}return r(n)}(n(309).default);t.default=c},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.OFF;r(this,e),this.level=t}return i(e,[{key:"info",value:function(e){}},{key:"warn",value:function(e){}},{key:"error",value:function(e){}},{key:"debug",value:function(e){o.default.DEBUG<this.level||"string"!==typeof e&&e()}},{key:"setLogLevel",value:function(e){this.level=e}},{key:"getLogLevel",value:function(){return this.level}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(31),u=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new c.default,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new Map,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0;o(this,e),this.device=t,this.voiceFocus=n,this.delegate=r,this.nodeOptions=i,this.failed=a,this.node=s,this.browserBehavior=u,this.farEndStreamToAudioSourceNode=l,this.mixDestNode=d,this.mixSourceNode=f}return a(e,[{key:"getInnerDevice",value:function(){return this.device}},{key:"mute",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.node){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=7;break}return t.next=5,this.node.disable();case 5:t.next=9;break;case 7:return t.next=9,this.node.enable();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"stop",value:function(){return s(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.node){e.next=2;break}return e.abrupt("return");case 2:return this.node.disconnect(),e.next=5,this.node.stop();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"chooseNewInnerDevice",value:function(t){return s(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.device!==t||l(t)){n.next=2;break}return n.abrupt("return",this);case 2:return n.abrupt("return",new e(t,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"intrinsicDevice",value:function(){return s(this,void 0,void 0,i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.failed){e.next=2;break}return e.abrupt("return",this.device);case 2:if(t=this.nodeOptions.es,n={echoCancellation:!t,googEchoCancellation:!t,googEchoCancellation2:!t,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1},r=!this.nodeOptions||void 0===this.nodeOptions.agc||this.nodeOptions.agc.useBuiltInAGC,n.autoGainControl=r,n.googAutoGainControl=r,n.googAutoGainControl2=r,this.device){e.next=10;break}return e.abrupt("return",n);case 10:if("string"!==typeof this.device){e.next=13;break}return this.browserBehavior.requiresNoExactMediaStreamConstraints()?n.deviceId=this.device:n.deviceId={exact:this.device},e.abrupt("return",n);case 13:if(!this.device.id){e.next=15;break}return e.abrupt("return",this.device);case 15:return e.abrupt("return",Object.assign(Object.assign({},this.device),n));case 16:case"end":return e.stop()}}),e,this)})))}},{key:"createAudioNode",value:function(e){var t,n;return s(this,void 0,void 0,i().mark((function o(){var a,s,c,u,l,d,f;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if((null===(t=this.node)||void 0===t?void 0:t.context)!==e){i.next=2;break}return i.abrupt("return",{start:this.node,end:this.node});case 2:return a={useVoiceFocusAGC:!1},s=Object.assign({enabled:!0,agc:a},this.nodeOptions),i.prev=4,null===(n=this.node)||void 0===n||n.disconnect(),i.next=8,this.voiceFocus.createNode(e,s);case 8:if(this.node=i.sent,this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(e,{channelCount:1,channelCountMode:"explicit"}),c=r(this.farEndStreamToAudioSourceNode.keys());try{for(c.s();!(u=c.n()).done;)l=u.value,this.assignFarEndStreamToAudioSourceNode(l)}catch(o){c.e(o)}finally{c.f()}this.createMixSourceNode()}return d=this.node,f=this.node,i.abrupt("return",{start:d,end:f});case 15:throw i.prev=15,i.t0=i.catch(4),this.failed=!0,this.delegate.onFallback(this,i.t0),i.t0;case 20:case"end":return i.stop()}}),o,this,[[4,15]])})))}},{key:"observeMeetingAudio",value:function(e){return s(this,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.nodeOptions.es){t.next=2;break}return t.abrupt("return");case 2:return e.addAudioMixObserver(this),t.next=5,e.getCurrentMeetingAudioStream();case 5:(n=t.sent)&&this.addFarEndStream(n);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"unObserveMeetingAudio",value:function(e){return s(this,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.nodeOptions.es){t.next=2;break}return t.abrupt("return");case 2:return e.removeAudioMixObserver(this),t.next=5,e.getCurrentMeetingAudioStream();case 5:(n=t.sent)&&this.removeFarendStream(n);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"addObserver",value:function(e){this.delegate.addObserver(e)}},{key:"removeObserver",value:function(e){this.delegate.removeObserver(e)}},{key:"addFarEndStream",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.nodeOptions.es&&e&&!this.farEndStreamToAudioSourceNode.has(e)){t.next=2;break}return t.abrupt("return");case 2:this.node?this.assignFarEndStreamToAudioSourceNode(e):this.farEndStreamToAudioSourceNode.set(e,null);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"removeFarendStream",value:function(e){var t;return s(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null===(t=this.farEndStreamToAudioSourceNode.get(e))||void 0===t||t.disconnect(),this.farEndStreamToAudioSourceNode.delete(e);case 2:case"end":return n.stop()}}),n,this)})))}},{key:"meetingAudioStreamBecameActive",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addFarEndStream(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"meetingAudioStreamBecameInactive",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.removeFarendStream(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"assignFarEndStreamToAudioSourceNode",value:function(e){var t=this.node.context.createMediaStreamSource(e);t.channelCount=1,t.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(e,t),t.connect(this.mixDestNode,0)}},{key:"createMixSourceNode",value:function(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}}]),e}();function l(e){return"default"===e||!(!e||"object"!==typeof e)&&("deviceId"in e&&"default"===e.deviceId||"id"in e&&"default"===e.id)}t.default=u},function(e,t,n){!function(t,r){var i;e.exports=(i=n(30),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),i.lib.WordArray)}()},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},c=function e(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(c())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(71),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},s=new r.a("Hub"),c="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var u=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void s.warn("No listeners for "+e);this.patterns=a(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void s.warn("No listeners for "+e);this.listeners[e]=a(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===c||s.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var o={channel:e,payload:i({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(a){s.error(a)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))s.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!==typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){s.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(i){s.error(i)}})),this.patterns.length>0){if(!n.message)return void s.warn("Cannot perform pattern matching without a message key");var a=n.message;this.patterns.forEach((function(t){var n=a.match(t.pattern);if(n){var r=o(n).slice(1),c=i(i({},e),{patternInfo:r});try{t.callback(c)}catch(u){s.error(u)}}}))}},e}())("__default__")},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(508),i=n(317),o=n(127),a=n(78),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",c(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(c(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function c(e){return"string"===typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(319),i=n(317),o=n(78),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(509);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(510);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(511);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(512);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(71),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=new r.a("Parser"),a=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=i(i({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),o.debug("parse config",e,"to amplifyconfig",n),n},s=function(){function e(){}return e.parseMobilehubConfig=a,e}()},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(32);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,n){"use strict";var r=n(32),i=n(531),o=n(532),a=n(325),s=n(533),c=n(536),u=n(537),l=n(328),d=n(117),f=n(118);e.exports=function(e){return new Promise((function(t,n){var h,p=e.data,v=e.headers,m=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete v["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(y+":"+w)}var S=s(e.baseURL,e.url);function k(){if(b){var r="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),g()}),(function(e){n(e),g()}),o),b=null}}if(b.open(e.method.toUpperCase(),a(S,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=k:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(k)},b.onabort=function(){b&&(n(l("Request aborted",e,"ECONNABORTED",b)),b=null)},b.onerror=function(){n(l("Network Error",e,null,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},r.isStandardBrowserEnv()){var C=(e.withCredentials||u(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;C&&(v[e.xsrfHeaderName]=C)}"setRequestHeader"in b&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),m&&"json"!==m&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(n(!e||e&&e.type?new f("canceled"):e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),b.send(p)}))}},function(e,t,n){"use strict";var r=n(326);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},function(e,t){e.exports={version:"0.26.0"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(71),i=n(172),o=n(40),a=n(20),s=n(353),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=new r.a("Signer"),d="AWS4-HMAC-SHA256",f=function(e,t){var n=new i.Sha256(e);return n.update(t),n.digestSync()},h=function(e){var t=e||"",n=new i.Sha256;return n.update(t),Object(o.a)(n.digestSync())},p=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},v=function(e){var t,n,r=Object(a.parse)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),p(e.headers),h(e.data)].join("\n")},m=function(e){var t=(Object(a.parse)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},g=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},b=function(e,t,n,r){return[e,n,r,h(t)].join("\n")},y=function(e,t,n){l.debug(n);var r=f("AWS4"+e,t),i=f(r,n.region),o=f(i,n.service);return f(o,"aws4_request")},w=function(e,t){return Object(o.a)(f(e,t))},S=function(){function e(){}return e.sign=function(e,t,n){if(void 0===n&&(n=null),e.headers=e.headers||{},e.body&&!e.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var r=s.a.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),i=r.substr(0,8),o=Object(a.parse)(e.url);e.headers.host=o.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var c=v(e);l.debug(c);var u=n||m(e),f=g(i,u.region,u.service),h=b(d,c,r,f),S=y(t.secret_key,i,u),k=w(S,h),C=function(e,t,n,r,i){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+i].join(", ")}(d,t.access_key,f,p(e.headers),k);return e.headers.Authorization=C,e},e.signUrl=function(e,t,n,r){var i="object"===typeof e?e.url:e,o="object"===typeof e?e.method:"GET",l="object"===typeof e?e.body:void 0,f=s.a.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),h=f.substr(0,8),p=Object(a.parse)(i,!0,!0),S=(p.search,u(p,["search"])),k={host:S.host},C=n||m({url:Object(a.format)(S)}),O=C.region,x=C.service,E=g(h,O,x),_=t.session_token&&"iotdevicegateway"!==x,T=c(c(c({"X-Amz-Algorithm":d,"X-Amz-Credential":[t.access_key,E].join("/"),"X-Amz-Date":f.substr(0,16)},_?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(k).join(",")}),I=v({method:o,url:Object(a.format)(c(c({},S),{query:c(c({},S.query),T)})),headers:k,data:l}),A=b(d,I,f,E),M=y(t.secret_key,h,{region:O,service:x}),P=w(M,A),j=c({"X-Amz-Signature":P},t.session_token&&{"X-Amz-Security-Token":t.session_token});return Object(a.format)({protocol:S.protocol,slashes:!0,hostname:S.hostname,port:S.port,pathname:S.pathname,query:c(c(c({},S.query),T),j)})},e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},function(e,t,n){"use strict";n.r(t),n.d(t,"hexToRgb",(function(){return r.g})),n.d(t,"rgbToHex",(function(){return r.k})),n.d(t,"hslToRgb",(function(){return r.h})),n.d(t,"decomposeColor",(function(){return r.b})),n.d(t,"recomposeColor",(function(){return r.j})),n.d(t,"getContrastRatio",(function(){return r.e})),n.d(t,"getLuminance",(function(){return r.f})),n.d(t,"emphasize",(function(){return r.c})),n.d(t,"fade",(function(){return r.d})),n.d(t,"darken",(function(){return r.a})),n.d(t,"lighten",(function(){return r.i})),n.d(t,"createMuiTheme",(function(){return i.a})),n.d(t,"unstable_createMuiStrictModeTheme",(function(){return a})),n.d(t,"createStyles",(function(){return s})),n.d(t,"makeStyles",(function(){return d})),n.d(t,"responsiveFontSizes",(function(){return w})),n.d(t,"styled",(function(){return S.a})),n.d(t,"easing",(function(){return k.c})),n.d(t,"duration",(function(){return k.b})),n.d(t,"useTheme",(function(){return E})),n.d(t,"withStyles",(function(){return _.a})),n.d(t,"withTheme",(function(){return j})),n.d(t,"createGenerateClassName",(function(){return R.a})),n.d(t,"jssPreset",(function(){return D.a})),n.d(t,"ServerStyleSheets",(function(){return B})),n.d(t,"StylesProvider",(function(){return U.b})),n.d(t,"MuiThemeProvider",(function(){return H})),n.d(t,"ThemeProvider",(function(){return H}));var r=n(83),i=n(79),o=n(557);function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.a.apply(void 0,[Object(o.a)({unstable_strictMode:!0},e)].concat(n))}function s(e){return e}var c=n(11),u=n(574),l=n(50);var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(e,Object(c.a)({defaultTheme:l.a},t))},f=n(352),h=n(38);function p(e){return String(parseFloat(e)).length===String(e).length}function v(e){return parseFloat(e)}function m(e){return function(t,n){var r=String(t).match(/[\d.\-+]*\s*(.*)/)[1]||"";if(r===n)return t;var i=v(t);if("px"!==r)if("em"===r)i=v(t)*v(e);else if("rem"===r)return i=v(t)*v(e),t;var o=i;if("px"!==n)if("em"===n)o=i/v(e);else{if("rem"!==n)return t;o=i/v(e)}return parseFloat(o.toFixed(5))+n}}function g(e){var t=e.size,n=e.grid,r=t-t%n,i=r+n;return t-r<i-t?r:i}function b(e){var t=e.lineHeight;return e.pixels/(t*e.htmlFontSize)}function y(e){var t=e.cssProperty,n=e.min,r=e.max,i=e.unit,o=void 0===i?"rem":i,a=e.breakpoints,s=void 0===a?[600,960,1280]:a,c=e.transform,u=void 0===c?null:c,l=Object(h.a)({},t,"".concat(n).concat(o)),d=(r-n)/s[s.length-1];return s.forEach((function(e){var r=n+d*e;null!==u&&(r=u(r)),l["@media (min-width:".concat(e,"px)")]=Object(h.a)({},t,"".concat(Math.round(1e4*r)/1e4).concat(o))})),l}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breakpoints,r=void 0===n?["sm","md","lg"]:n,i=t.disableAlign,o=void 0!==i&&i,a=t.factor,s=void 0===a?2:a,u=t.variants,l=void 0===u?["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]:u,d=Object(c.a)({},e);d.typography=Object(c.a)({},d.typography);var h=d.typography,v=m(h.htmlFontSize),w=r.map((function(e){return d.breakpoints.values[e]}));return l.forEach((function(e){var t=h[e],n=parseFloat(v(t.fontSize,"rem"));if(!(n<=1)){var r=n,i=1+(r-1)/s,a=t.lineHeight;if(!p(a)&&!o)throw new Error(Object(f.a)(6));p(a)||(a=parseFloat(v(a,"rem"))/parseFloat(n));var u=null;o||(u=function(e){return g({size:e,grid:b({pixels:4,lineHeight:a,htmlFontSize:h.htmlFontSize})})}),h[e]=Object(c.a)({},t,y({cssProperty:"fontSize",min:i,max:r,unit:"rem",breakpoints:w,transform:u}))}})),d}var S=n(121),k=n(120),C=n(569),O=n(1),x=n.n(O);function E(){return Object(C.a)()||l.a}var _=n(35),T=n(18),I=n(39),A=n(54),M=n.n(A);function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=function(e){var n=x.a.forwardRef((function(n,r){var i=n.innerRef,o=Object(I.a)(n,["innerRef"]),a=Object(C.a)()||t;return x.a.createElement(e,Object(T.a)({theme:a,ref:i||r},o))}));return M()(n,e),n};return n}P();var j=P({defaultTheme:l.a}),R=n(556),D=n(354);function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=n(27),U=n(570),B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N(this,e),this.options=t}var t,n,r;return t=e,(n=[{key:"collect",value:function(e){var t=new Map;this.sheetsRegistry=new F.b;var n=Object(R.a)();return x.a.createElement(U.b,Object(T.a)({sheetsManager:t,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),e)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(e){return x.a.createElement("style",Object(T.a)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},e))}}])&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),V=n(124),z=n(125);var H=function(e){var t=e.children,n=e.theme,r=Object(C.a)(),i=x.a.useMemo((function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):Object(T.a)({},e,t)}(r,n);return null!=e&&(e[z.a]=null!==r),e}),[n,r]);return x.a.createElement(V.a.Provider,{value:i},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(86);function i(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?r.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=r.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=i(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var i;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=o(o({},this.cookies),((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.serialize(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=o(o({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),s=n(37),c=Object(s.a)().isBrowser,u=function(){function e(e){void 0===e&&(e={}),this.cookies=new a,this.store=c?window.localStorage:Object.create(null),this.cookies=e.req?new a(e.req.headers.cookie):new a,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":c?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}()},function(e,t,n){"use strict";var r=n(122);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(164).__exportStar)(n(424),t);var r=n(294);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(296);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},function(e){e.exports=JSON.parse('{"name":"@aws-sdk/client-chime-sdk-messaging","description":"AWS SDK for JavaScript Chime Sdk Messaging Client for Node.js, Browser and React Native","version":"3.171.0","scripts":{"build":"concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"2.0.0","@aws-crypto/sha256-js":"2.0.0","@aws-sdk/client-sts":"3.171.0","@aws-sdk/config-resolver":"3.171.0","@aws-sdk/credential-provider-node":"3.171.0","@aws-sdk/fetch-http-handler":"3.171.0","@aws-sdk/hash-node":"3.171.0","@aws-sdk/invalid-dependency":"3.171.0","@aws-sdk/middleware-content-length":"3.171.0","@aws-sdk/middleware-host-header":"3.171.0","@aws-sdk/middleware-logger":"3.171.0","@aws-sdk/middleware-recursion-detection":"3.171.0","@aws-sdk/middleware-retry":"3.171.0","@aws-sdk/middleware-serde":"3.171.0","@aws-sdk/middleware-signing":"3.171.0","@aws-sdk/middleware-stack":"3.171.0","@aws-sdk/middleware-user-agent":"3.171.0","@aws-sdk/node-config-provider":"3.171.0","@aws-sdk/node-http-handler":"3.171.0","@aws-sdk/protocol-http":"3.171.0","@aws-sdk/smithy-client":"3.171.0","@aws-sdk/types":"3.171.0","@aws-sdk/url-parser":"3.171.0","@aws-sdk/util-base64-browser":"3.170.0","@aws-sdk/util-base64-node":"3.170.0","@aws-sdk/util-body-length-browser":"3.170.0","@aws-sdk/util-body-length-node":"3.170.0","@aws-sdk/util-defaults-mode-browser":"3.171.0","@aws-sdk/util-defaults-mode-node":"3.171.0","@aws-sdk/util-user-agent-browser":"3.171.0","@aws-sdk/util-user-agent-node":"3.171.0","@aws-sdk/util-utf8-browser":"3.170.0","@aws-sdk/util-utf8-node":"3.170.0","tslib":"^2.3.1","uuid":"^8.3.2"},"devDependencies":{"@aws-sdk/service-client-documentation-generator":"3.170.0","@tsconfig/recommended":"1.0.1","@types/node":"^12.7.5","@types/uuid":"^8.3.0","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typedoc":"0.19.2","typescript":"~4.6.2"},"overrides":{"typedoc":{"typescript":"~4.6.2"}},"engines":{"node":">=12.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-chime-sdk-messaging","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-chime-sdk-messaging"}}')},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var u=o[c];if(!s(u))return!1;var l=e[u],d=t[u];if(!1===(i=n?n.call(r,l,d,u):void 0)||void 0===i&&l!==d)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,c,u,f){for(var h,p,v,m,w,k=0,C=0,O=0,x=0,E=0,P=0,R=v=h=0,N=0,L=0,F=0,U=0,B=c.length,V=B-1,z="",H="",W="",q="";N<B;){if(p=c.charCodeAt(N),N===V&&0!==C+x+O+k&&(0!==C&&(p=47===C?10:47),x=O=k=0,B++,V++),0===C+x+O+k){if(N===V&&(0<L&&(z=z.replace(d,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=c.charAt(N)}p=59}switch(p){case 123:for(h=(z=z.trim()).charCodeAt(0),v=1,U=++N;N<B;){switch(p=c.charCodeAt(N)){case 123:v++;break;case 125:v--;break;case 47:switch(p=c.charCodeAt(N+1)){case 42:case 47:e:{for(R=N+1;R<V;++R)switch(c.charCodeAt(R)){case 47:if(42===p&&42===c.charCodeAt(R-1)&&N+2!==R){N=R+1;break e}break;case 10:if(47===p){N=R+1;break e}}N=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;N++<V&&c.charCodeAt(N)!==p;);}if(0===v)break;N++}if(v=c.substring(U,N),0===h&&(h=(z=z.replace(l,"").trim()).charCodeAt(0)),64===h){switch(0<L&&(z=z.replace(d,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=M}if(U=(v=t(r,L,v,p,f+1)).length,0<j&&(w=s(3,v,L=n(M,z,F),r,T,_,U,p,f,u),z=L.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(S,a);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(g,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===u&&(H+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,u,f+1);W+=v,v=F=L=R=h=0,z="",p=c.charCodeAt(++N);break;case 125:case 59:if(1<(U=(z=(0<L?z.replace(d,""):z).trim()).length))switch(0===R&&(h=z.charCodeAt(0),45===h||96<h&&123>h)&&(U=(z=z.replace(" ",":")).length),0<j&&void 0!==(w=s(1,z,r,e,T,_,H.length,u,f,u))&&0===(U=(z=w.trim()).length)&&(z="\0\0"),h=z.charCodeAt(0),p=z.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){q+=z+c.charAt(N);break}default:58!==z.charCodeAt(U-1)&&(H+=i(z,h,p,z.charCodeAt(2)))}F=L=R=h=0,z="",p=c.charCodeAt(++N)}}switch(p){case 13:case 10:47===C?C=0:0===1+h&&107!==u&&0<z.length&&(L=1,z+="\0"),0<j*D&&s(0,z,r,e,T,_,H.length,u,f,u),_=1,T++;break;case 59:case 125:if(0===C+x+O+k){_++;break}default:switch(_++,m=c.charAt(N),p){case 9:case 32:if(0===x+k+C)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===x+C+k&&(L=F=1,m="\f"+m);break;case 108:if(0===x+C+k+I&&0<R)switch(N-R){case 2:112===E&&58===c.charCodeAt(N-3)&&(I=E);case 8:111===P&&(I=P)}break;case 58:0===x+C+k&&(R=N);break;case 44:0===C+O+x+k&&(L=1,m+="\r");break;case 34:case 39:0===C&&(x=x===p?0:0===x?p:x);break;case 91:0===x+C+O&&k++;break;case 93:0===x+C+O&&k--;break;case 41:0===x+C+k&&O--;break;case 40:if(0===x+C+k){if(0===h)if(2*E+3*P===533);else h=1;O++}break;case 64:0===C+O+x+k+R+v&&(v=1);break;case 42:case 47:if(!(0<x+k+O))switch(C){case 0:switch(2*p+3*c.charCodeAt(N+1)){case 235:C=47;break;case 220:U=N,C=42}break;case 42:47===p&&42===E&&U+2!==N&&(33===c.charCodeAt(U+2)&&(H+=c.substring(U,N+1)),m="",C=0)}}0===C&&(z+=m)}P=E,E=p,N++}if(0<(U=H.length)){if(L=r,0<j&&(void 0!==(w=s(2,H,L,e,T,_,U,u,f,u))&&0===(H=w).length))return q+H+W;if(H=L.join(",")+"{"+H+"}",0!==A*I){switch(2!==A||o(H,2)||(I=0),I){case 111:H=H.replace(y,":-moz-$1")+H;break;case 112:H=H.replace(b,"::-webkit-input-$1")+H.replace(b,"::-moz-$1")+H.replace(b,":-ms-input-$1")+H}I=0}}return q+H+W}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var c=s=0;for(t=[];s<o;++s)for(var u=0;u<a;++u)t[c++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===A||2===A&&o(c,1)?"-webkit-"+c+c:c}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return h.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(w,"tb");break;case 232:c=a.replace(w,"tb-rl");break;case 220:c=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(C,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(C,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(O,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(k," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,c,l){for(var d,f=0,h=t;f<j;++f)switch(d=P[f].call(u,e,h,n,r,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function c(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?A=1:(A=2,R=e):A=0),c}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<j){var i=s(-1,n,r,r,T,_,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(M,r,n,0,0);return 0<j&&(void 0!==(i=s(-2,o,r,r,T,_,o.length,0,0,0))&&(o=i)),"",I=0,_=T=1,o}var l=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,y=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,C=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,_=1,T=1,I=0,A=1,M=[],P=[],j=0,R=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:j=P.length=0;break;default:if("function"===typeof t)P[j++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},u.set=c,void 0!==e&&c(e),u}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(1)),c=n(335),u=a(n(552)),l=n(487);t.default=function(e){var t=e.theme,n=e.fontFamily,r=e.children,i=s.useMemo((function(){return t||l.getTheme(n)}),[t,n]);return s.default.createElement(c.ThemeProvider,{theme:c.createMuiTheme(i)},s.default.createElement(u.default,null),r)}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1)),a=n(335),s=i(n(553)),c=i(n(548)),u=i(n(554)),l=i(n(555)),d=i(n(492)),f=i(n(36)),h=a.makeStyles((function(e){return{root:{height:"65px",justifyContent:"center"},paddedChildren:{"& > *":{paddingRight:e.spacing(1)}},flexGrow:{flexGrow:1},title:{fontSize:"28px",color:e.palette.primary.contrastText},img:{verticalAlign:"middle",maxHeight:"42px"}}}));t.default=function(e){var t=e.title,n=e.logoPath,i=e.rightContent,p=void 0===i?null:i,v=e.hideHeaderBelow,m=r(e,["title","logoPath","rightContent","hideHeaderBelow"]),g=h({}),b=a.useTheme(),y=s.default(b.breakpoints.up(v||"sm")),w=m["data-testid"]||"app-header";return o.default.createElement(c.default,{className:g.root,position:"static",elevation:0,"data-testid":w},o.default.createElement(u.default,{className:g.paddedChildren},n&&o.default.createElement("a",{href:"/"},o.default.createElement("img",{alt:"Logo",src:n,className:g.img})),(!v||y)&&o.default.createElement(l.default,{component:"span",className:f.default(g.flexGrow,g.title)},t),p&&o.default.createElement(d.default,null,p)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return"function"===typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(506).__exportStar)(n(507),t);var r=n(316);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(318);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},function(e){e.exports=JSON.parse('{"name":"@aws-sdk/client-cognito-identity","description":"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cognito-identity"}}')},function(e,t,n){e.exports=n(544).Observable},function(e,t,n){(function(t){var n;n=function(){var e=function(e){var t=e.localStorage||function(){var e={};return{setItem:function(t,n){e[t]=n},getItem:function(t){return e[t]},removeItem:function(t){delete e[t]}}}(),n=1,r=2,i=3,o=4,a=5,s=6,c=7,u=8,l=9,d=10,f=11,h=12,p=13,v=14,m=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var r="Unknown property, "+n+". Valid properties are:";for(var i in t)t.hasOwnProperty(i)&&(r=r+" "+i);throw new Error(r)}if(typeof e[n]!==t[n])throw new Error(w(b.INVALID_TYPE,[typeof e[n],n]))}},g=function(e,t){return function(){return e.apply(t,arguments)}},b={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},y={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},w=function(e,t){var n=e.text;if(t)for(var r,i,o=0;o<t.length;o++)if(r="{"+o+"}",(i=n.indexOf(r))>0){var a=n.substring(0,i),s=n.substring(i+r.length);n=a+t[o]+s}return n},S=[0,6,77,81,73,115,100,112,3],k=[0,4,77,81,84,84,4],C=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function O(e,t){var n,u=t,d=e[t],h=d>>4,p=d&=15;t+=1;var v=0,m=1;do{if(t==e.length)return[null,u];v+=(127&(n=e[t++]))*m,m*=128}while(0!==(128&n));var g=t+v;if(g>e.length)return[null,u];var b=new C(h);switch(h){case r:1&e[t++]&&(b.sessionPresent=!0),b.returnCode=e[t++];break;case i:var y=p>>1&3,w=_(e,t),S=A(e,t+=2,w);t+=w,y>0&&(b.messageIdentifier=_(e,t),t+=2);var k=new R(e.subarray(t,g));1==(1&p)&&(k.retained=!0),8==(8&p)&&(k.duplicate=!0),k.qos=y,k.destinationName=S,b.payloadMessage=k;break;case o:case a:case s:case c:case f:b.messageIdentifier=_(e,t);break;case l:b.messageIdentifier=_(e,t),t+=2,b.returnCode=e.subarray(t,g)}return[b,g]}function x(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function E(e,t,n,r){return I(e,n,r=x(t,n,r)),r+t}function _(e,t){return 256*e[t]+e[t+1]}function T(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>2047?(55296<=r&&r<=56319&&(n++,t++),t+=3):r>127?t+=2:t++}return t}function I(e,t,n){for(var r=n,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=o&&o<=56319){var a=e.charCodeAt(++i);if(isNaN(a))throw new Error(w(b.MALFORMED_UNICODE,[o,a]));o=a-56320+(o-55296<<10)+65536}o<=127?t[r++]=o:o<=2047?(t[r++]=o>>6&31|192,t[r++]=63&o|128):o<=65535?(t[r++]=o>>12&15|224,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>18&7|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t}function A(e,t,n){for(var r,i="",o=t;o<t+n;){var a=e[o++];if(a<128)r=a;else{var s=e[o++]-128;if(s<0)throw new Error(w(b.MALFORMED_UTF,[a.toString(16),s.toString(16),""]));if(a<224)r=64*(a-192)+s;else{var c=e[o++]-128;if(c<0)throw new Error(w(b.MALFORMED_UTF,[a.toString(16),s.toString(16),c.toString(16)]));if(a<240)r=4096*(a-224)+64*s+c;else{var u=e[o++]-128;if(u<0)throw new Error(w(b.MALFORMED_UTF,[a.toString(16),s.toString(16),c.toString(16),u.toString(16)]));if(!(a<248))throw new Error(w(b.MALFORMED_UTF,[a.toString(16),s.toString(16),c.toString(16),u.toString(16)]));r=262144*(a-240)+4096*s+64*c+u}}}r>65535&&(r-=65536,i+=String.fromCharCode(55296+(r>>10)),r=56320+(1023&r)),i+=String.fromCharCode(r)}return i}C.prototype.encode=function(){var e,t=(15&this.type)<<4,r=0,o=[],a=0;switch(void 0!==this.messageIdentifier&&(r+=2),this.type){case n:switch(this.mqttVersion){case 3:r+=S.length+3;break;case 4:r+=k.length+3}r+=T(this.clientId)+2,void 0!==this.willMessage&&(r+=T(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(l)),r+=e.byteLength+2),void 0!==this.userName&&(r+=T(this.userName)+2),void 0!==this.password&&(r+=T(this.password)+2);break;case u:t|=2;for(var c=0;c<this.topics.length;c++)o[c]=T(this.topics[c]),r+=o[c]+2;r+=this.requestedQos.length;break;case d:for(t|=2,c=0;c<this.topics.length;c++)o[c]=T(this.topics[c]),r+=o[c]+2;break;case s:t|=2;break;case i:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),r+=(a=T(this.payloadMessage.destinationName))+2;var l=this.payloadMessage.payloadBytes;r+=l.byteLength,l instanceof ArrayBuffer?l=new Uint8Array(l):l instanceof Uint8Array||(l=new Uint8Array(l.buffer))}var f=function(e){var t=new Array(1),n=0;do{var r=e%128;(e>>=7)>0&&(r|=128),t[n++]=r}while(e>0&&n<4);return t}(r),h=f.length+1,p=new ArrayBuffer(r+h),v=new Uint8Array(p);if(v[0]=t,v.set(f,1),this.type==i)h=E(this.payloadMessage.destinationName,a,v,h);else if(this.type==n){switch(this.mqttVersion){case 3:v.set(S,h),h+=S.length;break;case 4:v.set(k,h),h+=k.length}var m=0;this.cleanSession&&(m=2),void 0!==this.willMessage&&(m|=4,m|=this.willMessage.qos<<3,this.willMessage.retained&&(m|=32)),void 0!==this.userName&&(m|=128),void 0!==this.password&&(m|=64),v[h++]=m,h=x(this.keepAliveInterval,v,h)}switch(void 0!==this.messageIdentifier&&(h=x(this.messageIdentifier,v,h)),this.type){case n:h=E(this.clientId,T(this.clientId),v,h),void 0!==this.willMessage&&(h=E(this.willMessage.destinationName,T(this.willMessage.destinationName),v,h),h=x(e.byteLength,v,h),v.set(e,h),h+=e.byteLength),void 0!==this.userName&&(h=E(this.userName,T(this.userName),v,h)),void 0!==this.password&&(h=E(this.password,T(this.password),v,h));break;case i:v.set(l,h);break;case u:for(c=0;c<this.topics.length;c++)h=E(this.topics[c],o[c],v,h),v[h++]=this.requestedQos[c];break;case d:for(c=0;c<this.topics.length;c++)h=E(this.topics[c],o[c],v,h)}return p};var M=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var n=new C(h).encode(),r=function(e){return function(){return i.apply(e)}},i=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=setTimeout(r(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(b.PING_TIMEOUT.code,w(b.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(r(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},P=function(e,t,n,r){t||(t=30),this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(n,e,r),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},j=function(n,r,i,o,a){if(!("WebSocket"in e)||null===e.WebSocket)throw new Error(w(b.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e)||null===e.ArrayBuffer)throw new Error(w(b.UNSUPPORTED,["ArrayBuffer"]));for(var s in this._trace("Paho.Client",n,r,i,o,a),this.host=r,this.port=i,this.path=o,this.uri=n,this.clientId=a,this._wsuri=null,this._localKey=r+":"+i+("/mqtt"!=o?":"+o:"")+":"+a+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,t)0!==s.indexOf("Sent:"+this._localKey)&&0!==s.indexOf("Received:"+this._localKey)||this.restore(s)};j.prototype.host=null,j.prototype.port=null,j.prototype.path=null,j.prototype.uri=null,j.prototype.clientId=null,j.prototype.socket=null,j.prototype.connected=!1,j.prototype.maxMessageIdentifier=65536,j.prototype.connectOptions=null,j.prototype.hostIndex=null,j.prototype.onConnected=null,j.prototype.onConnectionLost=null,j.prototype.onMessageDelivered=null,j.prototype.onMessageArrived=null,j.prototype.traceFunction=null,j.prototype._msg_queue=null,j.prototype._buffered_msg_queue=null,j.prototype._connectTimeout=null,j.prototype.sendPinger=null,j.prototype.receivePinger=null,j.prototype._reconnectInterval=1,j.prototype._reconnecting=!1,j.prototype._reconnectTimeout=null,j.prototype.disconnectedPublishing=!1,j.prototype.disconnectedBufferSize=5e3,j.prototype.receiveBuffer=null,j.prototype._traceBuffer=null,j.prototype._MAX_TRACE_ENTRIES=100,j.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(w(b.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(w(b.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},j.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(w(b.INVALID_STATE,["not connected"]));var n=new C(u);n.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),n.requestedQos=[];for(var r=0;r<n.topics.length;r++)n.requestedQos[r]=t.qos;t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:w(e)})}),t.timeout&&(n.timeOut=new P(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.SUBSCRIBE_TIMEOUT.code,errorMessage:w(b.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},j.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(w(b.INVALID_STATE,["not connected"]));var n=new C(d);n.topics=e.constructor===Array?e:[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new P(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.UNSUBSCRIBE_TIMEOUT.code,errorMessage:w(b.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},j.prototype.send=function(e){this._trace("Client.send",e);var t=new C(i);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(w(b.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(w(b.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},j.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(w(b.INVALID_STATE,["not connecting or connected"]));var e=new C(v);this._notify_msg_sent[e]=g(this._disconnected,this),this._schedule_message(e)},j.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},j.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},j.prototype.stopTrace=function(){delete this._traceBuffer},j.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=g(this._on_socket_open,this),this.socket.onmessage=g(this._on_socket_message,this),this.socket.onerror=g(this._on_socket_error,this),this.socket.onclose=g(this._on_socket_close,this),this.sendPinger=new M(this,this.connectOptions.keepAliveInterval),this.receivePinger=new M(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new P(this,this.connectOptions.timeout,this._disconnected,[b.CONNECT_TIMEOUT.code,w(b.CONNECT_TIMEOUT)])},j.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},j.prototype.store=function(e,n){var r={type:n.type,messageIdentifier:n.messageIdentifier,version:1};if(n.type!==i)throw Error(w(b.INVALID_STORED_DATA,[e+this._localKey+n.messageIdentifier,r]));n.pubRecReceived&&(r.pubRecReceived=!0),r.payloadMessage={};for(var o="",a=n.payloadMessage.payloadBytes,s=0;s<a.length;s++)a[s]<=15?o=o+"0"+a[s].toString(16):o+=a[s].toString(16);r.payloadMessage.payloadHex=o,r.payloadMessage.qos=n.payloadMessage.qos,r.payloadMessage.destinationName=n.payloadMessage.destinationName,n.payloadMessage.duplicate&&(r.payloadMessage.duplicate=!0),n.payloadMessage.retained&&(r.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===n.sequence&&(n.sequence=++this._sequence),r.sequence=n.sequence),t.setItem(e+this._localKey+n.messageIdentifier,JSON.stringify(r))},j.prototype.restore=function(e){var n=t.getItem(e),r=JSON.parse(n),o=new C(r.type,r);if(r.type!==i)throw Error(w(b.INVALID_STORED_DATA,[e,n]));for(var a=r.payloadMessage.payloadHex,s=new ArrayBuffer(a.length/2),c=new Uint8Array(s),u=0;a.length>=2;){var l=parseInt(a.substring(0,2),16);a=a.substring(2,a.length),c[u++]=l}var d=new R(c);d.qos=r.payloadMessage.qos,d.destinationName=r.payloadMessage.destinationName,r.payloadMessage.duplicate&&(d.duplicate=!0),r.payloadMessage.retained&&(d.retained=!0),o.payloadMessage=d,0===e.indexOf("Sent:"+this._localKey)?(o.payloadMessage.duplicate=!0,this._sentMessages[o.messageIdentifier]=o):0===e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[o.messageIdentifier]=o)},j.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},j.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===i&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},j.prototype._on_socket_open=function(){var e=new C(n,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},j.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},j.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var r=new Uint8Array(this.receiveBuffer.length+t.length);r.set(this.receiveBuffer),r.set(t,this.receiveBuffer.length),t=r,delete this.receiveBuffer}try{for(var i=0;i<t.length;){var o=O(t,i),a=o[0];if(i=o[1],null===a)break;n.push(a)}i<t.length&&(this.receiveBuffer=t.subarray(i))}catch(c){var s="undefined"==c.hasOwnProperty("stack")?c.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,w(b.INTERNAL_ERROR,[c.message,s]))}return n},j.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case r:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var n in this._sentMessages){var u=this._sentMessages[n];t.removeItem("Sent:"+this._localKey+u.messageIdentifier)}for(var n in this._sentMessages={},this._receivedMessages){var d=this._receivedMessages[n];t.removeItem("Received:"+this._localKey+d.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(b.CONNACK_RETURNCODE.code,w(b.CONNACK_RETURNCODE,[e.returnCode,y[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var h=[];for(var v in this._sentMessages)this._sentMessages.hasOwnProperty(v)&&h.push(this._sentMessages[v]);if(this._buffered_msg_queue.length>0)for(var m=null;m=this._buffered_msg_queue.pop();)h.push(m),this.onMessageDelivered&&(this._notify_msg_sent[m]=this.onMessageDelivered(m.payloadMessage));h=h.sort((function(e,t){return e.sequence-t.sequence}));for(var g=0,S=h.length;g<S;g++)if((u=h[g]).type==i&&u.pubRecReceived){var k=new C(s,{messageIdentifier:u.messageIdentifier});this._schedule_message(k)}else this._schedule_message(u);this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var O=!1;this._reconnecting&&(O=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(O,this._wsuri),this._process_queue();break;case i:this._receivePublish(e);break;case o:(u=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],t.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(u.payloadMessage));break;case a:(u=this._sentMessages[e.messageIdentifier])&&(u.pubRecReceived=!0,k=new C(s,{messageIdentifier:e.messageIdentifier}),this.store("Sent:",u),this._schedule_message(k));break;case s:d=this._receivedMessages[e.messageIdentifier],t.removeItem("Received:"+this._localKey+e.messageIdentifier),d&&(this._receiveMessage(d),delete this._receivedMessages[e.messageIdentifier]);var x=new C(c,{messageIdentifier:e.messageIdentifier});this._schedule_message(x);break;case c:u=this._sentMessages[e.messageIdentifier],delete this._sentMessages[e.messageIdentifier],t.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(u.payloadMessage);break;case l:(u=this._sentMessages[e.messageIdentifier])&&(u.timeOut&&u.timeOut.cancel(),128===e.returnCode[0]?u.onFailure&&u.onFailure(e.returnCode):u.onSuccess&&u.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case f:(u=this._sentMessages[e.messageIdentifier])&&(u.timeOut&&u.timeOut.cancel(),u.callback&&u.callback(),delete this._sentMessages[e.messageIdentifier]);break;case p:this.sendPinger.reset();break;default:this._disconnected(b.INVALID_MQTT_MESSAGE_TYPE.code,w(b.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(_){var E="undefined"==_.hasOwnProperty("stack")?_.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,w(b.INTERNAL_ERROR,[_.message,E]))}},j.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(b.SOCKET_ERROR.code,w(b.SOCKET_ERROR,[e.data]))},j.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(b.SOCKET_CLOSE.code,w(b.SOCKET_CLOSE))},j.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},j.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new C(o,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var n=new C(a,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},j.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},j.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},j.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},j.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new P(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=b.OK.code,t=w(b.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==b.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},j.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)"undefined"!==typeof e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join("");this.traceFunction({severity:"Debug",message:n})}if(null!==this._traceBuffer){t=0;for(var r=arguments.length;t<r;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t||"undefined"===typeof arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},j.prototype._traceMask=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==t?"******":e[r]);return n};var R=function(e){var t,n;if(!("string"===typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw w(b.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var r=0,i=!1,o=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"===typeof t?t:A(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"===typeof t){var e=new ArrayBuffer(T(t)),n=new Uint8Array(e);return I(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if("string"!==typeof e)throw new Error(w(b.INVALID_ARGUMENT,[e,"newDestinationName"]));n=e}},qos:{enumerable:!0,get:function(){return r},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);r=e}},retained:{enumerable:!0,get:function(){return i},set:function(e){if("boolean"!==typeof e)throw new Error(w(b.INVALID_ARGUMENT,[e,"newRetained"]));i=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return o},set:function(e){o=e}}})};return{Client:function(e,t,n,r){var i;if("string"!==typeof e)throw new Error(w(b.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){r=t;var o=(i=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!o)throw new Error(w(b.INVALID_ARGUMENT,[e,"host"]));e=o[4]||o[2],t=parseInt(o[7]),n=o[8]}else{if(3==arguments.length&&(r=n,n="/mqtt"),"number"!==typeof t||t<0)throw new Error(w(b.INVALID_TYPE,[typeof t,"port"]));if("string"!==typeof n)throw new Error(w(b.INVALID_TYPE,[typeof n,"path"]));var a=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);i="ws://"+(a?"["+e+"]":e)+":"+t+n}for(var s=0,c=0;c<r.length;c++){var u=r.charCodeAt(c);55296<=u&&u<=56319&&c++,s++}if("string"!==typeof r||s>65535)throw new Error(w(b.INVALID_ARGUMENT,[r,"clientId"]));var l=new j(i,e,t,n,r);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(w(b.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(w(b.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(w(b.UNSUPPORTED_OPERATION))}},uri:{get:function(){return i},set:function(){throw new Error(w(b.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return l.clientId},set:function(){throw new Error(w(b.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return l.onConnected},set:function(e){if("function"!==typeof e)throw new Error(w(b.INVALID_TYPE,[typeof e,"onConnected"]));l.onConnected=e}},disconnectedPublishing:{get:function(){return l.disconnectedPublishing},set:function(e){l.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return l.disconnectedBufferSize},set:function(e){l.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return l.onConnectionLost},set:function(e){if("function"!==typeof e)throw new Error(w(b.INVALID_TYPE,[typeof e,"onConnectionLost"]));l.onConnectionLost=e}},onMessageDelivered:{get:function(){return l.onMessageDelivered},set:function(e){if("function"!==typeof e)throw new Error(w(b.INVALID_TYPE,[typeof e,"onMessageDelivered"]));l.onMessageDelivered=e}},onMessageArrived:{get:function(){return l.onMessageArrived},set:function(e){if("function"!==typeof e)throw new Error(w(b.INVALID_TYPE,[typeof e,"onMessageArrived"]));l.onMessageArrived=e}},trace:{get:function(){return l.traceFunction},set:function(e){if("function"!==typeof e)throw new Error(w(b.INVALID_TYPE,[typeof e,"onTrace"]));l.traceFunction=e}}}),this.connect=function(e){if(m(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(w(b.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(w(b.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof R))throw new Error(w(b.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,"undefined"===typeof e.willMessage.destinationName)throw new Error(w(b.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if("undefined"===typeof e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(w(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(w(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,r=0;r<e.hosts.length;r++){if("string"!==typeof e.hosts[r])throw new Error(w(b.INVALID_TYPE,[typeof e.hosts[r],"connectOptions.hosts["+r+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[r])){if(0===r)t=!0;else if(!t)throw new Error(w(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}else if(t)throw new Error(w(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(w(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(w(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(w(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));for(e.uris=[],r=0;r<e.hosts.length;r++){if("number"!==typeof e.ports[r]||e.ports[r]<0)throw new Error(w(b.INVALID_TYPE,[typeof e.ports[r],"connectOptions.ports["+r+"]"]));var o=e.hosts[r],a=e.ports[r],s=-1!==o.indexOf(":");i="ws://"+(s?"["+o+"]":o)+":"+a+n,e.uris.push(i)}}}l.connect(e)},this.subscribe=function(e,t){if("string"!==typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(m(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if("undefined"!==typeof t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(w(b.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));l.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!==typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(m(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");l.unsubscribe(e,t)},this.send=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof R)&&"string"!==typeof e)throw new Error("Invalid argument:"+typeof e);if("undefined"===typeof(i=e).destinationName)throw new Error(w(b.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));l.send(i)}else(i=new R(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),l.send(i)},this.publish=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof R)&&"string"!==typeof e)throw new Error("Invalid argument:"+typeof e);if("undefined"===typeof(i=e).destinationName)throw new Error(w(b.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));l.send(i)}else(i=new R(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),l.send(i)},this.disconnect=function(){l.disconnect()},this.getTraceLog=function(){return l.getTraceLog()},this.startTrace=function(){l.startTrace()},this.stopTrace=function(){l.stopTrace()},this.isConnected=function(){return l.connected}},Message:R}}("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});return e},e.exports=n()}).call(this,n(34))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));function r(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var i=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,o)},o=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function a(e){var t,n,o=[];try{for(var a=r(Object.keys(e).sort()),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(c=i(c),Array.isArray(u))for(var l=0,d=u.length;l<d;l++)o.push(c+"="+i(u[l]));else{var f=c;(u||"string"===typeof u)&&(f+="="+i(u)),o.push(f)}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.join("&")}},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i={clockOffset:0,getDateWithClockOffset:function(){return i.clockOffset?new Date((new Date).getTime()+i.clockOffset):new Date},getClockOffset:function(){return i.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=i.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=r(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6];return new Date(Date.UTC(Number(n),Number(i)-1,Number(o),Number(a),Number(s),Number(c)))},isClockSkewed:function(e){return Math.abs(e.getTime()-i.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){i.clockOffset=e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var r=n(27),i=Date.now(),o="fnValues"+i,a="fnStyle"+ ++i,s=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var i=Object(r.d)(e,{},n);return i[a]=t,i},onProcessStyle:function(e,t){if(o in t||a in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[o]=n,e},onUpdate:function(e,t,n,r){var i=t,s=i[a];s&&(i.style=s(e)||{});var c=i[o];if(c)for(var u in c)i.prop(u,c[u](e),r)}}};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u="@global",l="@global ",d=function(){function e(e,t,n){for(var i in this.type="global",this.at=u,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new r.a(c({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),f=function(){function e(e,t,n){this.type="global",this.at=u,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(l.length);this.rule=n.jss.createRule(r,t,c({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),h=/\s*,\s*/g;function p(e,t){for(var n=e.split(h),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var v=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===u)return new d(e,t,n);if("@"===e[0]&&e.substr(0,l.length)===l)return new f(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[u]:null;if(i){for(var o in i)t.addRule(o,i[o],c({},n,{selector:p(o,e.selector)}));delete r[u]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,u.length)===u){var o=p(i.substr(u.length),e.selector);t.addRule(o,r[i],c({},n,{selector:o})),delete r[i]}}(e,t))}}};function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var g=/\s*,\s*/g,b=/&/g,y=/\$([\w-]+)/g;var w=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(g),r=e.split(g),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var c=r[s];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(b,a):a+" "+c}return i}function n(e,t,n){if(n)return m({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=m({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var a,s,c=i,u=c.options.parent;for(var l in r){var d=-1!==l.indexOf("&"),f="@"===l[0];if(d||f){if(a=n(c,u,a),d){var h=t(l,c.selector);s||(s=e(u,o)),h=h.replace(y,s);var p=c.key+"-"+l;"replaceRule"in u?u.replaceRule(p,r[l],m({},a,{selector:h})):u.addRule(p,r[l],m({},a,{selector:h}))}else f&&u.addRule(l,{},a).addRule(c.key,r[l],{selector:c.selector});delete r[l]}}return r}}},S=/[A-Z]/g,k=/^ms-/,C={};function O(e){return"-"+e.toLowerCase()}var x=function(e){if(C.hasOwnProperty(e))return C[e];var t=e.replace(S,O);return C[e]=k.test(t)?"-"+t:t};function E(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:x(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(E):t.fallbacks=E(e.fallbacks)),t}var _=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=E(e[t]);return e}return E(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=x(t);return t===r?e:(n.prop(r,e),null)}}},T=r.f&&CSS?CSS.px:"px",I=r.f&&CSS?CSS.ms:"ms",A=r.f&&CSS?CSS.percent:"%";function M(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var P=M({"animation-delay":I,"animation-duration":I,"background-position":T,"background-position-x":T,"background-position-y":T,"background-size":T,border:T,"border-bottom":T,"border-bottom-left-radius":T,"border-bottom-right-radius":T,"border-bottom-width":T,"border-left":T,"border-left-width":T,"border-radius":T,"border-right":T,"border-right-width":T,"border-top":T,"border-top-left-radius":T,"border-top-right-radius":T,"border-top-width":T,"border-width":T,"border-block":T,"border-block-end":T,"border-block-end-width":T,"border-block-start":T,"border-block-start-width":T,"border-block-width":T,"border-inline":T,"border-inline-end":T,"border-inline-end-width":T,"border-inline-start":T,"border-inline-start-width":T,"border-inline-width":T,"border-start-start-radius":T,"border-start-end-radius":T,"border-end-start-radius":T,"border-end-end-radius":T,margin:T,"margin-bottom":T,"margin-left":T,"margin-right":T,"margin-top":T,"margin-block":T,"margin-block-end":T,"margin-block-start":T,"margin-inline":T,"margin-inline-end":T,"margin-inline-start":T,padding:T,"padding-bottom":T,"padding-left":T,"padding-right":T,"padding-top":T,"padding-block":T,"padding-block-end":T,"padding-block-start":T,"padding-inline":T,"padding-inline-end":T,"padding-inline-start":T,"mask-position-x":T,"mask-position-y":T,"mask-size":T,height:T,width:T,"min-height":T,"max-height":T,"min-width":T,"max-width":T,bottom:T,left:T,top:T,right:T,inset:T,"inset-block":T,"inset-block-end":T,"inset-block-start":T,"inset-inline":T,"inset-inline-end":T,"inset-inline-start":T,"box-shadow":T,"text-shadow":T,"column-gap":T,"column-rule":T,"column-rule-width":T,"column-width":T,"font-size":T,"font-size-delta":T,"letter-spacing":T,"text-decoration-thickness":T,"text-indent":T,"text-stroke":T,"text-stroke-width":T,"word-spacing":T,motion:T,"motion-offset":T,outline:T,"outline-offset":T,"outline-width":T,perspective:T,"perspective-origin-x":A,"perspective-origin-y":A,"transform-origin":A,"transform-origin-x":A,"transform-origin-y":A,"transform-origin-z":A,"transition-delay":I,"transition-duration":I,"vertical-align":T,"flex-basis":T,"shape-margin":T,size:T,gap:T,grid:T,"grid-gap":T,"row-gap":T,"grid-row-gap":T,"grid-column-gap":T,"grid-template-rows":T,"grid-template-columns":T,"grid-auto-rows":T,"grid-auto-columns":T,"box-shadow-x":T,"box-shadow-y":T,"box-shadow-blur":T,"box-shadow-spread":T,"font-line-height":T,"text-shadow-x":T,"text-shadow-y":T,"text-shadow-blur":T});function j(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=j(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=j(i,t[i],n);else for(var o in t)t[o]=j(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||P[e];return!a||0===t&&a===T?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var R=function(e){void 0===e&&(e={});var t=M(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=j(r,e[r],t);return e},onChangeValue:function(e,n){return j(n,e,t)}}},D=n(68);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F="",U="",B="",V="",z=D.a&&"ontouchstart"in document.documentElement;if(D.a){var H={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},W=document.createElement("p").style;for(var q in H)if(q+"Transform"in W){F=q,U=H[q];break}"Webkit"===F&&"msHyphens"in W&&(F="ms",U=H.ms,V="edge"),"Webkit"===F&&"-apple-trailing-word"in W&&(B="apple")}var K=F,G=U,J=B,$=V,Y=z;var Q={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===K?"-webkit-"+e:G+e)}},Z={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===K?G+"print-"+e:e)}},X=/[-\s]+(.)?/g;function ee(e,t){return t?t.toUpperCase():""}function te(e){return e.replace(X,ee)}function ne(e){return te("-"+e)}var re,ie={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===K){var n="mask-image";if(te(n)in t)return e;if(K+ne(n)in t)return G+e}return e}},oe={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==J||Y?e:G+e)}},ae={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:G+e)}},se={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:G+e)}},ce={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===K||"ms"===K&&"edge"!==$?G+e:e)}},ue={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===K||"ms"===K||"apple"===J?G+e:e)}},le={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===K?"WebkitColumn"+ne(e)in t&&G+"column-"+e:"Moz"===K&&("page"+ne(e)in t&&"page-"+e))}},de={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===K)return e;var n=e.replace("-inline","");return K+ne(n)in t&&G+n}},fe={supportedProperty:function(e,t){return te(e)in t&&e}},he={supportedProperty:function(e,t){var n=ne(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:K+n in t?G+e:"Webkit"!==K&&"Webkit"+n in t&&"-webkit-"+e}},pe={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===K?""+G+e:e)}},ve={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===K?G+"scroll-chaining":e)}},me={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},ge={supportedProperty:function(e,t){var n=me[e];return!!n&&(K+ne(n)in t&&G+n)}},be={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},ye=Object.keys(be),we=function(e){return G+e},Se=[Q,Z,ie,oe,ae,se,ce,ue,le,de,fe,he,pe,ve,ge,{supportedProperty:function(e,t,n){var r=n.multiple;if(ye.indexOf(e)>-1){var i=be[e];if(!Array.isArray(i))return K+ne(i)in t&&G+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(K+ne(i[0])in t))return!1;return i.map(we)}return!1}}],ke=Se.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ce=Se.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,L(t.noPrefill)),e}),[]),Oe={};if(D.a){re=document.createElement("p");var xe=window.getComputedStyle(document.documentElement,"");for(var Ee in xe)isNaN(Ee)||(Oe[xe[Ee]]=xe[Ee]);Ce.forEach((function(e){return delete Oe[e]}))}function _e(e,t){if(void 0===t&&(t={}),!re)return e;if(null!=Oe[e])return Oe[e];"transition"!==e&&"transform"!==e||(t[e]=e in re.style);for(var n=0;n<ke.length&&(Oe[e]=ke[n](e,re.style,t),!Oe[e]);n++);try{re.style[e]=""}catch(r){return!1}return Oe[e]}var Te,Ie={},Ae={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Me=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Pe(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?_e(t):", "+_e(n);return r||(t||n)}function je(e,t){var n=t;if(!Te||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Ie[r])return Ie[r];try{Te.style[e]=n}catch(i){return Ie[r]=!1,!1}if(Ae[e])n=n.replace(Me,Pe);else if(""===Te.style[e]&&("-ms-flex"===(n=G+n)&&(Te.style[e]="-ms-flexbox"),Te.style[e]=n,""===Te.style[e]))return Ie[r]=!1,!1;return Te.style[e]="",Ie[r]=n,Ie[r]}D.a&&(Te=document.createElement("p"));var Re=function(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var o=!1,a=_e(n);a&&a!==n&&(o=!0);var s=!1,c=je(a,Object(r.g)(i));c&&c!==i&&(s=!0),(o||s)&&(o&&delete t[n],t[a||n]=c||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===K?n:"@"+G+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return je(t,Object(r.g)(e))||e}}};var De=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function Ne(){return{plugins:[s(),v(),w(),_(),R(),"undefined"===typeof window?null:Re(),De()]}}},function(e,t,n){"use strict";var r,i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return l(r)}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var S=w.prototype=new y;S.constructor=w,m(S,b.prototype),S.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:O.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case i:c=!0}}if(c)return a=a(c=e),e=""===o?"."+I(c,0):o,k(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",k(e))for(var u=0;u<e.length;u++){var l=o+I(s=e[u],u);c+=A(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=A(s=s.value,t,n,l=o+I(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function M(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},R={transition:null},D={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:R,ReactCurrentOwner:O};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=o,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=O.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)C.call(t,u)&&!x.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";var r=n(1),i=n(373);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),k=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var N,L=Object.assign;function F(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case x:return"Profiler";case O:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ce=null,Oe=null;function xe(e){if(e=yi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),ke(e.stateNode,e.type,t))}}function Ee(e){Ce?Oe?Oe.push(e):Oe=[e]:Ce=e}function _e(){if(Ce){var e=Ce,t=Oe;if(Oe=Ce=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Ae=!1;function Me(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Ce||null!==Oe)&&(Ie(),_e())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){je=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){je=!1}function De(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Ne=!1,Le=null,Fe=!1,Ue=null,Be={onError:function(e){Ne=!0,Le=e}};function Ve(e,t,n,r,i,o,a,s,c){Ne=!1,Le=null,De.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,kt,Ct,Ot,xt,Et=!1,_t=[],Tt=null,It=null,At=null,Mt=new Map,Pt=new Map,jt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=bi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void xt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),Mt.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<_t.length){Vt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==It&&Vt(It,e),null!==At&&Vt(At,e),Mt.forEach(t),Pt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Lt(n),null===n.blockedOn&&jt.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=yt,o=Ht.transition;Ht.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,Ht.transition=o}}function Kt(e,t,n,r){var i=yt,o=Ht.transition;Ht.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,Ht.transition=o}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Jt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Nt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Nt(It,e,t,n,r,i),!0;case"mouseover":return At=Nt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Nt(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Nt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&St(o),null===(o=$t(e,t,n,r))&&Wr(e,t,r,Jt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Jt=null;function $t(e,t,n,r){if(Jt=null,null!==(e=bi(e=Se(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(un),dn=L({},un,{view:0,detail:0}),fn=on(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),vn=on(L({},hn,{dataTransfer:0})),mn=on(L({},dn,{relatedTarget:0})),gn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(bn),wn=on(L({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function xn(){return On}var En=L({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(En),Tn=on(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),An=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Mn),jn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Nn=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Rn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Jn(e){Fr(e,0)}function $n(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(l){var Zn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Zn=Xn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];qn(t,Gn,e,Se(e)),Me(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,br=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Cr={},Or={};function xr(e){if(Cr[e])return Cr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Cr[e]=n[t];return e}l&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=xr("animationend"),_r=xr("animationiteration"),Tr=xr("animationstart"),Ir=xr("transitionend"),Ar=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),c(t,[e])}for(var jr=0;jr<Mr.length;jr++){var Rr=Mr[jr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(_r,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,u){if(Ve.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var l=Le;Ne=!1,Le=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=c}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=bi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=Se(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=_n;break;case"focusin":u="focus",c=mn;break;case"focusout":u="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=In;break;case Er:case _r:case Tr:c=gn;break;case Ir:c=An;break;case"scroll":c=fn;break;case"wheel":c=Pn;break;case"copy":case"cut":case"paste":c=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Tn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Pe(p,f))&&l.push(qr(p,v,h)))),d)break;p=p.return}0<l.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bi(u)&&!u[pi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?bi(u):null)&&(u!==(d=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?s:wi(c),h=null==u?s:wi(u),(s=new l(v,p+"leave",c,n,i)).target=d,s.relatedTarget=h,v=null,bi(i)===r&&((l=new l(f,p+"enter",u,n,i)).target=h,l.relatedTarget=d,v=l),d=v,c&&u)e:{for(f=u,p=0,h=l=c;h;h=Gr(h))p++;for(h=0,v=f;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==c&&Jr(a,s,c,l,!1),null!==u&&null!==d&&Jr(a,d,u,l,!0)}if("select"===(c=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Yn;else if(Wn(s))if(Qn)m=ar;else{m=ir;var g=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?qn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,br=null);break;case"focusout":br=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var b;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&zn&&(b=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,zn=!0)),0<(g=Kr(r,y)).length&&(y=new wn(y,e,null,n,i),a.push({event:y,listeners:g}),b?y.data=b:null!==(b=Vn(n))&&(y.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Xt=Zt=Qt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Fr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Pe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=Pe(n,o))&&a.unshift(qr(n,c,s)):i||null!=(c=Pe(n,o))&&a.push(qr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,gi="__reactHandles$"+di;function bi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[hi]||null}var ki=[],Ci=-1;function Oi(e){return{current:e}}function xi(e){0>Ci||(e.current=ki[Ci],ki[Ci]=null,Ci--)}function Ei(e,t){Ci++,ki[Ci]=e.current,e.current=t}var _i={},Ti=Oi(_i),Ii=Oi(!1),Ai=_i;function Mi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){xi(Ii),xi(Ti)}function Ri(e,t,n){if(Ti.current!==_i)throw Error(o(168));Ei(Ti,t),Ei(Ii,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return L({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ai=Ti.current,Ei(Ti,e),Ei(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Ii),xi(Ti),Ei(Ti,e)):xi(Ii),Ei(Ii,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=yt;try{var n=Fi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Xe,zi),i}finally{yt=t,Bi=!1}}return null}var Hi=[],Wi=0,qi=null,Ki=0,Gi=[],Ji=0,$i=null,Yi=1,Qi="";function Zi(e,t){Hi[Wi++]=Ki,Hi[Wi++]=qi,qi=e,Ki=t}function Xi(e,t,n){Gi[Ji++]=Yi,Gi[Ji++]=Qi,Gi[Ji++]=$i,$i=e;var r=Yi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Yi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Zi(e,1),Xi(e,1,0))}function to(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Ki=Hi[--Wi],Hi[Wi]=null;for(;e===$i;)$i=Gi[--Ji],Gi[Ji]=null,Qi=Gi[--Ji],Gi[Ji]=null,Yi=Gi[--Ji],Gi[Ji]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bo=Oi(null),yo=null,wo=null,So=null;function ko(){So=wo=yo=null}function Co(e){var t=bo.current;xi(bo),e._currentValue=t}function Oo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t){yo=e,So=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===yo)throw Error(o(308));wo=e,yo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var _o=null;function To(e){null===_o?_o=[e]:_o.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function No(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==o){var d=i.baseState;for(a=0,l=u=c=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=h,c=d):l=l.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Nc|=a,e.lanes=a,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Ro(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(nu(t,e,i,r),No(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Ro(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(nu(t,e,i,r),No(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ro(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&(nu(t,e,r,n),No(t,e,r))}};function Ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function Wo(e,t,n){var r=!1,i=_i,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(i=Pi(t)?Ai:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):_i),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Eo(o):(o=Pi(t)?Ai:Ti.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Jo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ju(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&$o(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Du(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case k:return(t=Fu(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;Jo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?u(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);Jo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);Jo(t,r)}return null}function v(i,o,s,c){for(var u=null,l=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=h(i,d,s[v],c);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,v),null===l?u=g:l.sibling=g,l=g,d=m}if(v===s.length)return n(i,d),io&&Zi(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],c))&&(o=a(d,o,v),null===l?u=d:l.sibling=d,l=d);return io&&Zi(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?u=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Zi(i,v),u}function m(i,s,c,u){var l=D(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,v=s,m=s=0,g=null,b=c.next();null!==v&&!b.done;m++,b=c.next()){v.index>m?(g=v,v=null):g=v.sibling;var y=h(i,v,b.value,u);if(null===y){null===v&&(v=g);break}e&&v&&null===y.alternate&&t(i,v),s=a(y,s,m),null===d?l=y:d.sibling=y,d=y,v=g}if(b.done)return n(i,v),io&&Zi(i,m),l;if(null===v){for(;!b.done;m++,b=c.next())null!==(b=f(i,b.value,u))&&(s=a(b,s,m),null===d?l=b:d.sibling=b,d=b);return io&&Zi(i,m),l}for(v=r(i,v);!b.done;m++,b=c.next())null!==(b=p(v,i,m,b.value,u))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),s=a(b,s,m),null===d?l=b:d.sibling=b,d=b);return e&&v.forEach((function(e){return t(i,e)})),io&&Zi(i,m),l}return function e(r,o,a,c){if("object"===typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var u=a.key,l=o;null!==l;){if(l.key===u){if((u=a.type)===C){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&$o(u)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===C?((o=Du(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Ru(a.type,a.key,a.props,null,r.mode,c)).ref=Go(r,o,a),c.return=r,r=c)}return s(r);case k:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,c)).return=r,r=o}return s(r);case P:return e(r,o,(l=a._init)(a._payload),c)}if(te(a))return v(r,o,a,c);if(D(a))return m(r,o,a,c);Jo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lu(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var Qo=Yo(!0),Zo=Yo(!1),Xo={},ea=Oi(Xo),ta=Oi(Xo),na=Oi(Xo);function ra(e){if(e===Xo)throw Error(o(174));return e}function ia(e,t){switch(Ei(na,t),Ei(ta,e),Ei(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(ea),Ei(ea,t)}function oa(){xi(ea),xi(ta),xi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(Ei(ta,e),Ei(ea,n))}function sa(e){ta.current===e&&(xi(ea),xi(ta))}var ca=Oi(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function da(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ba=!1,ya=!1,wa=0,Sa=0;function ka(){throw Error(o(321))}function Ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Oa(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:cs,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,fa.current=us,e=n(r,i)}while(ya)}if(fa.current=as,t=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ba=!1,t)throw Error(o(300));return e}function xa(){var e=0!==wa;return wa=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function _a(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,u=null,l=a;do{var d=l.lane;if((pa&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=f,s=r):u=u.next=f,va.lanes|=d,Nc|=d}l=l.next}while(null!==l&&l!==a);null===u?s=r:u.next=c,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Nc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function Pa(e,t){var n=va,r=_a(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Wa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Ra.bind(null,n,r,i,t),void 0,null),null===Ic)throw Error(o(349));0!==(30&pa)||ja(n,t,i)}return i}function ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&La(e)}function Da(e,t,n){return n((function(){Na(t)&&La(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=Ao(e,1);null!==t&&nu(t,e,1,-1)}function Fa(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return _a().memoizedState}function Va(e,t,n,r){var i=Ea();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=_a();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Ca(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function Ha(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return za(2048,8,e,t)}function qa(e,t){return za(4,2,e,t)}function Ka(e,t){return za(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ja(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ga.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Nc|=n,e.baseState=!0),t)}function Xa(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{yt=n,ha.transition=r}}function es(){return _a().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Io(e,t,n,r))){nu(n,e,r,eu()),os(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,To(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Io(e,t,i,r))&&(nu(n,e,r,i=eu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ya=ba=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var as={readContext:Eo,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Fa,useDebugValue:$a,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Xa.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ea();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ic)throw Error(o(349));0!==(30&pa)||ja(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ha(Da.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Ic.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Sa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Eo,useCallback:Ya,useContext:Eo,useEffect:Wa,useImperativeHandle:Ja,useInsertionEffect:qa,useLayoutEffect:Ka,useMemo:Qa,useReducer:Ia,useRef:Ba,useState:function(){return Ia(Ta)},useDebugValue:$a,useDeferredValue:function(e){return Za(_a(),ma.memoizedState,e)},useTransition:function(){return[Ia(Ta)[0],_a().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1},us={readContext:Eo,useCallback:Ya,useContext:Eo,useEffect:Wa,useImperativeHandle:Ja,useInsertionEffect:qa,useLayoutEffect:Ka,useMemo:Qa,useReducer:Aa,useRef:Ba,useState:function(){return Aa(Ta)},useDebugValue:$a,useDeferredValue:function(e){var t=_a();return null===ma?t.memoizedState=e:Za(t,ma.memoizedState,e)},useTransition:function(){return[Aa(Ta)[0],_a().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wc||(Wc=!0,qc=r),fs(0,t)},n}function vs(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,ws=!1;function Ss(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Qo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return xo(t,i),r=Oa(e,t,n,r,o,i),n=xa(),null===e||ws?(io&&n&&eo(t),t.flags|=1,Ss(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Os(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=ju(o,r)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return _s(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(jc,Pc),Pc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(jc,Pc),Pc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(jc,Pc),Pc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(jc,Pc),Pc|=r;return Ss(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var o=Pi(n)?Ai:Ti.current;return o=Mi(t,o),xo(t,i),n=Oa(e,t,n,r,o,i),r=xa(),null===e||ws?(io&&r&&eo(t),t.flags|=1,Ss(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ts(e,t,n,r,i){if(Pi(n)){var o=!0;Ni(t)}else o=!1;if(xo(t,i),null===t.stateNode)Hs(e,t),Wo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Eo(u):u=Mi(t,u=Pi(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&qo(t,a,r,u),Mo=!1;var f=t.memoizedState;a.state=f,Fo(t,r,a,i),c=t.memoizedState,s!==r||f!==c||Ii.current||Mo?("function"===typeof l&&(Vo(t,n,l,r),c=t.memoizedState),(s=Mo||Ho(t,n,s,r,f,c,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,jo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:go(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Eo(c):c=Mi(t,c=Pi(n)?Ai:Ti.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==c)&&qo(t,a,r,c),Mo=!1,f=t.memoizedState,a.state=f,Fo(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Ii.current||Mo?("function"===typeof h&&(Vo(t,n,h,r),p=t.memoizedState),(u=Mo||Ho(t,n,u,r,f,p,c)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,i)}function Is(e,t,n,r,i,o){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ws(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):Ss(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ia(e,t.containerInfo)}function Ms(e,t,n,r,i){return po(),vo(i),t.flags|=256,Ss(e,t,n,r),t.child}var Ps,js,Rs,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ca.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(ca,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Nu(c,i,0,null),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=Ds,e):Fs(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Nu({mode:"visible",children:r.children},i,0,null),(a=Du(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Us(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),ws||c){if(null!==(r=Ic)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nu(r,e,i,-1))}return vu(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Ji++]=Yi,Gi[Ji++]=Qi,Gi[Ji++]=$i,Yi=e.id,Qi=e.overflow,$i=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=ju(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=ju(r,s):(s=Du(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Ns(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=ju(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Nu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),Qo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oo(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ca,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ju(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ju(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&ji(),Ks(t),null;case 3:return r=t.stateNode,oa(),xi(Ii),xi(Ti),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)js(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var c in be(n,a),i=null,a)if(a.hasOwnProperty(c)){var u=a[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":K(r),X(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fi]=t,e[hi]=r,Ps(e,t),t.stateNode=e;e:{switch(c=ye(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in be(n,i),u=i)if(u.hasOwnProperty(a)){var l=u[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&y(e,a,l,c))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ks(t),null;case 13:if(xi(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ca.current)?0===Rc&&(Rc=3):vu())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return Co(t.type._context),Ks(t),null;case 19:if(xi(ca),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)qs(a,!1);else{if(0!==Rc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ua(e))){for(t.flags|=128,qs(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>zc&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Ks(t),null}else 2*Qe()-a.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ca.current,Ei(ca,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pc)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Js(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),xi(Ii),xi(Ti),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(xi(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(ca),null;case 4:return oa(),null;case 10:return Co(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in be(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Ur("scroll",e),a||c===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ou(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Ou(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var lc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)hc(e,t,n),n=n.sibling}function hc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Xs(n,t);case 6:var r=lc,i=dc;lc=null,fc(e,t,n),dc=i,null!==(lc=r)&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lc.removeChild(n.stateNode));break;case 18:null!==lc&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(lc,n.stateNode));break;case 4:r=lc,i=dc,lc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),lc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ec(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Ys&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ou(n,t,s)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fc(e,t,n),Ys=r):fc(e,t,n);break;default:fc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,dc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===lc)throw Error(o(160));hc(a,s,i),lc=null,dc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){Ou(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vc(t,e),gc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(m){Ou(e,e.return,m)}try{nc(5,e,e.return)}catch(m){Ou(e,e.return,m)}}break;case 1:vc(t,e),gc(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(vc(t,e),gc(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ou(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===a.type&&null!=a.name&&Q(i,a),ye(c,s);var l=ye(c,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):y(i,d,f,l)}switch(c){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(m){Ou(e,e.return,m)}}break;case 6:if(vc(t,e),gc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ou(e,e.return,m)}}break;case 3:if(vc(t,e),gc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ou(e,e.return,m)}break;case 4:default:vc(t,e),gc(e);break;case 13:vc(t,e),gc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vc=Qe())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||d,vc(t,e),Ys=l):vc(t,e),gc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(f=Zs=d;null!==Zs;){switch(p=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:nc(4,h,h.return);break;case 1:Xs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ou(r,n,m)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){Sc(f);continue}}null!==p?(p.return=h,Zs=p):Sc(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=ve("display",s))}catch(m){Ou(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ou(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vc(t,e),gc(e),4&r&&pc(e);case 21:}}function gc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),uc(e,sc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(o(161))}}catch(s){Ou(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Zs=e,yc(e,t,n)}function yc(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Ys;s=$s;var u=Ys;if($s=a,(Ys=c)&&!u)for(Zs=i;null!==Zs;)c=(a=Zs).child,22===a.tag&&null!==a.memoizedState?kc(i):null!==c?(c.return=a,Zs=c):kc(i);for(;null!==o;)Zs=o,yc(o,t,n),o=o.sibling;Zs=i,$s=s,Ys=u}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):wc(e)}}function wc(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&ic(t)}catch(h){Ou(t,t.return,h)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Sc(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function kc(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Ou(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Ou(t,i,c)}}var o=t.return;try{ic(t)}catch(c){Ou(t,o,c)}break;case 5:var a=t.return;try{ic(t)}catch(c){Ou(t,a,c)}}}catch(c){Ou(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Cc,Oc=Math.ceil,xc=w.ReactCurrentDispatcher,Ec=w.ReactCurrentOwner,_c=w.ReactCurrentBatchConfig,Tc=0,Ic=null,Ac=null,Mc=0,Pc=0,jc=Oi(0),Rc=0,Dc=null,Nc=0,Lc=0,Fc=0,Uc=null,Bc=null,Vc=0,zc=1/0,Hc=null,Wc=!1,qc=null,Kc=null,Gc=!1,Jc=null,$c=0,Yc=0,Qc=null,Zc=-1,Xc=0;function eu(){return 0!==(6&Tc)?Qe():-1!==Zc?Zc:Zc=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tc)&&0!==Mc?Mc&-Mc:null!==mo.transition?(0===Xc&&(Xc=vt()),Xc):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yc)throw Yc=0,Qc=null,Error(o(185));gt(e,n,r),0!==(2&Tc)&&e===Ic||(e===Ic&&(0===(2&Tc)&&(Lc|=n),4===Rc&&su(e,Mc)),ru(e,r),1===n&&0===Tc&&0===(1&t.mode)&&(zc=Qe()+500,Ui&&zi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ic?Mc:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cu.bind(null,e)):Vi(cu.bind(null,e)),ai((function(){0===(6&Tc)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Zc=-1,Xc=0,0!==(6&Tc))throw Error(o(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=ft(e,e===Ic?Mc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Tc;Tc|=2;var a=pu();for(Ic===e&&Mc===t||(Hc=null,zc=Qe()+500,fu(e,t));;)try{bu();break}catch(c){hu(e,c)}ko(),xc.current=a,Tc=i,null!==Ac?t=0:(Ic=null,Mc=0,t=Rc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Dc,fu(e,0),su(e,r),ru(e,Qe()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t))throw n=Dc,fu(e,0),su(e,r),ru(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,Bc,Hc);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Vc+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,Bc,Hc),t);break}Su(e,Bc,Hc);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Oc(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,Bc,Hc),r);break}Su(e,Bc,Hc);break;default:throw Error(o(329))}}}return ru(e,Qe()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Uc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Bc,Bc=n,null!==t&&au(t)),e}function au(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function su(e,t){for(t&=~Fc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!==(6&Tc))throw Error(o(327));ku();var t=ft(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Dc,fu(e,0),su(e,t),ru(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Bc,Hc),ru(e,Qe()),null}function uu(e,t){var n=Tc;Tc|=1;try{return e(t)}finally{0===(Tc=n)&&(zc=Qe()+500,Ui&&zi())}}function lu(e){null!==Jc&&0===Jc.tag&&0===(6&Tc)&&ku();var t=Tc;Tc|=1;var n=_c.transition,r=yt;try{if(_c.transition=null,yt=1,e)return e()}finally{yt=r,_c.transition=n,0===(6&(Tc=t))&&zi()}}function du(){Pc=jc.current,xi(jc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ac)for(n=Ac.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:oa(),xi(Ii),xi(Ti),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:xi(ca);break;case 10:Co(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ic=e,Ac=e=ju(e.current,null),Mc=Pc=t,Rc=0,Dc=null,Fc=Lc=Nc=0,Bc=Uc=null,null!==_o){for(t=0;t<_o.length;t++)if(null!==(r=(n=_o[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}_o=null}return e}function hu(e,t){for(;;){var n=Ac;try{if(ko(),fa.current=as,ba){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ba=!1}if(pa=0,ga=ma=va=null,ya=!1,wa=0,Ec.current=null,null===n||null===n.return){Rc=1,Dc=t,Ac=null;break}e:{var a=e,s=n.return,c=n,u=t;if(t=Mc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,bs(p,s,c,0,t),1&p.mode&&ms(a,l,t),u=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ms(a,l,t),vu();break e}u=Error(o(426))}else if(io&&1&c.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),bs(g,s,c,0,t),vo(ls(u,c));break e}}a=u=ls(u,c),4!==Rc&&(Rc=2),null===Uc?Uc=[a]:Uc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ps(0,u,t));break e;case 1:c=u;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Kc||!Kc.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,vs(a,c,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(w){t=w,Ac===n&&null!==n&&(Ac=n=n.return);continue}break}}function pu(){var e=xc.current;return xc.current=as,null===e?as:e}function vu(){0!==Rc&&3!==Rc&&2!==Rc||(Rc=4),null===Ic||0===(268435455&Nc)&&0===(268435455&Lc)||su(Ic,Mc)}function mu(e,t){var n=Tc;Tc|=2;var r=pu();for(Ic===e&&Mc===t||(Hc=null,fu(e,t));;)try{gu();break}catch(i){hu(e,i)}if(ko(),Tc=n,xc.current=r,null!==Ac)throw Error(o(261));return Ic=null,Mc=0,Rc}function gu(){for(;null!==Ac;)yu(Ac)}function bu(){for(;null!==Ac&&!$e();)yu(Ac)}function yu(e){var t=Cc(e.alternate,e,Pc);e.memoizedProps=e.pendingProps,null===t?wu(e):Ac=t,Ec.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pc)))return void(Ac=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Ac=n);if(null===e)return Rc=6,void(Ac=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ac=t);Ac=t=e}while(null!==t);0===Rc&&(Rc=5)}function Su(e,t,n){var r=yt,i=_c.transition;try{_c.transition=null,yt=1,function(e,t,n,r){do{ku()}while(null!==Jc);if(0!==(6&Tc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ic&&(Ac=Ic=null,Mc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,Iu(tt,(function(){return ku(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_c.transition,_c.transition=null;var s=yt;yt=1;var c=Tc;Tc|=4,Ec.current=null,function(e,t){if(ei=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,c=-1,u=-1,l=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(c=s+i),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++l===i&&(c=s),h===a&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(S){Ou(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tc,tc=!1}(e,n),mc(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Ye(),Tc=c,yt=s,_c.transition=a}else e.current=n;if(Gc&&(Gc=!1,Jc=e,$c=i),0===(a=e.pendingLanes)&&(Kc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wc)throw Wc=!1,e=qc,qc=null,e;0!==(1&$c)&&0!==e.tag&&ku(),0!==(1&(a=e.pendingLanes))?e===Qc?Yc++:(Yc=0,Qc=e):Yc=0,zi()}(e,t,n,r)}finally{_c.transition=i,yt=r}return null}function ku(){if(null!==Jc){var e=wt($c),t=_c.transition,n=yt;try{if(_c.transition=null,yt=16>e?16:e,null===Jc)var r=!1;else{if(e=Jc,Jc=null,$c=0,0!==(6&Tc))throw Error(o(331));var i=Tc;for(Tc|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var c=a.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Zs=l;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var f=d.child;if(null!==f)f.return=d,Zs=f;else for(;null!==Zs;){var h=(d=Zs).sibling,p=d.return;if(oc(d),d===l){Zs=null;break}if(null!==h){h.return=p,Zs=h;break}Zs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Zs=b;break e}Zs=a.return}}var y=e.current;for(Zs=y;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=y;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(k){Ou(c,c.return,k)}if(c===s){Zs=null;break e}var S=c.sibling;if(null!==S){S.return=c.return,Zs=S;break e}Zs=c.return}}if(Tc=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{yt=n,_c.transition=t}}return!1}function Cu(e,t,n){e=Do(e,t=ps(0,t=ls(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Ou(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=Do(t,e=vs(t,e=ls(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function xu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ic===e&&(Mc&n)===n&&(4===Rc||3===Rc&&(130023424&Mc)===Mc&&500>Qe()-Vc?fu(e,0):Fc|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=eu();null!==(e=Ao(e,t))&&(gt(e,t,n),ru(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Eu(e,n)}function Iu(e,t){return Ge(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Au(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ju(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Du(n.children,i,a,t);case O:s=8,i|=8;break;case x:return(e=Mu(12,n,t,2|i)).elementType=x,e.lanes=a,e;case I:return(e=Mu(13,n,t,i)).elementType=I,e.lanes=a,e;case A:return(e=Mu(19,n,t,i)).elementType=A,e.lanes=a,e;case j:return Nu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case T:s=11;break e;case M:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Du(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function Nu(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,a,s,c){return e=new Uu(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zu(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Di(e,n,t)}return t}function Hu(e,t,n,r,i,o,a,s,c){return(e=Bu(n,r,!0,e,0,o,0,s,c)).context=zu(null),n=e.current,(o=Ro(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,a))&&(nu(e,i,a,o),No(e,i,a)),a}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}Cc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Pi(t.type)&&Ni(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(bo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ca,1&ca.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ei(ca,1&ca.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ei(ca,1&ca.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Xi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Mi(t,Ti.current);xo(t,n),i=Oa(null,t,r,e,i,n);var a=xa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ni(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Ss(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(r),e=go(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,jo(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ei(bo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Ro(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Oo(a.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Oo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ss(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xo(t,n),r=r(i=Eo(i)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),Cs(e,t,r,i=go(r.type,i),n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Hs(e,t),t.tag=1,Pi(r)?(e=!0,Ni(t)):e=!1,xo(t,n),Wo(t,r,i),Ko(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return xs(e,t,n)}throw Error(o(156,t.tag))};var Ju="function"===typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=qu(a);s.call(e)}}Wu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qu(a);o.call(e)}}var a=Hu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),lu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qu(c);s.call(e)}}var c=Bu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=c,e[pi]=c.current,zr(8===e.nodeType?e.parentNode:e),lu((function(){Wu(t,c,n,r)})),c}(n,t,e,i,r);return qu(a)}Yu.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Yu.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu((function(){Wu(null,e,null,null)})),t[pi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Lt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),ru(t,Qe()),0===(6&Tc)&&(zc=Qe()+500,zi()))}break;case 13:lu((function(){var t=Ao(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Gu(e,1)}},kt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tu(e),n=Ao(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},Ot=function(){return yt},xt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ie=lu;var tl={usingClientEntryPoint:!1,Events:[yi,wi,Si,Ee,_e,uu]},nl={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(o(200));return Vu(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(o(299));var n=!1,r="",i=Ju;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Ju;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(o(40));return!!e._reactRootContainer&&(lu((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";e.exports=n(374)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],u=s+1,l=e[u];if(0>o(c,n))u<i&&0>o(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[s]=n,r=s);else{if(!(u<i&&0>o(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof e?e:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function S(e){if(m=!1,w(e),!v)if(null!==r(u))v=!0,j(k);else{var t=r(l);null!==t&&R(S,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,b(E),E=-1),p=!0;var o=h;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!I());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),w(n)}else i(u);f=r(u)}if(null!==f)var c=!0;else{var d=r(l);null!==d&&R(S,d.startTime-n),c=!1}return c}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,O=!1,x=null,E=-1,_=5,T=-1;function I(){return!(t.unstable_now()-T<_)}function A(){if(null!==x){var e=t.unstable_now();T=e;var n=!0;try{n=x(!0,e)}finally{n?C():(O=!1,x=null)}}else O=!1}if("function"===typeof y)C=function(){y(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=A,C=function(){P.postMessage(null)}}else C=function(){g(A,0)};function j(e){x=e,O||(O=!0,C())}function R(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,j(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(u)&&e===r(l)&&(m?(b(E),E=-1):m=!0,R(S,o-a))):(e.sortIndex=s,n(u,e),v||p||(v=!0,j(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}).call(this,n(375).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(376),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(34))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},c.clearImmediate=u}function u(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{u(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(34),n(72))},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){r(this,e),this.appName=t,this.appVersion=n}return i(e,null,[{key:"create",value:function(t,n){var r=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!t||t.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!r.test(t))throw new Error("appName must satisfy ".concat(r," regular expression"));if(!n||n.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm.test(n))throw new Error("appVersion must satisfy Semantic Versioning format");return new e(t,n)}}]),e}();t.default=o},function(e,t,n){var r=n(133).default,i=n(56);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(57).default,i=n(43).default,o=n(7).default,a=n(2).default,s=n(3).default,c=n(9).default,u=n(10).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(137),f=n(138),h=n(48),p=n(139),v=n(384),m=n(186),g=n(106),b=function(e){c(n,e);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"setBlurStrength",value:function(){}},{key:"loadAssets",value:function(){return l(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}},{key:"addObserver",value:function(){}},{key:"removeObserver",value:function(){}}]),n}(p.default),y=function(e){c(n,e);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,null,[{key:"create",value:function(e,t){return l(this,void 0,void 0,o().mark((function r(){var i,a,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.resolveSpec(e),t=n.resolveOptions(t),i=t.logger,r.next=5,n.isSupported(e,t);case 5:if(a=r.sent,i.info("processor is ".concat(a?"":"not"," supported")),a){r.next=10;break}return i.warn("Using no-op processor because background blur is not supported"),r.abrupt("return",new b);case 10:return r.next=12,m.default.isSupported();case 12:if(!r.sent){r.next=17;break}i.info("Using browser-provided background blur"),s=new m.default(e,t),r.next=19;break;case 17:i.info("Using built-in background blur"),s=new v.default(e,t);case 19:return r.next=21,s.loadAssets();case 21:return r.abrupt("return",s);case 22:case"end":return r.stop()}}),r)})))}},{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return t.blurStrength||(t.blurStrength=g.default.MEDIUM),t.logger||(t.logger=new f.default("BackgroundBlurProcessor",h.default.INFO)),t=r(i(n),"resolveOptions",this).call(this,t)}},{key:"isSupported",value:function(e,t){return e=n.resolveSpec(e),t=n.resolveOptions(t),r(i(n),"isSupported",this).call(this,e,t)}}]),n}(d.default);t.default=y},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"BrowserInfo",(function(){return i})),n.d(t,"NodeInfo",(function(){return o})),n.d(t,"SearchBotDeviceInfo",(function(){return a})),n.d(t,"BotInfo",(function(){return s})),n.d(t,"ReactNativeInfo",(function(){return c})),n.d(t,"detect",(function(){return f})),n.d(t,"browserName",(function(){return p})),n.d(t,"parseUserAgent",(function(){return v})),n.d(t,"detectOS",(function(){return m})),n.d(t,"getNodeVersion",(function(){return g}));var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},o=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},a=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?v(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!==typeof navigator?v(navigator.userAgent):g()}function h(e){return""!==e&&l.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function p(e){var t=h(e);return t?t[0]:null}function v(e){var t=h(e);if(!t)return null;var n=t[0],o=t[1];if("searchbot"===n)return new s;var c=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);c?c.length<3&&(c=r(r([],c,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-c.length),!0)):c=[];var l=c.join("."),d=m(e),f=u.exec(e);return f&&f[1]?new a(n,l,d,f[1]):new i(n,l,d)}function m(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],i=r[0];if(r[1].exec(e))return i}return null}function g(){return"undefined"!==typeof e&&e.version?new o(e.version.slice(1)):null}}.call(this,n(72))},function(e,t,n){var r=n(133).default,i=n(105),o=n(9);function a(){e.exports=a=function(e,t){return new s(e,void 0,t)},e.exports.__esModule=!0,e.exports.default=e.exports;var t=RegExp.prototype,n=new WeakMap;function s(e,t,r){var o=new RegExp(e,t);return n.set(o,r||n.get(e)),i(o,s.prototype)}function c(e,t){var r=n.get(t);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[n]=e[i[o]]}return t}),Object.create(null))}return o(s,RegExp),s.prototype.exec=function(e){var n=t.exec.call(this,e);return n&&(n.groups=c(n,this)),n},s.prototype[Symbol.replace]=function(e,i){if("string"==typeof i){var o=n.get(this);return t[Symbol.replace].call(this,e,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"==typeof i){var a=this;return t[Symbol.replace].call(this,e,(function(){var e=arguments;return"object"!=r(e[e.length-1])&&(e=[].slice.call(e)).push(c(e,a)),i.apply(this,e)}))}return t[Symbol.replace].call(this,e,i)},a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hash:"6037e5c",raw:"v3.7.0",semverString:"3.7.0"}},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(57).default,s=n(43).default,c=n(9).default,u=n(10).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(186),f=n(106),h=function(e){c(n,e);var t=u(n);function n(e,r){var o;return i(this,n),(o=t.call(this,e,r)).blurCanvas=document.createElement("canvas"),o.blurCanvasCtx=o.blurCanvas.getContext("2d"),o.blurCanvas.width=o.spec.model.input.width,o.blurCanvas.height=o.spec.model.input.height,o.logger.info("BackgroundBlur processor using builtin blur"),o}return o(n,[{key:"drawImageWithMask",value:function(e,t){var n=this.blurredImage,r=this.canvasCtx,i=this.targetCanvas,o=i.width,a=i.height;t&&n?(this.scaledCanvas.getContext("2d").putImageData(t,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),r.save(),r.clearRect(0,0,o,a),r.drawImage(this.scaledCanvas,0,0,o,a),r.globalCompositeOperation="source-in",r.drawImage(e,0,0,o,a),r.globalCompositeOperation="destination-over",r.drawImage(this.blurCanvas,0,0,o,a),r.restore()):r.clearRect(0,0,o,a)}},{key:"setBlurStrength",value:function(e){if(a(s(n.prototype),"setBlurStrength",this).call(this,e),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});var t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:this.blurAmount}})}}},{key:"setBlurPixels",value:function(){this.blurAmount=f.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info("background blur amount set to ".concat(this.blurAmount))}},{key:"handleInitialize",value:function(e){if(this.logger.info("received initialize message: ".concat(this.stringify(e))),!e.payload)return this.logger.error("failed to initialize module"),void this.initWorkerPromise.reject(new Error("failed to initialize the module"));var t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}},{key:"handlePredict",value:function(e){this.blurredImage=e.payload.blurOutput,a(s(n.prototype),"handlePredict",this).call(this,e)}},{key:"destroy",value:function(){var e,t=this,i=Object.create(null,{destroy:{get:function(){return a(s(n.prototype),"destroy",t)}}});return l(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.destroy.call(this),null===(e=this.blurCanvas)||void 0===e||e.remove(),this.blurCanvas=void 0;case 3:case"end":return t.stop()}}),t,this)})))}}]),n}(d.default);t.default=h},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,i,o){r(this,e),this.delegate=t,this.reportingPeriodMillis=n,this.filterCPUUtilization=i,this.logger=o,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}return i(e,[{key:"reportEvent",value:function(e){var t=e-this.lastReportedEventTimestamp;if(t>=this.reportingPeriodMillis){var n=this.filterCount,r=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=e,0===this.framerate||0===n)return;var i=Math.round(r/n),o=Math.round(this.framerate*(t/1e3))-n,a=Math.round(100*r/t);i>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:o,avgFilterDurationMillis:i,framerate:this.framerate,periodMillis:t}),a>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:a,filterMillis:r,periodMillis:t})}}},{key:"setSegmentationDuration",value:function(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*.8)}},{key:"frameReceived",value:function(e){e!==this.framerate&&(this.framerate=e,this.logger.info("frame counter setting frame rate to ".concat(this.framerate)),this.setSegmentationDuration());var t=Date.now();this.reportEvent(t)}},{key:"filterSubmitted",value:function(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}},{key:"filterComplete",value:function(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}},{key:"processingSegment",get:function(){return this._processingFilter}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(){return i(this,n),t.apply(this,arguments)}return r(n)}(n(188).default);t.default=s},function(e,t,n){"use strict";var r=n(57).default,i=n(43).default,o=n(7).default,a=n(2).default,s=n(3).default,c=n(9).default,u=n(10).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(137),f=n(138),h=n(48),p=n(139),v=n(388),m=function(e){c(n,e);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"loadAssets",value:function(){return l(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}},{key:"addObserver",value:function(){}},{key:"removeObserver",value:function(){}},{key:"setImageBlob",value:function(){return l(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}}]),n}(p.default),g=function(e){c(n,e);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,null,[{key:"create",value:function(e,t){return l(this,void 0,void 0,o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.resolveSpec(e),t=this.resolveOptions(t),r.next=4,this.resolveOptionsAsync(t);case 4:return i=t.logger,r.next=7,n.isSupported(e,t);case 7:if(r.sent){r.next=11;break}return i.warn("Using no-op processor because background replacement is not supported"),r.abrupt("return",new m);case 11:return i.info("Using background replacement filter"),a=new v.default(e,t),r.next=15,a.loadAssets();case 15:return r.abrupt("return",a);case 16:case"end":return r.stop()}}),r,this)})))}},{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return t.logger||(t.logger=new f.default("BackgroundReplacementProcessor",h.default.INFO)),r(i(n),"resolveOptions",this).call(this,t)}},{key:"resolveOptionsAsync",value:function(e){return l(this,void 0,void 0,o().mark((function t(){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.imageBlob){t.next=11;break}return(n=document.createElement("canvas")).width=100,n.height=100,(r=n.getContext("2d")).fillStyle="blue",r.fillRect(0,0,100,100),t.next=9,new Promise((function(e){n.toBlob(e)}));case 9:i=t.sent,e.imageBlob=i;case 11:return t.abrupt("return");case 12:case"end":return t.stop()}}),t)})))}},{key:"isSupported",value:function(e,t){var a=this,s=Object.create(null,{isSupported:{get:function(){return r(i(n),"isSupported",a)}}});return l(this,void 0,void 0,o().mark((function n(){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.resolveSpec(e),t=this.resolveOptions(t),n.next=4,this.resolveOptionsAsync(t);case 4:return r=t.imageBlob,i=URL.createObjectURL(r),n.prev=6,n.next=9,v.default.loadImage(i);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),t.logger.info("Failed to fetch load replacement image ".concat(n.t0.message)),n.abrupt("return",!1);case 15:return n.prev=15,URL.revokeObjectURL(i),n.finish(15);case 18:return n.abrupt("return",s.isSupported.call(this,e,t));case 19:case"end":return n.stop()}}),n,this,[[6,11,15,18]])})))}}]),n}(d.default);t.default=g},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(57).default,s=n(43).default,c=n(9).default,u=n(10).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(187),f=n(389),h=function(e){c(n,e);var t=u(n);function n(e,r){var o;return i(this,n),(o=t.call(this,"background replacement",e,r,new f.default)).replacementBlob=r.imageBlob,o.logger.info("BackgroundReplacement processor successfully created"),o.logger.info("BackgroundReplacement spec: ".concat(o.stringify(o.spec))),o.logger.info("BackgroundReplacement options: ".concat(o.stringify(r))),o}return o(n,[{key:"setImageBlob",value:function(e){return l(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.replacementBlob=e,t.next=3,n.loadImage(this.createReplacementObjectUrl());case 3:this.replacementImage=t.sent;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"initOnFirstExecution",value:function(){}},{key:"drawImageWithMask",value:function(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);var n=this.canvasCtx,r=this.targetCanvas,i=r.width,o=r.height;n.save(),n.clearRect(0,0,i,o),n.drawImage(this.scaledCanvas,0,0,i,o),n.globalCompositeOperation="source-in",n.drawImage(e,0,0,i,o),n.globalCompositeOperation="destination-over",n.drawImage(this.replacementImage,0,0,r.width,r.height),n.restore()}},{key:"revokeReplacementObjectUrl",value:function(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}},{key:"createReplacementObjectUrl",value:function(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}},{key:"loadAssets",value:function(){var e=this,t=Object.create(null,{loadAssets:{get:function(){return a(s(n.prototype),"loadAssets",e)}}});return l(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadImage(this.createReplacementObjectUrl());case 2:return this.replacementImage=e.sent,t.loadAssets.call(this),e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"addObserver",value:function(e){this.delegate.addObserver(e)}},{key:"removeObserver",value:function(e){this.delegate.removeObserver(e)}},{key:"destroy",value:function(){var e=this,t=Object.create(null,{destroy:{get:function(){return a(s(n.prototype),"destroy",e)}}});return l(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.destroy.call(this),this.revokeReplacementObjectUrl();case 2:case"end":return e.stop()}}),e,this)})))}}],[{key:"loadImageExecutor",value:function(e,t,n){var r=new Image;r.crossOrigin="Anonymous",r.addEventListener("load",(function(){e(r)}),!1),r.addEventListener("error",(function(e){t(new Error("Could not load replacement image ".concat(r.src,": ").concat(e.message)))}),!1),r.src=n}},{key:"loadImage",value:function(e){return l(this,void 0,void 0,r().mark((function t(){var n=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){return n.loadImageExecutor(t,r,e)})));case 1:case"end":return t.stop()}}),t)})))}}]),n}(d.default);t.default=h},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(){return i(this,n),t.apply(this,arguments)}return r(n)}(n(188).default);t.default=s},function(e,t,n){"use strict";e.exports=n(391)},function(e,t,n){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(202),r.BufferWriter=n(400),r.Reader=n(203),r.BufferReader=n(401),r.util=n(61),r.rpc=n(402),r.roots=n(404),r.configure=i,i()},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(s){o&&(o=!1,a(s))}}))}},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,o=null,a=[],s=0,c=0;t<n;){var u=e[t++];switch(c){case 0:a[s++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:a[s++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:a[s++]=i[r|u>>6],a[s++]=i[63&u],c=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=i[r],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var s="invalid encoding";r.decode=function(e,t,n){for(var r,i=n,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error(s);switch(a){case 0:r=u,a=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,a=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,a=3;break;case 3:t[n++]=(3&r)<<6|u,a=0}}if(1===a)throw Error(s);return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,s)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,o+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+o;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},function(e,t,n){"use strict";e.exports=i;var r=n(61);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=o;var r=n(202);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(61);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},function(e,t,n){"use strict";e.exports=o;var r=n(203);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(61);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},function(e,t,n){"use strict";t.Service=n(403)},function(e,t,n){"use strict";e.exports=i;var r=n(61);function i(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(c){return s.emit("error",c,t),void setTimeout((function(){a(c)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){var r=n(43),i=n(105),o=n(406),a=n(407);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(105),i=n(178);function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(177);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2;r(this,e),this.speakerWeight=t,this.cutoffThreshold=n,this.silenceThreshold=i,this.takeoverRate=o,this.volumes={}}return i(e,[{key:"calculateScore",value:function(e,t,n){(n||null===t)&&(t=0),this.volumes.hasOwnProperty(e)||(this.volumes[e]=0),t=t>this.silenceThreshold?1:0;var r=this.volumes[e]*this.speakerWeight+t*(1-this.speakerWeight);for(var i in this.volumes[e]=r,this.volumes)i!==e&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*t,0));return r<this.cutoffThreshold?0:r}},{key:"prioritizeVideoSendBandwidthForActiveSpeaker",value:function(){return!0}}]),e}();t.default=o},function(e,t,n){"use strict";var r,i=n(12).default,o=n(2).default,a=n(3).default,s=n(230).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptEventConverter=void 0;var c=n(21),u=n(231),l=n(232),d=n(233),f=n(234),h=(s(r={},c.SdkTranscriptionStatus.Type.STARTED,d.default.STARTED),s(r,c.SdkTranscriptionStatus.Type.INTERRUPTED,d.default.INTERRUPTED),s(r,c.SdkTranscriptionStatus.Type.RESUMED,d.default.RESUMED),s(r,c.SdkTranscriptionStatus.Type.STOPPED,d.default.STOPPED),s(r,c.SdkTranscriptionStatus.Type.FAILED,d.default.FAILED),r),p=function(){function e(){o(this,e)}return a(e,null,[{key:"from",value:function(e){var t;try{t=c.SdkTranscriptFrame.decode(e.data)}catch(D){throw new Error("Cannot decode transcript data message: "+D)}var n,r=[],o=i(t.events);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.status){var s=h[a.status.type];if(!s)continue;var d=new l.default;d.type=s,d.eventTimeMs=a.status.eventTime,d.transcriptionRegion=a.status.transcriptionRegion,d.transcriptionConfiguration=a.status.transcriptionConfiguration,a.status.message&&(d.message=a.status.message),r.push(d)}else if(a.transcript){var p=new u.default;p.results=[];var v,m=i(a.transcript.results);try{for(m.s();!(v=m.n()).done;){var g=v.value,b={channelId:g.channelId,isPartial:g.isPartial,resultId:g.resultId,startTimeMs:g.startTime,endTimeMs:g.endTime,alternatives:[]};if(g.languageCode&&(b.languageCode=g.languageCode),g.languageIdentification&&g.languageIdentification.length>0){b.languageIdentification=[];var y,w=i(g.languageIdentification);try{for(w.s();!(y=w.n()).done;){var S=y.value,k={languageCode:S.languageCode,score:S.score};b.languageIdentification.push(k)}}catch(N){w.e(N)}finally{w.f()}}var C,O=i(g.alternatives);try{for(O.s();!(C=O.n()).done;){var x,E=C.value,_={items:[],transcript:E.transcript},T=i(E.items);try{for(T.s();!(x=T.n()).done;){var I=x.value,A={content:I.content,attendee:{attendeeId:I.speakerAttendeeId,externalUserId:I.speakerExternalUserId},startTimeMs:I.startTime,endTimeMs:I.endTime,type:null};switch(I.vocabularyFilterMatch&&(A.vocabularyFilterMatch=I.vocabularyFilterMatch),I.hasOwnProperty("stable")&&(A.stable=I.stable),I.hasOwnProperty("confidence")&&(A.confidence=I.confidence),I.type){case c.SdkTranscriptItem.Type.PRONUNCIATION:A.type=f.default.PRONUNCIATION;break;case c.SdkTranscriptItem.Type.PUNCTUATION:A.type=f.default.PUNCTUATION}_.items.push(A)}}catch(N){T.e(N)}finally{T.f()}var M,P=i(E.entities);try{for(P.s();!(M=P.n()).done;){var j=M.value;_.entities||(_.entities=[]);var R={category:j.category,confidence:j.confidence,content:j.content,startTimeMs:j.startTime,endTimeMs:j.endTime};j.type&&(R.type=j.type),_.entities.push(R)}}catch(N){P.e(N)}finally{P.f()}b.alternatives.push(_)}}catch(N){O.e(N)}finally{O.f()}p.results.push(b)}}catch(N){m.e(N)}finally{m.f()}r.push(p)}}}catch(N){o.e(N)}finally{o.f()}return r}}]),e}();t.TranscriptEventConverter=p},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(201),u=n(92),l=n(93),d=n(241),f=n(242),h=n(243),p=n(62),v=n(21),m=n(44),g=n(136),b=n(134),y=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.INTERVAL_MS;o(this,e),this.audioVideoController=t,this.logger=n,this.interval=r,this.intervalScheduler=null,this.metricsAddTime=function(e,t,n){},this.metricsLogEvent=function(e,t){}}return a(e,[{key:"toAttribute",value:function(e){return this.toSuffix(e).substring(1)}},{key:"toSuffix",value:function(e){return e.toLowerCase()===e?"_".concat(e):e.toUpperCase()===e?"_".concat(e.toLowerCase()):e.replace(/([A-Z][a-z]+)/g,(function(e){return"_".concat(e)})).replace(/([A-Z][A-Z]+)/g,(function(e){return"_".concat(e)})).toLowerCase()}},{key:"logLatency",value:function(e,t,n){var r=this.toSuffix(e);this.logEventTime("meeting"+r,t,n)}},{key:"logStateTimeout",value:function(e,t){var n=this.toSuffix(e);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},t),{state:"state".concat(n)}))}},{key:"logAudioEvent",value:function(e,t){var n="audio"+this.toSuffix(g.default[e]);this.logEvent(n,t)}},{key:"logVideoEvent",value:function(e,t){var n="video"+this.toSuffix(b.default[e]);this.logEvent(n,t)}},{key:"logEventTime",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.assign(Object.assign({},r),{call_id:this.audioVideoController.configuration.meetingId,client_type:e.CLIENT_TYPE,metric_type:"latency"});this.logger.debug((function(){return"[StatsCollector] ".concat(t,": ").concat(JSON.stringify(i))})),this.metricsAddTime(t,n,i)}},{key:"logMeetingSessionStatus",value:function(e){var t="".concat(e.statusCode());this.logEvent(t);var n={status:t,status_code:"".concat(e.statusCode())};this.logEvent("meeting_session_status",n),e.isTerminal()&&this.logEvent("meeting_session_stopped",n),e.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",n),e.isFailure()&&this.logEvent("meeting_session_failed",n)}},{key:"logLifecycleEvent",value:function(e,t){var n={lifecycle_event:"lifecycle".concat(this.toSuffix(f.default[e])),lifecycle_event_code:"".concat(e),lifecycle_event_condition:"condition".concat(this.toSuffix(h.default[t])),lifecycle_event_condition_code:"".concat(t)};this.logEvent("meeting_session_lifecycle",n)}},{key:"logEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign(Object.assign({},n),{call_id:this.audioVideoController.configuration.meetingId,client_type:e.CLIENT_TYPE});this.logger.debug((function(){return"[StatsCollector] ".concat(t,": ").concat(JSON.stringify(r))})),this.metricsLogEvent(t,r)}},{key:"start",value:function(e,t){var n=this;return!this.intervalScheduler&&(this.logger.info("Starting StatsCollector"),this.signalingClient=e,this.videoStreamIndex=t,this.clientMetricReport=new c.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new p.default(this.interval),this.intervalScheduler.start((function(){return s(n,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStatsWrapper();case 2:case"end":return e.stop()}}),e,this)})))})),!0)}},{key:"stop",value:function(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}},{key:"updateMetricValues",value:function(e,t){var n,r=t?this.clientMetricReport.streamMetricReports[Number(e.ssrc)]:this.clientMetricReport.globalMetricReport;for(var i in n=t?this.clientMetricReport.getMetricMap(r.mediaType,r.direction):this.clientMetricReport.getMetricMap(),e)i in n&&(r.previousMetrics[i]=r.currentMetrics[i],r.currentMetrics[i]=e[i])}},{key:"processRawMetricReports",value:function(e){this.clientMetricReport.currentSsrcs={};var t,n=Date.now(),i=r(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=this.isStreamRawMetricReport(o.type);if(a){var s=this.clientMetricReport.streamMetricReports[Number(o.ssrc)];if(s)s.streamId=this.videoStreamIndex.streamIdForSSRC(Number(o.ssrc));else{var c=new d.default;c.mediaType=this.getMediaType(o),c.direction=this.getDirectionType(o),this.videoStreamIndex.allStreams().empty()||(c.streamId=this.videoStreamIndex.streamIdForSSRC(Number(o.ssrc))),this.clientMetricReport.streamMetricReports[Number(o.ssrc)]=c}this.clientMetricReport.currentSsrcs[Number(o.ssrc)]=1}this.updateMetricValues(o,a)}}catch(u){i.e(u)}finally{i.f()}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=n,this.clientMetricReport.print()}},{key:"addMetricFrame",value:function(e,t,n,r){var i=n.type,o=n.transform,a=n.source,s=t.streamMetricFrames.length,c=t.streamMetricFrames[s-1];if(i){var u=v.SdkMetric.create();u.type=i,u.value=o(a||e,r),r?c.metrics.push(u):t.globalMetrics.push(u)}}},{key:"addGlobalMetricsToProtobuf",value:function(e){var t=this.clientMetricReport.getMetricMap();for(var n in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(n,e,t[n])}},{key:"addStreamMetricsToProtobuf",value:function(e){for(var t in this.clientMetricReport.streamMetricReports){var n=this.clientMetricReport.streamMetricReports[t],r=v.SdkStreamMetricFrame.create();r.streamId=n.streamId,r.metrics=[],e.streamMetricFrames.push(r);var i=this.clientMetricReport.getMetricMap(n.mediaType,n.direction);for(var o in n.currentMetrics)this.addMetricFrame(o,e,i[o],Number(t))}}},{key:"makeClientMetricProtobuf",value:function(){var e=v.SdkClientMetricFrame.create();return e.globalMetrics=[],e.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(e),this.addStreamMetricsToProtobuf(e),e}},{key:"sendClientMetricProtobuf",value:function(e){this.signalingClient.sendClientMetrics(e)}},{key:"isStreamRawMetricReport",value:function(e){return["inbound-rtp","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(e)}},{key:"getMediaType",value:function(e){return"audio"===e.kind?l.default.AUDIO:l.default.VIDEO}},{key:"getDirectionType",value:function(e){var t=e.type;return"inbound-rtp"===t||"remote-outbound-rtp"===t?u.default.DOWNSTREAM:u.default.UPSTREAM}},{key:"isValidStandardRawMetric",value:function(e){return"inbound-rtp"===e.type||"outbound-rtp"===e.type||"remote-inbound-rtp"===e.type||"remote-outbound-rtp"===e.type||"candidate-pair"===e.type&&"succeeded"===e.state}},{key:"isValidSsrc",value:function(e){var t=!0;return this.isStreamRawMetricReport(e.type)&&this.getDirectionType(e)===u.default.DOWNSTREAM&&this.getMediaType(e)===l.default.VIDEO&&(t=this.videoStreamIndex.streamIdForSSRC(Number(e.ssrc))>0),t}},{key:"isValidRawMetricReport",value:function(e){return this.isValidStandardRawMetric(e)&&this.isValidSsrc(e)}},{key:"filterRawMetricReports",value:function(e){var t,n=[],i=r(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.isValidRawMetricReport(o)&&n.push(o)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"handleRawMetricReports",value:function(e){var t=this,n=this.filterRawMetricReports(e);this.logger.debug((function(){return"Filtered raw metrics : ".concat(JSON.stringify(n))})),this.processRawMetricReports(n);var r=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(r),this.audioVideoController.forEachObserver((function(e){m.Maybe.of(e.metricsDidReceive).map((function(n){return n.bind(e)(t.clientMetricReport.clone())}))}))}},{key:"getStatsWrapper",value:function(){return s(this,void 0,void 0,i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audioVideoController.rtcPeerConnection){e.next=2;break}return e.abrupt("return");case 2:return t=[],e.prev=3,e.next=6,this.audioVideoController.rtcPeerConnection.getStats();case 6:n=e.sent,this.clientMetricReport.rtcStatsReport=n,n.forEach((function(e){t.push(e)})),this.handleRawMetricReports(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),this.logger.error(e.t0.message);case 15:case"end":return e.stop()}}),e,this,[[3,12]])})))}}]),e}();t.default=y,y.INTERVAL_MS=1e3,y.CLIENT_TYPE="amazon-chime-sdk-js"},function(e,t,n){"use strict";n.r(t),n.d(t,"Deflate",(function(){return un})),n.d(t,"Inflate",(function(){return hn})),n.d(t,"constants",(function(){return gn})),n.d(t,"default",(function(){return bn})),n.d(t,"deflate",(function(){return ln})),n.d(t,"deflateRaw",(function(){return dn})),n.d(t,"gzip",(function(){return fn})),n.d(t,"inflate",(function(){return pn})),n.d(t,"inflateRaw",(function(){return vn})),n.d(t,"ungzip",(function(){return mn}));function r(e){for(var t=e.length;--t>=0;)e[t]=0}var i=256,o=286,a=30,s=15,c=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),u=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new Array(576);r(f);var h=new Array(60);r(h);var p=new Array(512);r(p);var v=new Array(256);r(v);var m=new Array(29);r(m);var g,b,y,w=new Array(a);function S(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}r(w);var C=function(e){return e<256?p[e]:p[256+(e>>>7)]},O=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},x=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,O(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},E=function(e,t,n){x(e,n[2*t],n[2*t+1])},_=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},T=function(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=s;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var c=e[2*i+1];0!==c&&(e[2*i]=_(o[c]++,c))}},I=function(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},A=function(e){e.bi_valid>8?O(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},M=function(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},P=function(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&M(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!M(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},j=function(e,t,n){var r,o,a,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===r?E(e,o,t):(a=v[o],E(e,a+i+1,t),0!==(s=c[a])&&(o-=m[a],x(e,o,s)),r--,a=C(r),E(e,a,n),0!==(s=u[a])&&(r-=w[a],x(e,r,s)))}while(l<e.last_lit);E(e,256,t)},R=function(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,c=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,c&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)P(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],P(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,P(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,c,u=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,v=t.stat_desc.max_length,m=0;for(o=0;o<=s;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>v&&(o=v,m++),u[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=p&&(a=h[r-p]),c=u[2*r],e.opt_len+=c*(o+a),f&&(e.static_len+=c*(d[2*r+1]+a)));if(0!==m){do{for(o=v-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[v]--,m-=2}while(m>0);for(o=v;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),T(o,l,e.bl_count)},D=function(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))},N=function(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<u)do{E(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(E(e,i,e.bl_tree),s--),E(e,16,e.bl_tree),x(e,s-3,2)):s<=10?(E(e,17,e.bl_tree),x(e,s-3,3)):(E(e,18,e.bl_tree),x(e,s-11,7));s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}},L=!1,F=function(e,t,n,r){x(e,0+(r?1:0),3),function(e,t,n,r){A(e),r&&(O(e,n),O(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},U=function(e,t,n,r){var o,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),R(e,e.l_desc),R(e,e.d_desc),s=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?F(e,t,n,r):4===e.strategy||a===o?(x(e,2+(r?1:0),3),j(e,f,h)):(x(e,4+(r?1:0),3),function(e,t,n,r){var i;for(x(e,t-257,5),x(e,n-1,5),x(e,r-4,4),i=0;i<r;i++)x(e,e.bl_tree[2*d[i]+1],3);N(e,e.dyn_ltree,t-1),N(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),j(e,e.dyn_ltree,e.dyn_dtree)),I(e),r&&A(e)},B={_tr_init:function(e){L||(!function(){var e,t,n,r,i,d=new Array(16);for(n=0,r=0;r<28;r++)for(m[r]=n,e=0;e<1<<c[r];e++)v[n++]=r;for(v[n-1]=r,i=0,r=0;r<16;r++)for(w[r]=i,e=0;e<1<<u[r];e++)p[i++]=r;for(i>>=7;r<a;r++)for(w[r]=i<<7,e=0;e<1<<u[r]-7;e++)p[256+i++]=r;for(t=0;t<=s;t++)d[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,d[8]++;for(;e<=255;)f[2*e+1]=9,e++,d[9]++;for(;e<=279;)f[2*e+1]=7,e++,d[7]++;for(;e<=287;)f[2*e+1]=8,e++,d[8]++;for(T(f,287,d),e=0;e<a;e++)h[2*e+1]=5,h[2*e]=_(e,5);g=new S(f,c,257,o,s),b=new S(h,u,0,a,s),y=new S(new Array(0),l,0,19,7)}(),L=!0),e.l_desc=new k(e.dyn_ltree,g),e.d_desc=new k(e.dyn_dtree,b),e.bl_desc=new k(e.bl_tree,y),e.bi_buf=0,e.bi_valid=0,I(e)},_tr_stored_block:F,_tr_flush_block:U,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+i+1)]++,e.dyn_dtree[2*C(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){x(e,2,3),E(e,256,f),function(e){16===e.bi_valid?(O(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},V=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0},z=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),H=function(e,t,n,r){var i=z,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},W={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},K=B._tr_init,G=B._tr_stored_block,J=B._tr_flush_block,$=B._tr_tally,Y=B._tr_align,Q=q.Z_NO_FLUSH,Z=q.Z_PARTIAL_FLUSH,X=q.Z_FULL_FLUSH,ee=q.Z_FINISH,te=q.Z_BLOCK,ne=q.Z_OK,re=q.Z_STREAM_END,ie=q.Z_STREAM_ERROR,oe=q.Z_DATA_ERROR,ae=q.Z_BUF_ERROR,se=q.Z_DEFAULT_COMPRESSION,ce=q.Z_FILTERED,ue=q.Z_HUFFMAN_ONLY,le=q.Z_RLE,de=q.Z_FIXED,fe=q.Z_DEFAULT_STRATEGY,he=q.Z_UNKNOWN,pe=q.Z_DEFLATED,ve=258,me=262,ge=103,be=113,ye=666,we=function(e,t){return e.msg=W[t],t},Se=function(e){return(e<<1)-(e>4?9:0)},ke=function(e){for(var t=e.length;--t>=0;)e[t]=0},Ce=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Oe=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},xe=function(e,t){J(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Oe(e.strm)},Ee=function(e,t){e.pending_buf[e.pending++]=t},_e=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Te=function(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=V(e.adler,t,i,n):2===e.state.wrap&&(e.adler=H(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Ie=function(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-me?e.strstart-(e.w_size-me):0,u=e.window,l=e.w_mask,d=e.prev,f=e.strstart+ve,h=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=ve-(f-o),o=f-ve,r>a){if(e.match_start=t,a=r,r>=s)break;h=u[o+a-1],p=u[o+a]}}}while((t=d[t&l])>c&&0!==--i);return a<=e.lookahead?a:e.lookahead},Ae=function(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-me)){e.window.set(e.window.subarray(a,a+a),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=Te(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Ce(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Ce(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<me&&0!==e.strm.avail_in)},Me=function(e,t){for(var n,r;;){if(e.lookahead<me){if(Ae(e),e.lookahead<me&&t===Q)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ce(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-me&&(e.match_length=Ie(e,n)),e.match_length>=3)if(r=$(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ce(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ce(e,e.ins_h,e.window[e.strstart+1]);else r=$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(xe(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ee?(xe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(xe(e,!1),0===e.strm.avail_out)?1:2},Pe=function(e,t){for(var n,r,i;;){if(e.lookahead<me){if(Ae(e),e.lookahead<me&&t===Q)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ce(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-me&&(e.match_length=Ie(e,n),e.match_length<=5&&(e.strategy===ce||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=$(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Ce(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(xe(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=$(e,0,e.window[e.strstart-1]))&&xe(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=$(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ee?(xe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(xe(e,!1),0===e.strm.avail_out)?1:2};function je(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var Re=[new je(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ae(e),0===e.lookahead&&t===Q)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,xe(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-me&&(xe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(xe(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(xe(e,!1),e.strm.avail_out),1)})),new je(4,4,8,4,Me),new je(4,5,16,8,Me),new je(4,6,32,32,Me),new je(4,4,16,16,Pe),new je(8,16,32,32,Pe),new je(8,16,128,128,Pe),new je(8,32,128,256,Pe),new je(32,128,258,1024,Pe),new je(32,258,258,4096,Pe)];function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ne=function(e){if(!e||!e.state)return we(e,ie);e.total_in=e.total_out=0,e.data_type=he;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:be,e.adler=2===t.wrap?0:1,t.last_flush=Q,K(t),ne},Le=function(e){var t,n=Ne(e);return n===ne&&((t=e.state).window_size=2*t.w_size,ke(t.head),t.max_lazy_match=Re[t.level].max_lazy,t.good_match=Re[t.level].good_length,t.nice_match=Re[t.level].nice_length,t.max_chain_length=Re[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},Fe=function(e,t,n,r,i,o){if(!e)return ie;var a=1;if(t===se&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==pe||r<8||r>15||t<0||t>9||o<0||o>de)return we(e,ie);8===r&&(r=9);var s=new De;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Le(e)},Ue={deflateInit:function(e,t){return Fe(e,t,pe,15,8,fe)},deflateInit2:Fe,deflateReset:Le,deflateResetKeep:Ne,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?ie:(e.state.gzhead=t,ne):ie},deflate:function(e,t){var n,r;if(!e||!e.state||t>te||t<0)return e?we(e,ie):ie;var i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===ye&&t!==ee)return we(e,0===e.avail_out?ae:ie);i.strm=e;var o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Ee(i,31),Ee(i,139),Ee(i,8),i.gzhead?(Ee(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Ee(i,255&i.gzhead.time),Ee(i,i.gzhead.time>>8&255),Ee(i,i.gzhead.time>>16&255),Ee(i,i.gzhead.time>>24&255),Ee(i,9===i.level?2:i.strategy>=ue||i.level<2?4:0),Ee(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Ee(i,255&i.gzhead.extra.length),Ee(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=H(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Ee(i,0),Ee(i,0),Ee(i,0),Ee(i,0),Ee(i,0),Ee(i,9===i.level?2:i.strategy>=ue||i.level<2?4:0),Ee(i,3),i.status=be);else{var a=pe+(i.w_bits-8<<4)<<8;a|=(i.strategy>=ue||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=be,_e(i,a),0!==i.strstart&&(_e(i,e.adler>>>16),_e(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),Oe(e),n=i.pending,i.pending!==i.pending_buf_size));)Ee(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),Oe(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Ee(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),Oe(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Ee(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=ge)}else i.status=ge;if(i.status===ge&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Oe(e),i.pending+2<=i.pending_buf_size&&(Ee(i,255&e.adler),Ee(i,e.adler>>8&255),e.adler=0,i.status=be)):i.status=be),0!==i.pending){if(Oe(e),0===e.avail_out)return i.last_flush=-1,ne}else if(0===e.avail_in&&Se(t)<=Se(o)&&t!==ee)return we(e,ae);if(i.status===ye&&0!==e.avail_in)return we(e,ae);if(0!==e.avail_in||0!==i.lookahead||t!==Q&&i.status!==ye){var s=i.strategy===ue?function(e,t){for(var n;;){if(0===e.lookahead&&(Ae(e),0===e.lookahead)){if(t===Q)return 1;break}if(e.match_length=0,n=$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(xe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(xe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(xe(e,!1),0===e.strm.avail_out)?1:2}(i,t):i.strategy===le?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=ve){if(Ae(e),e.lookahead<=ve&&t===Q)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+ve;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=ve-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=$(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(xe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(xe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(xe(e,!1),0===e.strm.avail_out)?1:2}(i,t):Re[i.level].func(i,t);if(3!==s&&4!==s||(i.status=ye),1===s||3===s)return 0===e.avail_out&&(i.last_flush=-1),ne;if(2===s&&(t===Z?Y(i):t!==te&&(G(i,0,0,!1),t===X&&(ke(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Oe(e),0===e.avail_out))return i.last_flush=-1,ne}return t!==ee?ne:i.wrap<=0?re:(2===i.wrap?(Ee(i,255&e.adler),Ee(i,e.adler>>8&255),Ee(i,e.adler>>16&255),Ee(i,e.adler>>24&255),Ee(i,255&e.total_in),Ee(i,e.total_in>>8&255),Ee(i,e.total_in>>16&255),Ee(i,e.total_in>>24&255)):(_e(i,e.adler>>>16),_e(i,65535&e.adler)),Oe(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ne:re)},deflateEnd:function(e){if(!e||!e.state)return ie;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==ge&&t!==be&&t!==ye?we(e,ie):(e.state=null,t===be?we(e,oe):ne)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return ie;var r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return ie;if(1===i&&(e.adler=V(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(ke(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}var a=e.avail_in,s=e.next_in,c=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ae(r);r.lookahead>=3;){var u=r.strstart,l=r.lookahead-2;do{r.ins_h=Ce(r,r.ins_h,r.window[u+3-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++}while(--l);r.strstart=u,r.lookahead=2,Ae(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=c,e.avail_in=a,r.wrap=i,ne},deflateInfo:"pako deflate (from Nodeca project)"},Be=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ve=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)Be(n,r)&&(e[r]=n[r])}}return e},ze=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var i=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var c=e[o];i.set(c,a),a+=c.length}return i},He=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(yn){He=!1}for(var We=new Uint8Array(256),qe=0;qe<256;qe++)We[qe]=qe>=252?6:qe>=248?5:qe>=240?4:qe>=224?3:qe>=192?2:1;We[254]=We[254]=1;var Ke=function(e){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320===(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320===(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Ge=function(e,t){var n,r,i=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*i);for(r=0,n=0;n<i;){var a=e[n++];if(a<128)o[r++]=a;else{var s=We[a];if(s>4)o[r++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<i;)a=a<<6|63&e[n++],s--;s>1?o[r++]=65533:a<65536?o[r++]=a:(a-=65536,o[r++]=55296|a>>10&1023,o[r++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&He)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}(o,r)},Je=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+We[e[n]]>t?n:t};var $e=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Ye=Object.prototype.toString,Qe=q.Z_NO_FLUSH,Ze=q.Z_SYNC_FLUSH,Xe=q.Z_FULL_FLUSH,et=q.Z_FINISH,tt=q.Z_OK,nt=q.Z_STREAM_END,rt=q.Z_DEFAULT_COMPRESSION,it=q.Z_DEFAULT_STRATEGY,ot=q.Z_DEFLATED;function at(e){this.options=Ve({level:rt,method:ot,chunkSize:16384,windowBits:15,memLevel:8,strategy:it},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $e,this.strm.avail_out=0;var n=Ue.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==tt)throw new Error(W[n]);if(t.header&&Ue.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"===typeof t.dictionary?Ke(t.dictionary):"[object ArrayBuffer]"===Ye.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=Ue.deflateSetDictionary(this.strm,r))!==tt)throw new Error(W[n]);this._dict_set=!0}}function st(e,t){var n=new at(t);if(n.push(e,!0),n.err)throw n.msg||W[n.err];return n.result}at.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?et:Qe,"string"===typeof e?i.input=Ke(e):"[object ArrayBuffer]"===Ye.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r===Ze||r===Xe)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=Ue.deflate(i,r))===nt)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=Ue.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===tt;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},at.prototype.onData=function(e){this.chunks.push(e)},at.prototype.onEnd=function(e){e===tt&&(this.result=ze(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ct={Deflate:at,deflate:st,deflateRaw:function(e,t){return(t=t||{}).raw=!0,st(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,st(e,t)},constants:q},ut=function(e,t){var n,r,i,o,a,s,c,u,l,d,f,h,p,v,m,g,b,y,w,S,k,C,O,x,E=e.state;n=e.next_in,O=e.input,r=n+(e.avail_in-5),i=e.next_out,x=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=E.dmax,c=E.wsize,u=E.whave,l=E.wnext,d=E.window,f=E.hold,h=E.bits,p=E.lencode,v=E.distcode,m=(1<<E.lenbits)-1,g=(1<<E.distbits)-1;e:do{h<15&&(f+=O[n++]<<h,h+=8,f+=O[n++]<<h,h+=8),b=p[f&m];t:for(;;){if(f>>>=y=b>>>24,h-=y,0===(y=b>>>16&255))x[i++]=65535&b;else{if(!(16&y)){if(0===(64&y)){b=p[(65535&b)+(f&(1<<y)-1)];continue t}if(32&y){E.mode=12;break e}e.msg="invalid literal/length code",E.mode=30;break e}w=65535&b,(y&=15)&&(h<y&&(f+=O[n++]<<h,h+=8),w+=f&(1<<y)-1,f>>>=y,h-=y),h<15&&(f+=O[n++]<<h,h+=8,f+=O[n++]<<h,h+=8),b=v[f&g];n:for(;;){if(f>>>=y=b>>>24,h-=y,!(16&(y=b>>>16&255))){if(0===(64&y)){b=v[(65535&b)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",E.mode=30;break e}if(S=65535&b,h<(y&=15)&&(f+=O[n++]<<h,(h+=8)<y&&(f+=O[n++]<<h,h+=8)),(S+=f&(1<<y)-1)>s){e.msg="invalid distance too far back",E.mode=30;break e}if(f>>>=y,h-=y,S>(y=i-o)){if((y=S-y)>u&&E.sane){e.msg="invalid distance too far back",E.mode=30;break e}if(k=0,C=d,0===l){if(k+=c-y,y<w){w-=y;do{x[i++]=d[k++]}while(--y);k=i-S,C=x}}else if(l<y){if(k+=c+l-y,(y-=l)<w){w-=y;do{x[i++]=d[k++]}while(--y);if(k=0,l<w){w-=y=l;do{x[i++]=d[k++]}while(--y);k=i-S,C=x}}}else if(k+=l-y,y<w){w-=y;do{x[i++]=d[k++]}while(--y);k=i-S,C=x}for(;w>2;)x[i++]=C[k++],x[i++]=C[k++],x[i++]=C[k++],w-=3;w&&(x[i++]=C[k++],w>1&&(x[i++]=C[k++]))}else{k=i-S;do{x[i++]=x[k++],x[i++]=x[k++],x[i++]=x[k++],w-=3}while(w>2);w&&(x[i++]=x[k++],w>1&&(x[i++]=x[k++]))}break}}break}}while(n<r&&i<a);n-=w=h>>3,f&=(1<<(h-=w<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),E.hold=f,E.bits=h},lt=15,dt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ft=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ht=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vt=function(e,t,n,r,i,o,a,s){var c,u,l,d,f,h,p,v,m,g=s.bits,b=0,y=0,w=0,S=0,k=0,C=0,O=0,x=0,E=0,_=0,T=null,I=0,A=new Uint16Array(16),M=new Uint16Array(16),P=null,j=0;for(b=0;b<=lt;b++)A[b]=0;for(y=0;y<r;y++)A[t[n+y]]++;for(k=g,S=lt;S>=1&&0===A[S];S--);if(k>S&&(k=S),0===S)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(w=1;w<S&&0===A[w];w++);for(k<w&&(k=w),x=1,b=1;b<=lt;b++)if(x<<=1,(x-=A[b])<0)return-1;if(x>0&&(0===e||1!==S))return-1;for(M[1]=0,b=1;b<lt;b++)M[b+1]=M[b]+A[b];for(y=0;y<r;y++)0!==t[n+y]&&(a[M[t[n+y]]++]=y);if(0===e?(T=P=a,h=19):1===e?(T=dt,I-=257,P=ft,j-=257,h=256):(T=ht,P=pt,h=-1),_=0,y=0,b=w,f=o,C=k,O=0,l=-1,d=(E=1<<k)-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){p=b-O,a[y]<h?(v=0,m=a[y]):a[y]>h?(v=P[j+a[y]],m=T[I+a[y]]):(v=96,m=0),c=1<<b-O,w=u=1<<C;do{i[f+(_>>O)+(u-=c)]=p<<24|v<<16|m|0}while(0!==u);for(c=1<<b-1;_&c;)c>>=1;if(0!==c?(_&=c-1,_+=c):_=0,y++,0===--A[b]){if(b===S)break;b=t[n+a[y]]}if(b>k&&(_&d)!==l){for(0===O&&(O=k),f+=w,x=1<<(C=b-O);C+O<S&&!((x-=A[C+O])<=0);)C++,x<<=1;if(E+=1<<C,1===e&&E>852||2===e&&E>592)return 1;i[l=_&d]=k<<24|C<<16|f-o|0}}return 0!==_&&(i[f+_]=b-O<<24|64<<16|0),s.bits=k,0},mt=q.Z_FINISH,gt=q.Z_BLOCK,bt=q.Z_TREES,yt=q.Z_OK,wt=q.Z_STREAM_END,St=q.Z_NEED_DICT,kt=q.Z_STREAM_ERROR,Ct=q.Z_DATA_ERROR,Ot=q.Z_MEM_ERROR,xt=q.Z_BUF_ERROR,Et=q.Z_DEFLATED,_t=12,Tt=30,It=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function At(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Mt,Pt,jt=function(e){if(!e||!e.state)return kt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,yt},Rt=function(e){if(!e||!e.state)return kt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,jt(e)},Dt=function(e,t){var n;if(!e||!e.state)return kt;var r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?kt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Rt(e))},Nt=function(e,t){if(!e)return kt;var n=new At;e.state=n,n.window=null;var r=Dt(e,t);return r!==yt&&(e.state=null),r},Lt=!0,Ft=function(e){if(Lt){Mt=new Int32Array(512),Pt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(vt(1,e.lens,0,288,Mt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;vt(2,e.lens,0,32,Pt,0,e.work,{bits:5}),Lt=!1}e.lencode=Mt,e.lenbits=9,e.distcode=Pt,e.distbits=5},Ut=function(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Bt={inflateReset:Rt,inflateReset2:Dt,inflateResetKeep:jt,inflateInit:function(e){return Nt(e,15)},inflateInit2:Nt,inflate:function(e,t){var n,r,i,o,a,s,c,u,l,d,f,h,p,v,m,g,b,y,w,S,k,C,O,x,E=0,_=new Uint8Array(4),T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return kt;(n=e.state).mode===_t&&(n.mode=13),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,d=s,f=c,C=yt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===u){n.check=0,_[0]=255&u,_[1]=u>>>8&255,n.check=H(n.check,_,2,0),u=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Tt;break}if((15&u)!==Et){e.msg="unknown compression method",n.mode=Tt;break}if(l-=4,k=8+(15&(u>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){e.msg="invalid window size",n.mode=Tt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&u?10:_t,u=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==Et){e.msg="unknown compression method",n.mode=Tt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Tt;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(_[0]=255&u,_[1]=u>>>8&255,n.check=H(n.check,_,2,0)),u=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&(_[0]=255&u,_[1]=u>>>8&255,_[2]=u>>>16&255,_[3]=u>>>24&255,n.check=H(n.check,_,4,0)),u=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(_[0]=255&u,_[1]=u>>>8&255,n.check=H(n.check,_,2,0)),u=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(_[0]=255&u,_[1]=u>>>8&255,n.check=H(n.check,_,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),k)),512&n.flags&&(n.check=H(n.check,r,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{k=r[o+h++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&h<s);if(512&n.flags&&(n.check=H(n.check,r,h,o)),s-=h,o+=h,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{k=r[o+h++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&h<s);if(512&n.flags&&(n.check=H(n.check,r,h,o)),s-=h,o+=h,k)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Tt;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=_t;break;case 10:for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}e.adler=n.check=It(u),u=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,St;e.adler=n.check=1,n.mode=_t;case _t:if(t===gt||t===bt)break e;case 13:if(n.last){u>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}switch(n.last=1&u,l-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(Ft(n),n.mode=20,t===bt){u>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Tt}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if((65535&u)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Tt;break}if(n.length=65535&u,u=0,l=0,n.mode=15,t===bt)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>s&&(h=s),h>c&&(h=c),0===h)break e;i.set(r.subarray(o,o+h),a),s-=h,o+=h,c-=h,a+=h,n.length-=h;break}n.mode=_t;break;case 17:for(;l<14;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Tt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.lens[T[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},C=vt(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,C){e.msg="invalid code lengths set",n.mode=Tt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;g=(E=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,b=65535&E,!((m=E>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(b<16)u>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(x=m+2;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Tt;break}k=n.lens[n.have-1],h=3+(3&u),u>>>=2,l-=2}else if(17===b){for(x=m+3;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}l-=m,k=0,h=3+(7&(u>>>=m)),u>>>=3,l-=3}else{for(x=m+7;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}l-=m,k=0,h=11+(127&(u>>>=m)),u>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Tt;break}for(;h--;)n.lens[n.have++]=k}}if(n.mode===Tt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Tt;break}if(n.lenbits=9,O={bits:n.lenbits},C=vt(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,C){e.msg="invalid literal/lengths set",n.mode=Tt;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},C=vt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,C){e.msg="invalid distances set",n.mode=Tt;break}if(n.mode=20,t===bt)break e;case 20:n.mode=21;case 21:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,ut(e,f),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,n.mode===_t&&(n.back=-1);break}for(n.back=0;g=(E=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,b=65535&E,!((m=E>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(g&&0===(240&g)){for(y=m,w=g,S=b;g=(E=n.lencode[S+((u&(1<<y+w)-1)>>y)])>>>16&255,b=65535&E,!(y+(m=E>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}u>>>=y,l-=y,n.back+=y}if(u>>>=m,l-=m,n.back+=m,n.length=b,0===g){n.mode=26;break}if(32&g){n.back=-1,n.mode=_t;break}if(64&g){e.msg="invalid literal/length code",n.mode=Tt;break}n.extra=15&g,n.mode=22;case 22:if(n.extra){for(x=n.extra;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;g=(E=n.distcode[u&(1<<n.distbits)-1])>>>16&255,b=65535&E,!((m=E>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(0===(240&g)){for(y=m,w=g,S=b;g=(E=n.distcode[S+((u&(1<<y+w)-1)>>y)])>>>16&255,b=65535&E,!(y+(m=E>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}u>>>=y,l-=y,n.back+=y}if(u>>>=m,l-=m,n.back+=m,64&g){e.msg="invalid distance code",n.mode=Tt;break}n.offset=b,n.extra=15&g,n.mode=24;case 24:if(n.extra){for(x=n.extra;l<x;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Tt;break}n.mode=25;case 25:if(0===c)break e;if(h=f-c,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Tt;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=i,p=a-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do{i[a++]=v[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===c)break e;i[a++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,u|=r[o++]<<l,l+=8}if(f-=c,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?H(n.check,i,f,a-f):V(n.check,i,f,a-f)),f=c,(n.flags?u:It(u))!==n.check){e.msg="incorrect data check",n.mode=Tt;break}u=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Tt;break}u=0,l=0}n.mode=29;case 29:C=wt;break e;case Tt:C=Ct;break e;case 31:return Ot;default:return kt}return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<Tt&&(n.mode<27||t!==mt))&&Ut(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?H(n.check,i,f,e.next_out-f):V(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===_t?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===f||t===mt)&&C===yt&&(C=xt),C},inflateEnd:function(e){if(!e||!e.state)return kt;var t=e.state;return t.window&&(t.window=null),e.state=null,yt},inflateGetHeader:function(e,t){if(!e||!e.state)return kt;var n=e.state;return 0===(2&n.wrap)?kt:(n.head=t,t.done=!1,yt)},inflateSetDictionary:function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?kt:11===n.mode&&V(1,t,r,0)!==n.check?Ct:Ut(e,t,r,r)?(n.mode=31,Ot):(n.havedict=1,yt):kt},inflateInfo:"pako inflate (from Nodeca project)"};var Vt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},zt=Object.prototype.toString,Ht=q.Z_NO_FLUSH,Wt=q.Z_FINISH,qt=q.Z_OK,Kt=q.Z_STREAM_END,Gt=q.Z_NEED_DICT,Jt=q.Z_STREAM_ERROR,$t=q.Z_DATA_ERROR,Yt=q.Z_MEM_ERROR;function Qt(e){this.options=Ve({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $e,this.strm.avail_out=0;var n=Bt.inflateInit2(this.strm,t.windowBits);if(n!==qt)throw new Error(W[n]);if(this.header=new Vt,Bt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Ke(t.dictionary):"[object ArrayBuffer]"===zt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Bt.inflateSetDictionary(this.strm,t.dictionary))!==qt))throw new Error(W[n])}function Zt(e,t){var n=new Qt(t);if(n.push(e),n.err)throw n.msg||W[n.err];return n.result}Qt.prototype.push=function(e,t){var n,r,i,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?Wt:Ht,"[object ArrayBuffer]"===zt.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=Bt.inflate(o,r))===Gt&&s&&((n=Bt.inflateSetDictionary(o,s))===qt?n=Bt.inflate(o,r):n===$t&&(n=Gt));o.avail_in>0&&n===Kt&&o.state.wrap>0&&0!==e[o.next_in];)Bt.inflateReset(o),n=Bt.inflate(o,r);switch(n){case Jt:case $t:case Gt:case Yt:return this.onEnd(n),this.ended=!0,!1}if(i=o.avail_out,o.next_out&&(0===o.avail_out||n===Kt))if("string"===this.options.to){var c=Je(o.output,o.next_out),u=o.next_out-c,l=Ge(o.output,c);o.next_out=u,o.avail_out=a-u,u&&o.output.set(o.output.subarray(c,c+u),0),this.onData(l)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==qt||0!==i){if(n===Kt)return n=Bt.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},Qt.prototype.onData=function(e){this.chunks.push(e)},Qt.prototype.onEnd=function(e){e===qt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ze(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Xt={Inflate:Qt,inflate:Zt,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Zt(e,t)},ungzip:Zt,constants:q},en=ct.Deflate,tn=ct.deflate,nn=ct.deflateRaw,rn=ct.gzip,on=Xt.Inflate,an=Xt.inflate,sn=Xt.inflateRaw,cn=Xt.ungzip,un=en,ln=tn,dn=nn,fn=rn,hn=on,pn=an,vn=sn,mn=cn,gn=q,bn={Deflate:en,deflate:tn,deflateRaw:nn,gzip:rn,Inflate:on,inflate:an,inflateRaw:sn,ungzip:cn,constants:q}},function(e,t,n){var r=n(183),i=n(230);function o(e,t,n,a){return o="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,o){var a,s=r(e,t);if(s){if((a=Object.getOwnPropertyDescriptor(s,t)).set)return a.set.call(o,n),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(o,t)){if(!a.writable)return!1;a.value=n,Object.defineProperty(o,t,a)}else i(o,t,n);return!0},o(e,t,n,a)}e.exports=function(e,t,n,r,i){if(!o(e,t,n,r||e)&&i)throw new Error("failed to set property");return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var r=n(58).default;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t={},n=0,i=Object.entries(e);n<i.length;n++){var o=r(i[n],2),a=o[0],s=o[1];if(null!==s&&void 0!==s&&""!==s){if("number"!==typeof s&&"string"!==typeof s)throw new TypeError("Unhandled type received while flattening attributes.");t[a]=s}}return t}},function(e,t,n){"use strict";var r=n(9).default,i=n(10).default,o=n(7).default,a=n(2).default,s=n(3).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(146),l=n(31),d=n(142),f=n(143),h=n(19),p=n(154),v=n(190),m=n(191),g=n(192),b=n(193),y=n(194),w=n(195),S=n(196),k=n(197),C=n(198),O=n(292),x=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new O.default;a(this,e),this.logger=t,this.meetingSession=n,this.configuration=r,this.browserBehavior=new l.default}return s(e,[{key:"checkAudioInput",value:function(e){return c(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.meetingSession.audioVideo.startAudioInput(e);case 3:return t.next=5,this.meetingSession.audioVideo.stopAudioInput();case 5:return t.abrupt("return",m.default.Succeeded);case 8:if(t.prev=8,t.t0=t.catch(0),this.logger.error("MeetingReadinessChecker: Audio input check failed with error ".concat(t.t0)),!(t.t0 instanceof f.default)){t.next=13;break}return t.abrupt("return",m.default.PermissionDenied);case 13:return t.abrupt("return",m.default.Failed);case 14:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"checkAudioOutput",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return c(this,void 0,void 0,o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=e?d.default.getIntrinsicDeviceId(e):"",r.next=4,this.playTone(i,440,n);case 4:return r.next=6,t();case 6:if(!r.sent){r.next=9;break}return r.abrupt("return",g.default.Succeeded);case 9:return r.abrupt("return",g.default.Failed);case 12:return r.prev=12,r.t0=r.catch(0),this.logger.error("MeetingReadinessChecker: Audio output check failed with error: ".concat(r.t0)),r.abrupt("return",g.default.Failed);case 16:return r.prev=16,this.stopTone(),r.finish(16);case 19:case"end":return r.stop()}}),r,this,[[0,12,16,19]])})))}},{key:"playTone",value:function(e,t,n){return c(this,void 0,void 0,o().mark((function r(){var i,a,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(.1,.1,this.oscillatorNode&&this.stopTone(),this.audioContext=d.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=t,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream),i=this.audioContext.currentTime,a=i+.1,this.gainNode.gain.linearRampToValueAtTime(0,a),this.gainNode.gain.linearRampToValueAtTime(.1,a+.1),this.oscillatorNode.start(),s=new u.default(this.logger),r.prev=17,!this.browserBehavior.supportsSetSinkId()){r.next=21;break}return r.next=21,s.bindAudioDevice({deviceId:e});case 21:r.next=26;break;case 23:r.prev=23,r.t0=r.catch(17),this.logger.error("Failed to bind audio device: ".concat(r.t0));case 26:return r.prev=26,r.next=29,s.bindAudioElement(n||new Audio);case 29:r.next=34;break;case 31:r.prev=31,r.t1=r.catch(26),this.logger.error("Failed to bind audio element: ".concat(r.t1));case 34:return r.next=36,s.bindAudioStream(this.destinationStream.stream);case 36:case"end":return r.stop()}}),r,this,[[17,23],[26,31]])})))}},{key:"stopTone",value:function(){if(this.audioContext&&this.gainNode&&this.oscillatorNode&&this.destinationStream){var e=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(.1,e+.1+1),this.gainNode.gain.linearRampToValueAtTime(0,e+.2+1),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}}},{key:"checkVideoInput",value:function(e){return c(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.meetingSession.audioVideo.startVideoInput(e);case 3:return t.next=5,this.meetingSession.audioVideo.stopVideoInput();case 5:return t.abrupt("return",C.default.Succeeded);case 8:if(t.prev=8,t.t0=t.catch(0),this.logger.error("MeetingReadinessChecker: Video check failed with error ".concat(t.t0)),!(t.t0 instanceof f.default)){t.next=13;break}return t.abrupt("return",C.default.PermissionDenied);case 13:return t.abrupt("return",C.default.Failed);case 14:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"checkCameraResolution",value:function(e,t,n){return c(this,void 0,void 0,o().mark((function r(){var i,a,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=d.default.getIntrinsicDeviceId(e),s={video:this.calculateVideoConstraint(a,t,n)},r.next=5,navigator.mediaDevices.getUserMedia(s);case 5:i=r.sent,r.next=16;break;case 8:if(r.prev=8,r.t0=r.catch(0),this.logger.error("MeetingReadinessChecker: Camera resolution check with width: ".concat(t," height ").concat(n," failed with error ").concat(r.t0)),!r.t0||"OverconstrainedError"!==r.t0.name){r.next=13;break}return r.abrupt("return",b.default.ResolutionNotSupported);case 13:if(!r.t0||"NotAllowedError"!==r.t0.name){r.next=15;break}return r.abrupt("return",b.default.PermissionDenied);case 15:return r.abrupt("return",b.default.Failed);case 16:return r.prev=16,i&&i.getTracks().forEach((function(e){e.stop()})),r.finish(16);case 19:return r.abrupt("return",b.default.Succeeded);case 20:case"end":return r.stop()}}),r,this,[[0,8,16,19]])})))}},{key:"calculateVideoConstraint",value:function(e,t,n){var r=this.browserBehavior.requiresResolutionAlignment(t,n),i={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(i.deviceId=e,i.width=t,i.height=n):(i.deviceId={exact:e},i.width={exact:r[0]},i.height={exact:r[1]}),i}},{key:"checkContentShareConnectivity",value:function(e){return c(this,void 0,void 0,o().mark((function t(){var n,r,i,a,s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,r=!1,i={contentShareDidStart:function(){n=!0}},a={audioVideoDidStart:function(){r=!0}},t.prev=4,this.meetingSession.audioVideo.addObserver(a),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(i),t.next=10,this.meetingSession.audioVideo.startContentShareFromScreenCapture(e);case 10:return t.next=12,this.executeTimeoutTask((function(){return c(s,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r&&n);case 1:case"end":return e.stop()}}),e)})))}));case 12:if(r){t.next=14;break}return t.abrupt("return",y.default.ConnectionFailed);case 14:return t.next=16,this.stopMeeting();case 16:return t.abrupt("return",n?y.default.Succeeded:y.default.TimedOut);case 19:if(t.prev=19,t.t0=t.catch(4),this.logger.error("MeetingReadinessChecker: Content share check failed with error ".concat(t.t0)),"NotAllowedError"!==t.t0.name){t.next=26;break}return t.abrupt("return",y.default.PermissionDenied);case 26:return t.abrupt("return",y.default.Failed);case 27:return t.prev=27,this.meetingSession.audioVideo.removeObserver(a),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(i),t.finish(27);case 32:case"end":return t.stop()}}),t,this,[[4,19,27,32]])})))}},{key:"checkAudioConnectivity",value:function(e){return c(this,void 0,void 0,o().mark((function t(){var n,r,i,a=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,r=this.meetingSession.audioVideo,i=function(e,t,r,i){e===a.meetingSession.configuration.credentials.attendeeId&&t&&(n=!0)},t.prev=3,t.next=6,r.startAudioInput(e);case 6:t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(3),this.logger.error("MeetingReadinessChecker: Failed to get audio input device with error ".concat(t.t0)),!(t.t0 instanceof f.default)){t.next=13;break}return t.abrupt("return",v.default.AudioInputPermissionDenied);case 13:return t.abrupt("return",v.default.AudioInputRequestFailed);case 14:return r.realtimeSubscribeToAttendeeIdPresence(i),t.next=17,this.startMeeting();case 17:if(t.sent){t.next=22;break}return r.realtimeUnsubscribeToAttendeeIdPresence(i),t.next=21,this.meetingSession.audioVideo.stopAudioInput();case 21:return t.abrupt("return",v.default.ConnectionFailed);case 22:return t.next=24,this.executeTimeoutTask((function(){return c(a,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)})))}));case 24:return r.realtimeUnsubscribeToAttendeeIdPresence(i),t.next=27,this.stopMeeting();case 27:return t.next=29,this.meetingSession.audioVideo.stopAudioInput();case 29:return t.abrupt("return",n?v.default.Succeeded:v.default.AudioNotReceived);case 30:case"end":return t.stop()}}),t,this,[[3,8]])})))}},{key:"checkVideoConnectivity",value:function(e){return c(this,void 0,void 0,o().mark((function t(){var n,r,i,a=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.meetingSession.audioVideo,r=0,i={metricsDidReceive:function(e){e.getRTCStatsReport().forEach((function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&(r=e.packetsSent)}))}},t.prev=3,t.next=6,n.startVideoInput(e);case 6:t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(3),this.logger.error("MeetingReadinessChecker: Failed to get video input device with error ".concat(t.t0)),!(t.t0 instanceof f.default)){t.next=13;break}return t.abrupt("return",k.default.VideoInputPermissionDenied);case 13:return t.abrupt("return",k.default.VideoInputRequestFailed);case 14:return n.addObserver(i),t.next=17,this.startMeeting();case 17:if(t.sent){t.next=19;break}return t.abrupt("return",k.default.ConnectionFailed);case 19:return n.startLocalVideoTile(),t.next=22,this.executeTimeoutTask((function(){return c(a,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r>0);case 1:case"end":return e.stop()}}),e)})))}));case 22:return t.next=24,n.stopVideoInput();case 24:return t.next=26,this.stopMeeting();case 26:if(n.removeObserver(i),!(r<=0)){t.next=29;break}return t.abrupt("return",k.default.VideoNotSent);case 29:return t.abrupt("return",k.default.Succeeded);case 30:case"end":return t.stop()}}),t,this,[[3,8]])})))}},{key:"checkNetworkUDPConnectivity",value:function(){return c(this,void 0,void 0,o().mark((function e(){var t,n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,n={metricsDidReceive:function(e){e.getRTCStatsReport().forEach((function(e){"candidate-pair"===e.type&&"succeeded"===e.state&&(t=!0)}))}},e.prev=2,this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),this.logger.error("MeetingSessionConfiguration.urls doesn't exist. Error: ".concat(e.t0)),e.abrupt("return",S.default.MeetingSessionURLsNotInitialized);case 10:return this.meetingSession.configuration.urls.urlRewriter=function(e){var t=i.originalURLRewriter(e);return t.includes("transport=tcp")?"":t},(r=this.meetingSession.audioVideo).addObserver(n),e.next=15,this.startMeeting();case 15:if(e.sent){e.next=18;break}return this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,e.abrupt("return",S.default.ConnectionFailed);case 18:return e.next=20,this.executeTimeoutTask((function(){return c(i,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})))}));case 20:return this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,e.next=23,this.stopMeeting();case 23:if(r.removeObserver(n),t){e.next=26;break}return e.abrupt("return",S.default.ICENegotiationFailed);case 26:return e.abrupt("return",S.default.Succeeded);case 27:case"end":return e.stop()}}),e,this,[[2,6]])})))}},{key:"checkNetworkTCPConnectivity",value:function(){return c(this,void 0,void 0,o().mark((function e(){var t,n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,n={metricsDidReceive:function(e){e.getRTCStatsReport().forEach((function(e){"candidate-pair"===e.type&&"succeeded"===e.state&&(t=!0)}))}},e.prev=2,this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),this.logger.error("MeetingSessionConfiguration.urls doesn't exist. Error: ".concat(e.t0)),e.abrupt("return",w.default.MeetingSessionURLsNotInitialized);case 10:return this.meetingSession.configuration.urls.urlRewriter=function(e){var t=i.originalURLRewriter(e);return t.includes("transport=udp")?"":t},(r=this.meetingSession.audioVideo).addObserver(n),e.next=15,this.startMeeting();case 15:if(e.sent){e.next=18;break}return this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,e.abrupt("return",w.default.ConnectionFailed);case 18:return e.next=20,this.executeTimeoutTask((function(){return c(i,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})))}));case 20:return this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,e.next=23,this.stopMeeting();case 23:if(r.removeObserver(n),t){e.next=26;break}return e.abrupt("return",w.default.ICENegotiationFailed);case 26:return e.abrupt("return",w.default.Succeeded);case 27:case"end":return e.stop()}}),e,this,[[2,6]])})))}},{key:"startMeeting",value:function(){return c(this,void 0,void 0,o().mark((function e(){var t,n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,n={audioVideoDidStart:function(){t=!0}},this.meetingSession.audioVideo.addObserver(n),this.meetingSession.audioVideo.start(),e.next=6,this.executeTimeoutTask((function(){return c(r,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})))}));case 6:return this.meetingSession.audioVideo.removeObserver(n),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"stopMeeting",value:function(){return c(this,void 0,void 0,o().mark((function e(){var t,n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,n={audioVideoDidStop:function(e){t=!0}},this.meetingSession.audioVideo.addObserver(n),this.meetingSession.audioVideo.stop(),e.next=6,this.executeTimeoutTask((function(){return c(r,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})))}));case 6:return this.meetingSession.audioVideo.removeObserver(n),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"executeTimeoutTask",value:function(t){return c(this,void 0,void 0,o().mark((function n(){var u,l,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=!1,l=function(n){r(d,n);var l=i(d);function d(e,t){var n;return a(this,d),(n=l.call(this,e)).waitDurationMs=t,n.isCancelled=!1,n}return s(d,[{key:"cancel",value:function(){this.isCancelled=!0}},{key:"run",value:function(){return c(this,void 0,void 0,o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isCancelled){n.next=10;break}return n.next=3,t();case 3:if(!n.sent){n.next=6;break}return u=!0,n.abrupt("break",10);case 6:return n.next=8,e.delay(this.waitDurationMs);case 8:n.next=0;break;case 10:case"end":return n.stop()}}),n,this)})))}}]),d}(h.default),d=new p.default(this.logger,new l(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs),n.next=5,d.run();case 5:return n.abrupt("return",u);case 6:case"end":return n.stop()}}),n,this)})))}}],[{key:"delay",value:function(e){return c(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))}}]),e}();t.default=x},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(147),c=n(282),u=n(66),l=n(31),d=n(208),f=n(283),h=n(141),p=n(114),v=n(163),m=n(115),g=n(116),b=function(){function e(t,n,r,o){i(this,e),this._eventController=o,this._configuration=t,this._logger=n,this.checkBrowserSupportAndFeatureConfiguration(),h.default.addLogger(this._logger),h.default.register(),this._eventController||(this._eventController=new v.default(t,n)),r.eventController||(r.eventController=this.eventController),this.audioVideoController=new s.default(this._configuration,this._logger,new g.default(this._logger),r,new m.default(this._configuration.reconnectTimeoutMs,new u.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=r;var a=new d.default(this._logger);this.contentShareController=new f.default(a,new s.default(f.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new g.default(this._logger),a,new m.default(this._configuration.reconnectTimeoutMs,new u.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new c.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}return o(e,[{key:"configuration",get:function(){return this._configuration}},{key:"logger",get:function(){return this._logger}},{key:"audioVideo",get:function(){return this.audioVideoFacade}},{key:"contentShare",get:function(){return this.contentShareController}},{key:"deviceController",get:function(){return this._deviceController}},{key:"eventController",get:function(){return this._eventController}},{key:"destroy",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.isDestroyable(this.contentShareController)){e.next=3;break}return e.next=3,this.contentShareController.destroy();case 3:if(!p.isDestroyable(this.audioVideoController)){e.next=6;break}return e.next=6,this.audioVideoController.destroy();case 6:if(!p.isDestroyable(this.eventController)){e.next=9;break}return e.next=9,this.eventController.destroy();case 9:h.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0;case 17:case"end":return e.stop()}}),e,this)})))}},{key:"checkBrowserSupportAndFeatureConfiguration",value:function(){var e=new l.default,t="".concat(e.name()," ").concat(e.majorVersion()," (").concat(e.version(),")");if(this.logger.info("browser is ".concat(t)),e.isSupported()||this.logger.warn("this browser is not currently supported. Stability may suffer. "+"Supported browsers are: ".concat(e.supportString(),".")),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!e.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(e.hasChromiumWebRTC()?this.logger.info("Simulcast is enabled for ".concat(e.name())):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")))}},{key:"isSimulcastUplinkPolicy",value:function(e){return!(!e||!e.addObserver)}}]),e}();t.default=b},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(545),u=n(66),l=n(141),d=n(300),f=n(115),h=n(47),p=n(301),v=n(116),m=n(109),g=n(304),b=function(){function e(t,n,r,i,a){o(this,e),this.configuration=t,this.logger=n,this.webSocket=r,this.reconnectController=i,this.sigV4=a,this.observerQueue=new Set,this.webSocket||(this.webSocket=new v.default(this.logger)),this.reconnectController||(this.reconnectController=new f.default(t.reconnectTimeoutMs,new u.default(t.reconnectFixedWaitMs,t.reconnectShortBackoffMs,t.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new p.default(this.configuration.chimeClient)),l.default.addLogger(this.logger),l.default.register()}return a(e,[{key:"addObserver",value:function(e){this.logger.info("adding messaging observer"),this.observerQueue.add(e)}},{key:"removeObserver",value:function(e){this.logger.info("removing messaging observer"),this.observerQueue.delete(e)}},{key:"start",value:function(){return s(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed()){e.next=5;break}return e.next=3,this.startConnecting(!1);case 3:e.next=6;break;case 5:this.logger.info("messaging session already started");case 6:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),l.default.removeLogger(this.logger))}},{key:"forEachObserver",value:function(e){var t,n=this,i=r(this.observerQueue);try{var o=function(){var r=t.value;h.default.nextTick((function(){n.observerQueue.has(r)&&e(r)}))};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}},{key:"setUpEventListeners",value:function(){var e=this;this.webSocket.addEventListener("open",(function(){e.openEventHandler()})),this.webSocket.addEventListener("message",(function(t){e.receiveMessageHandler(t.data)})),this.webSocket.addEventListener("close",(function(t){e.closeEventHandler(t)})),this.webSocket.addEventListener("error",(function(){e.logger.error("WebSocket error")}))}},{key:"startConnecting",value:function(e){return s(this,void 0,void 0,i().mark((function t(){var n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.configuration.endpointUrl,!e&&void 0!==n){t.next=21;break}if(t.prev=2,!(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function)){t.next=9;break}return t.next=6,this.configuration.chimeClient.getMessagingSessionEndpoint();case 6:n=t.sent.Endpoint.Url,t.next=12;break;case 9:return t.next=11,this.configuration.chimeClient.send(new c.GetMessagingSessionEndpointCommand({}));case 11:n=t.sent.Endpoint.Url;case 12:this.logger.debug("Messaging endpoint resolved to: ".concat(n)),t.next=21;break;case 15:return t.prev=15,t.t0=t.catch(2),this.logger.error("Messaging Session failed to resolve endpoint: ".concat(t.t0)),r=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1}),this.closeEventHandler(r),t.abrupt("return");case 21:return t.next=23,this.prepareWebSocketUrl(n);case 23:o=t.sent,this.logger.info("opening connection to ".concat(o)),e||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(o,[],!0),this.forEachObserver((function(t){t.messagingSessionDidStartConnecting&&t.messagingSessionDidStartConnecting(e)})),this.setUpEventListeners();case 30:case"end":return t.stop()}}),t,this,[[2,15]])})))}},{key:"prepareWebSocketUrl",value:function(e){return s(this,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Map).set("userArn",[this.configuration.userArn]),n.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===g.default.Connect&&n.set("prefetch-on",[g.default.Connect]),this.configuration.prefetchSortBy&&n.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),t.next=7,this.sigV4.signURL("GET","wss","chime",e,"/connect","",n);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"isClosed",value:function(){return this.webSocket.readyState()===m.default.None||this.webSocket.readyState()===m.default.Closed}},{key:"openEventHandler",value:function(){this.reconnectController.reset(),this.isSessionEstablished=!1}},{key:"receiveMessageHandler",value:function(e){try{var t=JSON.parse(e),n=t.Headers["x-amz-chime-event-type"],r=new d.default(n,t.Headers,t.Payload||null);if(this.isSessionEstablished||"SESSION_ESTABLISHED"!==n){if(!this.isSessionEstablished)return}else this.forEachObserver((function(e){e.messagingSessionDidStart&&e.messagingSessionDidStart()})),this.isSessionEstablished=!0;this.forEachObserver((function(e){e.messagingSessionDidReceiveMessage&&e.messagingSessionDidReceiveMessage(r)}))}catch(i){this.logger.error("Messaging parsing failed: ".concat(i))}}},{key:"retryConnection",value:function(){var e=this;return this.reconnectController.retryWithBackoff((function(){return s(e,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.startConnecting(!0);case 2:case"end":return e.stop()}}),e,this)})))}),null)}},{key:"closeEventHandler",value:function(e){this.logger.info("WebSocket close: ".concat(e.code," ").concat(e.reason)),4999!==e.code&&this.webSocket.destroy(),!this.isClosing&&this.canReconnect(e.code)&&this.retryConnection()||(this.isClosing=!1,this.isSessionEstablished&&this.forEachObserver((function(t){t.messagingSessionDidStop&&t.messagingSessionDidStop(e)})))}},{key:"canReconnect",value:function(e){return 1001===e||1006===e||e>=1011&&e<=1014||e>4e3&&4002!==e&&4003!==e&&4401!==e}}]),e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(294),i=n(296),o=n(433),a=n(436),s=n(438),c=n(78),u=function(){function e(e){(0,a.supportsWebCrypto)((0,c.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,c.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(99),i="undefined"!==typeof e&&e.from?function(t){return e.from(t,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}).call(this,n(15).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(164).__exportStar(n(434),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(164),i=n(298),o=n(435),a=n(297),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(298),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&u)|0)+(l+(r.KEY[d]+this.temp[d]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=u,u=c,c=s,s=a+v|0,a=o,o=i,i=n,n=v+m|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(299).__exportStar(n(437),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(299),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"===typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!==typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(439);r.__exportStar(n(440),t),r.__exportStar(n(441),t),r.__exportStar(n(442),t),r.__exportStar(n(443),t),r.__exportStar(n(444),t)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,i=t.subtle;return r.map((function(e){return i[e]})).concat(n).every((function(e){return"function"===typeof e}))}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(302).__exportStar(n(446),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(302),i=n(303),o=n(447),a=n(448),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(303),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&u)|0)+(l+(r.KEY[d]+this.temp[d]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=u,u=c,c=s,s=a+v|0,a=o,o=i,i=n,n=v+m|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(449);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(450);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(451);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(452);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(550),i="undefined"!==typeof e&&e.from?function(t){return e.from(t,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}).call(this,n(15).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fromHex",(function(){return s})),n.d(t,"toHex",(function(){return c}));for(var r={},i={},o=0;o<256;o++){var a=o.toString(16).toLowerCase();1===a.length&&(a="0".concat(a)),r[o]=a,i[a]=o}function s(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.slice(n,n+2).toLowerCase();if(!(r in i))throw new Error("Cannot decode unrecognized sequence ".concat(r," as hexadecimal"));t[n/2]=i[r]}return t}function c(e){for(var t="",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},function(e,t,n){"use strict";var r=n(12).default,i=n(7).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=n(31),u=n(305),l=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new c.default;o(this,e),this.logger=t,this.device=n,this.processors=r,this.browserBehavior=i,this.observers=new Set,this.pipe=new u.default(this.logger,this.processors),this.pipe.addObserver(this)}return a(e,[{key:"outputMediaStream",get:function(){return this.pipe.outputMediaStream}},{key:"chooseNewInnerDevice",value:function(t){var n=new e(this.logger,t,this.processors,this.browserBehavior);return n.pipe=this.pipe,n}},{key:"getInnerDevice",value:function(){return this.device}},{key:"intrinsicDevice",value:function(){return s(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.device);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"transformStream",value:function(e){return s(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pipe.setInputMediaStream(e);case 2:return this.inputMediaStream=e,t.abrupt("return",this.pipe.getActiveOutputMediaStream());case 4:case"end":return t.stop()}}),t,this)})))}},{key:"onOutputStreamDisconnect",value:function(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");var e=this.device&&this.device.id;if(this.pipe.stop(),!e&&this.inputMediaStream){var t,n=r(this.inputMediaStream.getVideoTracks());try{for(n.s();!(t=n.n()).done;){t.value.stop()}}catch(i){n.e(i)}finally{n.f()}}}},{key:"stop",value:function(){return s(this,void 0,void 0,i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inputMediaStream){t=r(this.inputMediaStream.getVideoTracks());try{for(t.s();!(n=t.n()).done;)n.value.stop()}catch(i){t.e(i)}finally{t.f()}}this.pipe.destroy(),this.inputMediaStream=null;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"addObserver",value:function(e){this.observers.add(e)}},{key:"removeObserver",value:function(e){this.observers.delete(e)}},{key:"processingDidStart",value:function(){this.logger.info("video transform device processing started"),this.forEachObserver((function(e){e.processingDidStart&&e.processingDidStart()}))}},{key:"processingLatencyTooHigh",value:function(e){this.forEachObserver((function(t){t.processingLatencyTooHigh&&t.processingLatencyTooHigh(e)}))}},{key:"processingDidFailToStart",value:function(){this.logger.info("video transform device processing failed to start"),this.forEachObserver((function(e){e.processingDidFailToStart&&e.processingDidFailToStart()}))}},{key:"processingDidStop",value:function(){this.logger.info("video transform device processing stopped"),this.forEachObserver((function(e){e.processingDidStop&&e.processingDidStop()}))}},{key:"forEachObserver",value:function(e){var t,n=r(this.observers);try{var i=function(){var n=t.value;setTimeout((function(){e(n)}),0)};for(n.s();!(t=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}}}]),e}();t.default=l},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(66),a=n(306),s=function(){function e(t,n,i){r(this,e),this.fixedWaitMs=t,this.shortBackoffMs=n,this.longBackoffMs=i}return i(e,[{key:"create",value:function(){return new o.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}},{key:"createWithLimit",value:function(e){return new a.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,e)}}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,i,o){r(this,e),this.userArn=t,this.messagingSessionId=n,this.endpointUrl=i,this.chimeClient=o,this.reconnectTimeoutMs=1e4,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1e3,this.reconnectLongBackoffMs=5e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}return i(e,[{key:"generateSessionId",value:function(){var e=new Uint32Array(1);return window.crypto.getRandomValues(e)[0].toString()}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(48),s=function(){function e(){i(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._loggers=n}return o(e,[{key:"info",value:function(e){var t,n=r(this._loggers);try{for(n.s();!(t=n.n()).done;){t.value.info(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"warn",value:function(e){var t,n=r(this._loggers);try{for(n.s();!(t=n.n()).done;){t.value.warn(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"error",value:function(e){var t,n=r(this._loggers);try{for(n.s();!(t=n.n()).done;){t.value.error(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"debug",value:function(e){var t,n;n="string"===typeof e?e:e?function(){return t||(t=e()),t}:""+e;var i,o=r(this._loggers);try{for(o.s();!(i=o.n()).done;){i.value.debug(n)}}catch(a){o.e(a)}finally{o.f()}}},{key:"setLogLevel",value:function(e){var t,n=r(this._loggers);try{for(n.s();!(t=n.n()).done;){t.value.setLogLevel(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"getLogLevel",value:function(){var e,t=r(this._loggers);try{for(t.s();!(e=t.n()).done;){return e.value.getLogLevel()}}catch(n){t.e(n)}finally{t.f()}return a.default.OFF}}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(66),c=n(163),u=n(308),l=n(165),d=n(160),f=n(113),h=n(77),p=n(45),v=n(162),m=n(115),g=n(116),b=function(e){o(n,e);var t=a(n);function n(e){r(this,n);var i=new d.default;i.meetingId="",i.externalMeetingId="",i.credentials=new f.default,i.credentials.attendeeId="",i.credentials.joinToken="",i.urls=new v.default,i.urls.turnControlURL="",i.urls.audioHostURL="",i.urls.signalingURL="wss://localhost/";var o=new u.default;return t.call(this,e||i,o,new g.default(new u.default),new l.default,new m.default(0,new s.default(0,0,0)),new c.default(e||i,o))}return i(n,[{key:"setAudioProfile",value:function(e){}},{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"promoteToPrimaryMeeting",value:function(e){return Promise.resolve(new h.default(p.default.OK))}},{key:"demoteFromPrimaryMeeting",value:function(){}}]),n}(n(147).default);t.default=b},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(9).default,s=n(10).default,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpDeviceControllerWithEventController=void 0;var u=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this)).destroyed=!1,r}return o(n,[{key:"destroy",value:function(){return c(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.destroyed=!0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"listAudioInputDevices",value:function(){return Promise.resolve([])}},{key:"listVideoInputDevices",value:function(){return Promise.resolve([])}},{key:"listAudioOutputDevices",value:function(){return Promise.resolve([])}},{key:"startAudioInput",value:function(e){return Promise.reject()}},{key:"stopAudioInput",value:function(){return Promise.resolve()}},{key:"startVideoInput",value:function(e){return Promise.reject()}},{key:"stopVideoInput",value:function(){return Promise.resolve()}},{key:"chooseAudioOutput",value:function(e){return Promise.reject()}},{key:"addDeviceChangeObserver",value:function(e){}},{key:"removeDeviceChangeObserver",value:function(e){}},{key:"createAnalyserNodeForAudioInput",value:function(){return null}},{key:"startVideoPreviewForVideoInput",value:function(e){}},{key:"stopVideoPreviewForVideoInput",value:function(e){}},{key:"setDeviceLabelTrigger",value:function(e){}},{key:"mixIntoAudioInput",value:function(e){return null}},{key:"chooseVideoInputQuality",value:function(e,t,n){}},{key:"getVideoInputQualitySettings",value:function(){return null}}]),n}(n(165).default);t.default=u;var l=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this)).eventController=e,r}return o(n)}(u);t.NoOpDeviceControllerWithEventController=l},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e)}return i(e,[{key:"reportEvent",value:function(e,t,n){}},{key:"start",value:function(){}},{key:"stop",value:function(){}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e)}return i(e,[{key:"cancel",value:function(){}},{key:"name",value:function(){return"NoOpTask"}},{key:"run",value:function(){return Promise.resolve()}},{key:"setParent",value:function(e){}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e)}return i(e,[{key:"create",value:function(){var e={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:function(){return!1},removeAttribute:function(){},setAttribute:function(){},srcObject:!1,paused:!0,pause:function(){e.paused=!0},play:function(){return e.paused=!1,Promise.resolve()}};return e}}]),e}();t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(73),a=function(){function e(){r(this,e)}return i(e,[{key:"reset",value:function(){}},{key:"updateIndex",value:function(e){}},{key:"updateMetrics",value:function(e){}},{key:"wantsResubscribe",value:function(){return!1}},{key:"chooseSubscriptions",value:function(){return new o.default}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var o=n(95),a=function(){function e(){r(this,e)}return i(e,[{key:"updateConnectionMetric",value:function(e){}},{key:"chooseMediaTrackConstraints",value:function(){return{}}},{key:"chooseEncodingParameters",value:function(){return new Map}},{key:"updateIndex",value:function(e){}},{key:"wantsResubscribe",value:function(){return!1}},{key:"chooseCaptureAndEncodeParameters",value:function(){return new o.default(0,0,0,0,!1)}},{key:"maxBandwidthKbps",value:function(){return 0}},{key:"setIdealMaxBandwidthKbps",value:function(e){}},{key:"setHasBandwidthPriority",value:function(e){}}]),e}();t.default=a},function(e,t,n){"use strict";(function(e){var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(62),c=n(307),u=n(48),l=function(){function t(e){var n=this;i(this,t),this.logCapture=[],this.lock=!1,this.sequenceNumber=0;var r=e.url,o=e.batchSize,a=void 0===o?t.BATCH_SIZE:o,s=e.intervalMs,c=void 0===s?t.INTERVAL_MS:s,l=e.logLevel,d=void 0===l?u.default.WARN:l,f=e.metadata,h=e.headers;this.url=r,this.batchSize=a,this.intervalMs=c,this.logLevel=d,this.metadata=f,this.headers=h,this.start(),this.eventListener=function(){n.stop()},this.addEventListener()}return o(t,[{key:"addEventListener",value:function(){this.eventListener&&"window"in e&&window.addEventListener&&window.addEventListener("unload",this.eventListener)}},{key:"removeEventListener",value:function(){this.eventListener&&"window"in e&&window.removeEventListener&&window.removeEventListener("unload",this.eventListener)}},{key:"debug",value:function(e){u.default.DEBUG<this.logLevel||("string"===typeof e?this.log(u.default.DEBUG,e):e?this.log(u.default.DEBUG,e()):this.log(u.default.DEBUG,""+e))}},{key:"info",value:function(e){this.log(u.default.INFO,e)}},{key:"warn",value:function(e){this.log(u.default.WARN,e)}},{key:"error",value:function(e){this.log(u.default.ERROR,e)}},{key:"setLogLevel",value:function(e){this.logLevel=e}},{key:"getLogLevel",value:function(){return this.logLevel}},{key:"getLogCaptureSize",value:function(){return this.logCapture.length}},{key:"start",value:function(){var e=this;this.addEventListener(),this.intervalScheduler=new s.default(this.intervalMs),this.intervalScheduler.start((function(){return a(e,void 0,void 0,r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.lock&&0!==this.getLogCaptureSize()){e.next=2;break}return e.abrupt("return");case 2:return this.lock=!0,t=this.logCapture.slice(0,this.batchSize),n=this.makeRequestBody(t),e.prev=5,e.next=8,fetch(this.url,Object.assign({method:"POST",body:n},this.headers?{headers:this.headers}:{}));case 8:200===e.sent.status&&(this.logCapture=this.logCapture.slice(t.length)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.warn("[POSTLogger] "+e.t0.message);case 15:return e.prev=15,this.lock=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[5,12,15,18]])})))}))}},{key:"stop",value:function(){var e;null===(e=this.intervalScheduler)||void 0===e||e.stop(),this.intervalScheduler=void 0,this.removeEventListener();var t=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,t)}},{key:"destroy",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0;case 9:case"end":return e.stop()}}),e,this)})))}},{key:"makeRequestBody",value:function(e){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:e}))}},{key:"log",value:function(e,t){if(!(e<this.logLevel)){var n=Date.now();this.logCapture.push(new c.default(this.sequenceNumber,t,n,u.default[e])),this.sequenceNumber+=1}}}]),t}();t.default=l,l.BATCH_SIZE=85,l.INTERVAL_MS=2e3}).call(this,n(34))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unread="unread",e.LastMessageTimestamp="last-message-timestamp"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e),this.attendeeIndex=null,this.attendeesInFrame=null}));t.default=o},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default,o=n(9).default,a=n(10).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e,i){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RunnableTask";return r(this,n),(o=t.call(this,e)).fn=i,o.taskName=a,o}return i(n,[{key:"run",value:function(){return this.fn().then((function(){}))}}]),n}(n(19).default);t.default=s},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){i(this,e),this.inner=t}return o(e,[{key:"mute",value:function(e){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"stop",value:function(){var e;return a(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.node)||void 0===e||e.disconnect();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"intrinsicDevice",value:function(){return a(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.inner);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"createAudioNode",value:function(e){var t;return a(this,void 0,void 0,r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null===(t=this.node)||void 0===t||t.disconnect(),n.next=3,this.createSingleAudioNode(e);case 3:return this.node=n.sent,n.abrupt("return",{start:this.node,end:this.node});case 5:case"end":return n.stop()}}),n,this)})))}}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(3).default,i=n(2).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r((function e(){i(this,e)}));t.default=o},function(e,t,n){"use strict";var r=n(7).default,i=n(58).default,o=n(2).default,a=n(3).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceFocusDeviceTransformer=void 0;var c=n(477),u=n(161),l=n(52),d=n(482),f=n(310),h=n(483),p=function(){function e(t,n,r){var i=n.preload,a=void 0===i||i,s=n.logger,c=n.fetchBehavior,u=void 0===c?e.defaultFetchBehavior():c;o(this,e),this.spec=t,this.supported=!0,this.logger=s,this.vfLogger=s?new d.default(s):void 0,this.preload=a,this.fetchBehavior=u,this.spec=e.augmentSpec(this.spec),r&&(this.configuration=Promise.resolve(r))}return a(e,[{key:"getConfiguration",value:function(){return this.configuration}},{key:"isSupported",value:function(){return this.supported}},{key:"createTransformDevice",value:function(e,t){return s(this,void 0,void 0,r().mark((function n(){var o,a,s,c,u;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.supported){n.next=2;break}return n.abrupt("return",void 0);case 2:return n.prev=2,!0,n.next=6,this.allocateVoiceFocus(true);case 6:return o=n.sent,a=i(o,2),s=a[0],c=a[1],u=Object.assign(Object.assign({},t),{es:"ns_es"===this.spec.name}),n.abrupt("return",new f.default(e,s,c,u));case 14:return n.prev=14,n.t0=n.catch(2),n.abrupt("return",void 0);case 17:case"end":return n.stop()}}),n,this,[[2,14]])})))}},{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fetchBehavior:this.fetchBehavior,preResolve:e,logger:this.vfLogger},t.abrupt("return",c.VoiceFocus.configure(this.spec,n));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"init",value:function(){var e;return s(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.configuration||(this.configuration=this.configure()),t.next=3,this.configuration;case 3:if((n=t.sent).supported){t.next=7;break}return this.supported=!1,t.abrupt("return");case 7:return this.pendingVoiceFocus=this.createVoiceFocus(n,this.preload),t.prev=8,t.next=11,this.pendingVoiceFocus;case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(8),null===(e=this.logger)||void 0===e||e.error("Unable to initialize Amazon Voice Focus: ".concat(t.t0)),this.supported=!1;case 17:case"end":return t.stop()}}),t,this,[[8,13]])})))}},{key:"createVoiceFocus",value:function(e,t){return s(this,void 0,void 0,r().mark((function n(){var i,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new h.default,n.next=3,c.VoiceFocus.init(e,{delegate:i,preload:t,logger:this.vfLogger});case 3:return o=n.sent,n.abrupt("return",[o,i]);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"allocateVoiceFocus",value:function(e){return s(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.supported){t.next=2;break}throw new Error("Not supported.");case 2:if(!this.pendingVoiceFocus){t.next=6;break}return n=this.pendingVoiceFocus,this.pendingVoiceFocus=void 0,t.abrupt("return",n);case 6:return t.t0=this,t.next=9,this.configuration;case 9:return t.t1=t.sent,t.t2=e,t.abrupt("return",t.t0.createVoiceFocus.call(t.t0,t.t1,t.t2));case 12:case"end":return t.stop()}}),t,this)})))}}],[{key:"isSupported",value:function(t,n){var r,i,o={fetchBehavior:e.defaultFetchBehavior(),logger:(null===n||void 0===n?void 0:n.logger)?new d.default(n.logger):void 0};if(u.isIFramed()){if(!1===(null===n||void 0===n?void 0:n.allowIFrame))return null===(r=null===n||void 0===n?void 0:n.logger)||void 0===r||r.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);null===(i=null===n||void 0===n?void 0:n.logger)||void 0===i||i.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return c.VoiceFocus.isSupported(e.augmentSpec(t),o)}},{key:"create",value:function(){var t,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;return s(this,void 0,void 0,r().mark((function s(){var l,d,f,h;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u&&u.Meeting.Meeting&&(u=u.Meeting),l="AVAILABLE"===(null===(i=null===(n=null===(t=null===u||void 0===u?void 0:u.Meeting)||void 0===t?void 0:t.MeetingFeatures)||void 0===n?void 0:n.Audio)||void 0===i?void 0:i.EchoReduction),d=c&&!0===c.supported&&"ns_es"===c.model.name&&!l,f="ns_es"===o.name&&!l,!d&&!f){r.next=6;break}throw new Error("Echo Reduction requested but not enabled.");case 6:return h=new e(o,a,c),r.next=9,h.init();case 9:return r.abrupt("return",h);case 10:case"end":return r.stop()}}),s)})))}},{key:"configure",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,void 0,void 0,r().mark((function i(){var o;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=new e(t,n,void 0),r.abrupt("return",o.configure(!0));case 2:case"end":return r.stop()}}),i)})))}},{key:"augmentSpec",value:function(t){return t&&(t.assetGroup||t.revisionID)?t:Object.assign(Object.assign({},t),{assetGroup:e.currentSDKAssetGroup()})}},{key:"majorVersion",value:function(){return l.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}},{key:"majorMinorVersion",value:function(){return l.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}},{key:"currentSDKAssetGroup",value:function(){var e=this.majorVersion();return e?"sdk-".concat(e):"stable-v1"}},{key:"defaultFetchBehavior",value:function(){var t=e.majorMinorVersion()||"unknown",n=l.default.sdkUserAgentLowResolution;return{escapedQueryString:"sdk=".concat(encodeURIComponent(t),"&ua=").concat(encodeURIComponent(n))}}}]),e}();t.VoiceFocusDeviceTransformer=p,t.default=p},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAudioInput=t.createAudioContext=t.VoiceFocus=void 0;var s=n(478),c=n(184),u=n(91),l=n(74),d=n(479),f=n(480),h=n(481),p={useVoiceFocusAGC:!1,useBuiltInAGC:!0},v="stable-v1",m="https://static.sdkassets.chime.aws",g={processors:"".concat(m,"/processors/"),workers:"".concat(m,"/workers/"),wasm:"".concat(m,"/wasm/"),models:"".concat(m,"/wasm/")},b={latencyHint:0},y={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},w=Object.assign(Object.assign({},y),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),S=Object.assign(Object.assign({},y),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),k={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:f.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:h.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:d.default}},C=function(e,t){if(void 0!==e&&!c.isValidAssetGroup(e))throw new Error("Invalid asset group ".concat(e));if(void 0!==t&&!c.isValidRevisionID(t))throw new Error("Invalid revision ID ".concat(t))},O=function(e,t){var n;if(n=t.useBuiltInAGC?w:S,!e)return{audio:n};if(!e.audio)return e;if(e.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},e),{audio:!0===e.audio?n:Object.assign(Object.assign({},e.audio),n)})},x=function(e,t){return"".concat(t.models).concat(s.decideModel(e),".wasm")},E=function(){function e(t,n,r,o,a){i(this,e),this.processorURL=n,this.nodeConstructor=r,this.nodeOptions=o,this.executionQuanta=a,this.internal={worker:t,nodeOptions:o}}return o(e,[{key:"createNode",value:function(e,t){var n,r=this,i=t||{},o=i.voiceFocusSampleRate,a=void 0===o?16e3===e.sampleRate?16e3:48e3:o,s=i.enabled,u=void 0===s||s,l=i.agc,d=void 0===l?p:l,f=null===t||void 0===t?void 0:t.es,h={voiceFocusSampleRate:a,enabled:u,sendBufferCount:10,prefill:6,agc:d,executionQuanta:this.executionQuanta,supportFarendStream:f},v=c.withQueryString(this.processorURL,null===(n=this.nodeOptions)||void 0===n?void 0:n.fetchBehavior);return e.audioWorklet.addModule(v).then((function(){return new r.nodeConstructor(e,Object.assign(Object.assign({},r.nodeOptions),{processorOptions:h}))}))}},{key:"applyToStream",value:function(e,t,n){return a(this,void 0,void 0,r().mark((function i(){var o,a,s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.createMediaStreamSource(e),r.next=3,this.applyToSourceNode(o,t,n);case 3:return a=r.sent,s=t.createMediaStreamDestination(),a.connect(s),r.abrupt("return",{node:a,source:o,destination:s,stream:s.stream});case 7:case"end":return r.stop()}}),i,this)})))}},{key:"applyToSourceNode",value:function(e,t,n){return a(this,void 0,void 0,r().mark((function i(){var o;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.createNode(t,n);case 2:return o=r.sent,e.connect(o),r.abrupt("return",o);case 5:case"end":return r.stop()}}),i,this)})))}}],[{key:"isSupported",value:function(e,t){var n=t||{},r=n.fetchBehavior,i=n.logger;if("undefined"===typeof globalThis)return null===i||void 0===i||i.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!l.supportsAudioWorklet(globalThis,i))return null===i||void 0===i||i.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!l.supportsWASM(globalThis,i))return null===i||void 0===i||i.debug("Browser does not support WASM."),Promise.resolve(!1);l.supportsWASMStreaming(globalThis,i)||null===i||void 0===i||i.debug("Browser does not support streaming WASM compilation.");var o=e||{},a=o.assetGroup,s=void 0===a?v:a,u=o.revisionID,d=o.paths,f=void 0===d?g:d;C(s,u);var h=u?{revisionID:u}:{assetGroup:s},p=c.addQueryParams(r,h),m=Object.assign(Object.assign({},p),{paths:f});return l.supportsVoiceFocusWorker(globalThis,m,i)}},{key:"mungeExecutionPreference",value:function(e,t){var n=void 0===e||"auto"===e;if(l.isSafari(globalThis)){if(n||"inline"===e)return"inline";if(!n)throw new Error("Unsupported execution preference ".concat(e))}if("worker-sab"===e&&!l.supportsSharedArrayBuffer(globalThis,globalThis,t))throw new Error("Unsupported execution preference ".concat(e));return e||"auto"}},{key:"configure",value:function(e,t){return a(this,void 0,void 0,r().mark((function n(){var i,o,a,u,l,d,f,h,p,m,b,y,w,S,k,O,E,_,T,I,A,M,P,j,R,D,N,L,F,U,B,V,z,H,W,q,K;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(i=t||{}).fetchBehavior,a=i.preResolve,u=i.logger,d=(l=e||{}).category,f=void 0===d?"voicefocus":d,h=l.name,p=void 0===h?"default":h,m=l.variant,b=void 0===m?"auto":m,y=l.assetGroup,w=void 0===y?v:y,S=l.revisionID,k=l.simd,O=void 0===k?"detect":k,E=l.executionPreference,_=void 0===E?"auto":E,T=l.executionQuantaPreference,I=l.usagePreference,A=void 0===I?"interactivity":I,M=l.estimatorBudget,P=void 0===M?100:M,j=l.paths,R=void 0===j?g:j,D=l.thresholds,null===u||void 0===u||u.debug("Configuring Voice Focus with spec",e),void 0===f||"voicefocus"===f){n.next=5;break}throw new Error("Unrecognized category ".concat(f));case 5:if(void 0===p||"default"===p||"ns_es"===p){n.next=7;break}throw new Error("Unrecognized feature name ".concat(p));case 7:if(void 0===b||["auto","c100","c50","c20","c10"].includes(b)){n.next=9;break}throw new Error("Unrecognized feature variant ".concat(b));case 9:if(void 0===T||[1,2,3].includes(T)){n.next=11;break}throw new Error("Unrecognized execution quanta preference ".concat(T));case 11:if(C(w,S),void 0===O||["detect","force","disable"].includes(O)){n.next=14;break}throw new Error("Unrecognized SIMD option ".concat(O));case 14:if(void 0===_||["auto","inline","worker","worker-sab","worker-postMessage"].includes(_)){n.next=16;break}throw new Error("Unrecognized execution preference ".concat(_));case 16:if(void 0===A||["quality","interactivity"].includes(A)){n.next=18;break}throw new Error("Unrecognized usage preference ".concat(A));case 18:return N={executionPreference:this.mungeExecutionPreference(_,u),usagePreference:A,executionQuantaPreference:T,variantPreference:b,namePreference:p,simdPreference:O,estimatorBudget:P},L=S?{revisionID:S}:{assetGroup:w},F=c.addQueryParams(o,L),U=Object.assign({paths:R},F),n.next=24,s.measureAndDecideExecutionApproach(N,U,u,D);case 24:if(!1!==(B=n.sent).supported){n.next=27;break}return n.abrupt("return",{supported:!1,reason:B.reason});case 27:if(null===u||void 0===u||u.info("Decided execution approach",B),V=B.useSIMD,z=B.processor,H=B.variant,W=B.executionQuanta,q={category:f||"voicefocus",name:p||"default",variant:H,simd:V},!a){n.next=35;break}return K=x(q,R),n.next=34,c.resolveURL(K,F);case 34:q.url=n.sent;case 35:return n.abrupt("return",{fetchConfig:U,model:q,processor:z,executionQuanta:W,supported:!0});case 36:case"end":return n.stop()}}),n,this)})))}},{key:"init",value:function(t,n){var i=n.delegate,o=n.preload,s=void 0===o||o,c=n.logger;return a(this,void 0,void 0,r().mark((function n(){var o,a,d,f,h,p,v,m,g,b,y,w,S,C,O,E,_,T;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1!==t.supported){n.next=2;break}throw new Error("Voice Focus not supported. Reason: "+t.reason);case 2:if(o=t.model,a=t.processor,d=t.fetchConfig,f=t.executionQuanta,h=o.simd,p=o.name,v=d.paths,"voicefocus-inline-processor"===a||"voicefocus-worker-postMessage-processor"===a||"voicefocus-worker-sab-processor"===a){n.next=7;break}throw new Error("Unknown processor ".concat(a));case 7:return m=o.url||x(o,v),null===c||void 0===c||c.debug("Using model URL ".concat(m,".")),g="".concat(v.wasm,"audio_buffer-v1").concat(h?"_simd":"",".wasm"),b="".concat(v.wasm,"resampler-v1").concat(h?"_simd":"",".wasm"),y="".concat(v.workers,"worker-v1.js"),S=(w=k[a]).file,C=w.node,O="".concat(v.processors).concat(S),n.next=16,u.loadWorker(y,"VoiceFocusWorker",d,c);case 16:return E=n.sent,s&&(null===c||void 0===c||c.debug("Preloading",m),_=l.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer",E.postMessage({message:_,preload:!0,key:"model",fetchBehavior:d,path:m})),T=new e(E,O,C,{processor:a,worker:E,audioBufferURL:g,resamplerURL:b,fetchBehavior:d,modelURL:m,delegate:i,logger:c,numberOfInputs:"ns_es"===p?2:1},f),n.abrupt("return",Promise.resolve(T));case 22:case"end":return n.stop()}}),n)})))}}]),e}();t.VoiceFocus=E;t.createAudioContext=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return new(window.AudioContext||window.webkitAudioContext)(e)};t.getAudioInput=function(e,t,n){return a(void 0,void 0,void 0,r().mark((function i(){var o,a,s,c,u,l,d,f,h,v,m,g,b;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.constraints,c=t.spec,u=t.delegate,l=t.preload,d=void 0===l||l,f=t.options,h=n.logger,r.next=4,E.configure(c,n);case 4:if((v=r.sent).supported){r.next=8;break}return null===(o=n.logger)||void 0===o||o.warn("Voice Focus not supported; returning standard stream."),r.abrupt("return",window.navigator.mediaDevices.getUserMedia(s));case 8:return r.next=10,E.init(v,{delegate:u,preload:d,logger:h});case 10:return m=r.sent,g=(null===(a=t.options)||void 0===a?void 0:a.agc)||p,r.next=14,window.navigator.mediaDevices.getUserMedia(O(s,g));case 14:return b=r.sent,r.abrupt("return",m.applyToStream(b,e,f).then((function(e){return e.stream})));case 16:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.decideModel=t.measureAndDecideExecutionApproach=void 0;var s=n(91),c=n(74),u={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}},l=function(){function e(t,n){i(this,e),this.fetchConfig=t,this.logger=n;var r="".concat(t.paths.workers,"estimator-v1.js");this.fetchBehavior={headers:t.headers,escapedQueryString:t.escapedQueryString},this.worker=s.loadWorker(r,"VoiceFocusEstimator",this.fetchBehavior,n)}return o(e,[{key:"roundtrip",value:function(e,t,n){var r=this;return new Promise((function(i,o){r.worker.then((function(r){var o;o=function(e){var a=e.data,s=a.message,c=a.key;s===t&&c===n&&(r.removeEventListener("message",o),i(e.data))},r.addEventListener("message",o),r.postMessage(e)})).catch((function(e){var t;null===(t=r.logger)||void 0===t||t.error("Failed to load worker.",e),o(e)}))}))}},{key:"supportsSIMD",value:function(e){var t="simd",n=e||"".concat(this.fetchConfig.paths.wasm,"simd-v1.wasm"),r={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:n,key:t};return this.roundtrip(r,"simd-support",t).then((function(e){return e.supports}))}},{key:"measure",value:function(e,t){var n="".concat(this.fetchConfig.paths.wasm,"bench-v1.wasm"),r="".concat(this.fetchConfig.paths.wasm,"bench-v1_simd.wasm"),i=e?r:n,o="bench:".concat(e),a={message:"measure",fetchBehavior:this.fetchBehavior,budget:t,path:i,key:o};return this.roundtrip(a,"measurement",o).then((function(e){if(e.measurement)return e.measurement;throw new Error("Failed to measure.")}))}},{key:"stop",value:function(){var e=this;this.worker.then((function(t){var n;null===(n=e.logger)||void 0===n||n.debug("Stopping estimator worker."),t.terminate()})).catch((function(e){}))}}]),e}(),d=function(e,t){return 1===e?.6:"quality"===t?.65*e:.5*e},f=function(e){var t=e.supportsSIMD,n=e.supportsSAB,r=e.duration,i=e.executionPreference,o=void 0===i?"auto":i,a=e.simdPreference,s=e.variantPreference,l=void 0===s?"auto":s,f=e.namePreference,h=void 0===f?"default":f,p=e.usagePreference,v=e.executionQuantaPreference,m=void 0===v?3:v,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,b=arguments.length>2?arguments[2]:void 0,y="force"===a,w=y||"disable"!==a&&t,S=-1!==r,k=S?(w?2.5:2.63)/r:0,C=w?g.simd:g.wasm,O=S?d(m,p)*k:0,x=S?.7*k:0,E=h,_=function(e){return{supported:!1,reason:e}};if(S){if(k<C.noSupport)return _("Performance score ".concat(k," worse than threshold ").concat(C.noSupport,"."))}else if("auto"===o||"auto"===l)return _("Missing explicit execution (".concat(o,") or variant (").concat(l,") preference, but no scoring performed."));null===b||void 0===b||b.debug("Bench duration ".concat(r," yields inline score ").concat(O," and worker score ").concat(x,"."));var T=function(e,t,n){return{supported:!0,useSIMD:w,processor:e,executionApproach:t,variant:n,executionQuanta:"inline"===t?m:void 0,name:E}},I=function(e,t,n){return"auto"!==t?!S||e>n[t]?t:"failed":e>n.c100?"c100":e>n.c50?"c50":e>n.c20?"c20":e>n.c10?"c10":"failed"},A=function e(t){switch(t||"auto"){case"auto":var r=e("inline"),i=e("worker");return null===b||void 0===b||b.debug("Reducing auto preference: ".concat(JSON.stringify(r)," vs ").concat(JSON.stringify(i))),!1===r.supported||!1===i.supported?i:r.variant===i.variant||"c50"===r.variant?r:i;case"worker":return c.supportsSharedArrayBuffer(globalThis,window,b)?e("worker-sab"):e("worker-postMessage");case"inline":var o=I(O,l,C.inline);return"failed"===o?_("Performance score ".concat(O," not sufficient for inline use with variant preference ").concat(l,".")):T("voicefocus-inline-processor","inline",o);case"worker-sab":if(!n){var a="Requested worker-sab but no SharedArrayBuffer support.";return null===b||void 0===b||b.warn(a),{supported:!1,reason:a}}var s=I(x,l,C.worker);return"failed"===s?_("Performance score ".concat(x," not sufficient for worker use with variant preference ").concat(l,".")):T("voicefocus-worker-sab-processor","worker-sab",s);case"worker-postMessage":var u=I(x,l,C.worker);if("failed"===u)return _("Performance score ".concat(x," not sufficient for worker use."));if("ns_es"===E){var d="Requested echo suppression but postMessage executor does not support it.";return null===b||void 0===b||b.warn(d),{supported:!1,reason:d}}return T("voicefocus-worker-postMessage-processor","worker-postMessage",u)}};return A(o)},h=function(e,t,n,i){return a(void 0,void 0,void 0,r().mark((function o(){var a,s,u,d;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a={supportsSIMD:e,supportsSAB:c.supportsSharedArrayBuffer(globalThis,window,n),duration:-1},!e){r.next=4;break}return null===n||void 0===n||n.info("Supports SIMD: true (force)"),r.abrupt("return",a);case 4:if(s=!i,u=i||new l(t,n),r.prev=6,r.t0=!c.isOldChrome(window,n),!r.t0){r.next=12;break}return r.next=11,u.supportsSIMD();case 11:r.t0=r.sent;case 12:return d=r.t0,null===n||void 0===n||n.info("Supports SIMD: ".concat(d," (force: ").concat(e,")")),a.supportsSIMD=d,r.abrupt("return",a);case 16:return r.prev=16,s&&u.stop(),r.finish(16);case 19:case"end":return r.stop()}}),o,null,[[6,,16,19]])})))},p=function(e,t,n,i){return a(void 0,void 0,void 0,r().mark((function o(){var a,s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=new l(t,i),r.prev=1,r.next=4,h(e,t,i,a);case 4:if(!(s=r.sent).supportsSIMD){r.next=18;break}return r.prev=6,r.next=9,a.measure(!0,n);case 9:return s.duration=r.sent,null===i||void 0===i||i.info("SIMD timing:",s.duration),r.abrupt("return",s);case 14:r.prev=14,r.t0=r.catch(6),null===i||void 0===i||i.warn("Failed SIMD estimation; falling back to non-SIMD."),s.supportsSIMD=!1;case 18:return r.next=20,a.measure(!1,n);case 20:return s.duration=r.sent,null===i||void 0===i||i.info("No-SIMD timing:",s.duration),r.abrupt("return",s);case 25:throw r.prev=25,r.t1=r.catch(1),null===i||void 0===i||i.error("Could not feature check.",r.t1),r.t1;case 29:return r.prev=29,a.stop(),r.finish(29);case 32:case"end":return r.stop()}}),o,null,[[1,25,29,32],[6,14]])})))};t.measureAndDecideExecutionApproach=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;return a(void 0,void 0,void 0,r().mark((function o(){var a,s,c,u,l,d,v,m,g,b,y;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.executionPreference,s=e.usagePreference,c=e.variantPreference,u=e.namePreference,l=e.simdPreference,d=e.estimatorBudget,v=e.executionQuantaPreference,"interactivity"===s&&"inline"!==a&&(null===n||void 0===n||n.debug("Overriding execution preference ".concat(a," to reflect interactivity preference.")),a="inline"),m="force"===l,g="auto"!==c,b="auto"!==a,r.prev=6,!g||!b){r.next=13;break}return r.next=10,h(m,t,n);case 10:y=r.sent,r.next=16;break;case 13:return r.next=15,p(m,t,d,n);case 15:y=r.sent;case 16:r.next=22;break;case 18:throw r.prev=18,r.t0=r.catch(6),null===n||void 0===n||n.error("Could not load estimator.",r.t0),new Error("Could not load Voice Focus estimator.");case 22:return r.abrupt("return",f(Object.assign(Object.assign({},y),{simdPreference:l,executionPreference:a,variantPreference:c,namePreference:u,usagePreference:s,executionQuantaPreference:v}),i,n));case 23:case"end":return r.stop()}}),o,null,[[6,18]])})))};t.decideModel=function(e){var t=e.category,n=e.name,r=e.variant,i=e.simd;e.url;return"".concat(t,"-").concat(n,"-").concat(r,"-v1").concat(i?"_simd":"")}},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(56).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(74),d=n(166),f=function(e){s(n,e);var t=c(n);function n(e,r){var o;i(this,n),(o=t.call(this,e,r.processor,r)).cpuWarningCount=0,o.channelCountMode="explicit",o.channelCount=1;var s=r.modelURL,c=r.worker,u=r.fetchBehavior,d=r.logger,f=r.delegate;o.logger=d,o.port.onmessage=o.onProcessorMessage.bind(a(o)),o.delegate=f,d&&d.debug("VoiceFocusInlineNode:",s),o.worker=c,o.worker.onmessage=o.onWorkerMessage.bind(a(o));var h=l.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";return o.worker.postMessage({message:h,key:"model",fetchBehavior:u,path:s}),o}return o(n,[{key:"onModuleBufferLoaded",value:function(e,t){this.port.postMessage({message:"module-buffer",buffer:e,key:t})}},{key:"onModuleLoaded",value:function(e,t){this.port.postMessage({message:"module",module:e,key:t})}},{key:"enable",value:function(){return u(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.port.postMessage({message:"enable"});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"disable",value:function(){return u(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.port.postMessage({message:"disable"});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){var e;return u(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.port.postMessage({message:"stop"});try{null===(e=this.worker)||void 0===e||e.terminate()}catch(n){console.error("failed to terminate worker:",n)}this.disconnect();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"onProcessorMessage",value:function(e){var t,n,r,i=e.data;if("cpu"===i.message){this.cpuWarningCount++;var o=Date.now(),a=this.cpuWarningLastTriggered||o,s=Math.abs(o-a);(!this.cpuWarningLastTriggered||s>5e3)&&(null===(t=this.logger)||void 0===t||t.warn("CPU warning (count: ".concat(this.cpuWarningCount,"):"),i.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=o),null===(n=this.delegate)||void 0===n||n.onCPUWarning()}else null===(r=this.logger)||void 0===r||r.debug("Ignoring processor message.")}},{key:"onWorkerMessage",value:function(e){var t=e.data;switch(t.message){case"module-buffer":if(!t.buffer||!t.key)return;this.onModuleBufferLoaded(t.buffer,t.key);break;case"module":if(!t.module||!t.key)return;this.onModuleLoaded(t.module,t.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}}]),n}(d.VoiceFocusAudioWorkletNode);t.default=f},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(56).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(74),d=n(166),f=0,h=1,p=0,v=1,m=2,g=function(e){s(n,e);var t=c(n);function n(e,r){var o;i(this,n),(o=t.call(this,e,r.processor,r)).channelCountMode="explicit",o.channelCount=1;var s=r.modelURL,c=r.resamplerURL,u=r.worker,d=r.fetchBehavior,f=r.delegate;o.delegate=f,o.worker=u,o.worker.onmessage=o.onWorkerMessage.bind(a(o)),o.port.onmessage=o.onProcessorMessage.bind(a(o));var h=r.processorOptions,p=h.enabled,v=h.supportFarendStream;o.worker.postMessage({message:"init",approach:"sab",frames:16e3===e.sampleRate?160:480,enabled:p,model:s,supportFarendStream:v});var m=l.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";return o.worker.postMessage({message:m,key:"resampler",fetchBehavior:d,path:c}),o}return o(n,[{key:"enable",value:function(){return u(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state?(Atomics.store(this.state,h,v),Atomics.notify(this.state,f,1)):this.worker.postMessage({message:"enable"});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"disable",value:function(){return u(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state?(Atomics.store(this.state,h,p),Atomics.notify(this.state,f,1)):this.worker.postMessage({message:"disable"});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){return u(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state)Atomics.store(this.state,h,m),Atomics.notify(this.state,f,1);else try{this.worker.postMessage({message:"stop"})}catch(t){}this.disconnect();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onWorkerMessage",value:function(e){var t,n=e.data;switch(n.message){case"ready":if(!n.shared)throw new Error("No shared state.");this.state=new Int32Array(n.shared.state),this.port.postMessage(n);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":case"processing":this.port.postMessage(n);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;default:return}}},{key:"onProcessorMessage",value:function(e){var t,n=e.data;switch(n.message){case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(n)}}}]),n}(d.VoiceFocusAudioWorkletNode);t.default=g},function(e,t,n){"use strict";var r=n(7).default,i=n(2).default,o=n(3).default,a=n(56).default,s=n(9).default,c=n(10).default,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var l=n(74),d=function(e){s(n,e);var t=c(n);function n(e,r){var o;i(this,n),(o=t.call(this,e,r.processor,r)).channelCountMode="explicit",o.channelCount=1;var s=r.modelURL,c=r.audioBufferURL,u=r.worker,d=r.fetchBehavior,f=r.delegate;o.delegate=f,o.worker=u,o.worker.onmessage=o.onWorkerMessage.bind(a(o)),o.port.onmessage=o.onProcessorMessage.bind(a(o));var h=r.processorOptions,p=h.enabled,v=h.agc,m=h.supportFarendStream;o.worker.postMessage({message:"init",approach:"postMessage",frames:16e3===e.sampleRate?160:480,enabled:p,agc:v,fetchBehavior:d,model:s,supportFarendStream:m});var g=l.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";return o.worker.postMessage({message:g,key:"buffer",fetchBehavior:d,path:c}),o}return o(n,[{key:"enable",value:function(){return u(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.worker.postMessage({message:"enable"});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"disable",value:function(){return u(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.worker.postMessage({message:"disable"});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){return u(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.worker.postMessage({message:"stop"})}catch(t){}this.disconnect();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onWorkerMessage",value:function(e){var t,n=e.data;switch(n.message){case"ready":this.port.postMessage({message:"ready",shared:n.shared},n.shared?Object.values(n.shared):[]);break;case"data":if(!n.buffer)return;this.port.postMessage({message:"data",buffer:n.buffer},[n.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":case"processing":this.port.postMessage(n);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;default:return}}},{key:"onProcessorMessage",value:function(e){var t,n=e.data;switch(n.message){case"data":if(!n.buffer)return;this.worker.postMessage({message:"data",buffer:n.buffer},[n.buffer]);break;case"cpu":null===(t=this.delegate)||void 0===t||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(n);break;default:return}}}]),n}(n(166).VoiceFocusAudioWorkletNode);t.default=d},function(e,t,n){"use strict";var r=n(2).default,i=n(3).default;function o(e){return e.map((function(e){return"object"===typeof e?JSON.stringify(e):"".concat(e)})).join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){r(this,e),this.base=t}return i(e,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.base.debug(o(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.base.info(o(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.base.warn(o(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.base.error(o(t))}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(12).default,i=n(2).default,o=n(3).default;Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){i(this,e),this.observers=new Set}return o(e,[{key:"addObserver",value:function(e){this.observers.add(e)}},{key:"removeObserver",value:function(e){this.observers.delete(e)}},{key:"onFallback",value:function(e,t){var n,i,o=r(this.observers);try{for(o.s();!(i=o.n()).done;){var a=i.value;null===(n=a.voiceFocusFellBackToInnerStream)||void 0===n||n.call(a,e,t)}}catch(s){o.e(s)}finally{o.f()}}},{key:"onCPUWarning",value:function(){var e,t,n=r(this.observers);try{for(n.s();!(t=n.n()).done;){var i=t.value;null===(e=i.voiceFocusInsufficientResources)||void 0===e||e.call(i)}}catch(o){n.e(o)}finally{n.f()}}}]),e}();t.default=a},function(e,t,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,c=60109,u=60110,l=60112,d=60113,f=60120,h=60115,p=60116,v=60121,m=60122,g=60117,b=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),i=w("react.portal"),o=w("react.fragment"),a=w("react.strict_mode"),s=w("react.profiler"),c=w("react.provider"),u=w("react.context"),l=w("react.forward_ref"),d=w("react.suspense"),f=w("react.suspense_list"),h=w("react.memo"),p=w("react.lazy"),v=w("react.block"),m=w("react.server.block"),g=w("react.fundamental"),b=w("react.debug_trace_mode"),y=w("react.legacy_hidden")}function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case p:case h:case c:return e;default:return t}}case i:return t}}}var k=c,C=r,O=l,x=o,E=p,_=h,T=i,I=s,A=a,M=d;t.ContextConsumer=u,t.ContextProvider=k,t.Element=C,t.ForwardRef=O,t.Fragment=x,t.Lazy=E,t.Memo=_,t.Portal=T,t.Profiler=I,t.StrictMode=A,t.Suspense=M,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===l},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===p},t.isMemo=function(e){return S(e)===h},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===b||e===a||e===d||e===f||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===c||e.$$typeof===u||e.$$typeof===l||e.$$typeof===g||e.$$typeof===v||e[0]===m)},t.typeOf=S},function(e,t,n){"use strict";e.exports=n(486)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case u:return e;default:return t}}case o:return t}}}function C(e){return k(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||k(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return k(e)===h},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===g},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===o},t.isProfiler=function(e){return k(e)===c},t.isStrictMode=function(e){return k(e)===s},t.isSuspense=function(e){return k(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===w||e.$$typeof===S||e.$$typeof===b)},t.typeOf=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authTheme=t.theme=t.getTheme=t.getAuthTheme=void 0;var r=n(488),i=n(489),o=n(490),a=n(491);t.getAuthTheme=function(e){return{a:{color:r.COLOR_PALETTE.orange.color},button:{backgroundColor:r.COLOR_PALETTE.orange.color},formSection:{fontFamily:e||i.DEFAULT_FONT_FAMILY,backgroundColor:r.COLOR_PALETTE.white.color,borderRadius:"10px",boxShadow:"1px 1px 3px 0px rgba(0,0,0,0.25)"},navButton:{backgroundColor:r.COLOR_PALETTE.orange.color},navItem:{fontWeight:"bold"},navRight:{background:"url(/img/logo-black.png) no-repeat",backgroundSize:"48px"},sectionHeader:{content:"url('/img/logo-black.png')"}}};t.getTheme=function(e){return{breakpoints:{keys:["xs","sm","md","lg","xl"],values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},direction:"ltr",mixins:{toolbar:{"@media (min-width:0px) and (orientation: landscape)":{minHeight:48},"@media (min-width:600px)":{minHeight:64},minHeight:56}},overrides:{MuiAlert:{root:{alignItems:"center"},outlinedSuccess:{backgroundColor:r.COLOR_PALETTE["green-light"].color},outlinedError:{backgroundColor:r.COLOR_PALETTE["red-light"].color},outlinedInfo:{backgroundColor:r.COLOR_PALETTE["blue-light"].color},outlinedWarning:{backgroundColor:r.COLOR_PALETTE["red-light"].color},filledSuccess:{backgroundColor:r.COLOR_PALETTE["green-dark"].color},filledError:{backgroundColor:r.COLOR_PALETTE["red-dark"].color},filledInfo:{backgroundColor:r.COLOR_PALETTE["blue-dark"].color},filledWarning:{backgroundColor:r.COLOR_PALETTE["red-dark"].color}},MuiAutocomplete:{groupLabel:{lineHeight:a.DEFAULT_LINE_HEIGHT,paddingTop:"6px",paddingBottom:"6px"},inputRoot:{"&[class*='MuiOutlinedInput-root'][class*='MuiOutlinedInput-marginDense']":{paddingTop:0,paddingBottom:0}},option:{'&[aria-selected="true"]':{backgroundColor:r.COLOR_PALETTE["blue-light"].color,border:"1px solid ".concat(r.COLOR_PALETTE.blue.color)}}},MuiCheckbox:{root:{padding:0}},MuiAccordionSummary:{root:{padding:"4px 0",fontWeight:i.DEFAULT_FONT_WEIGHT_HEAVE,fontSize:i.DEFAULT_FONT_SIZE,minHeight:0,margin:0,color:r.COLOR_PALETTE["grey-900"].color,"&$expanded":{padding:"4px 0",minHeight:0,margin:0}},content:{margin:0,"&$expanded":{margin:0}}},MuiAccordionDetails:{root:{padding:"10px 0"}},MuiRadio:{root:{"&:hover":{backgroundColor:"transparent"},"&.MuiRadio-colorSecondary.Mui-checked":{color:r.COLOR_PALETTE["grey-900"].color,"&:hover":{backgroundColor:"transparent"}}}},MuiPickersDay:{daySelected:{backgroundColor:r.COLOR_PALETTE.orange.color,"&:hover":{backgroundColor:r.COLOR_PALETTE["orange-dark"].color,color:r.COLOR_PALETTE.white.color}}},MuiSvgIcon:{fontSizeSmall:{width:"16px",height:"16px",marginTop:"2px"},colorSecondary:{color:r.COLOR_PALETTE.white.color}},MuiSwitch:{root:{width:"24px",height:"16px",padding:"0px",fontSize:i.DEFAULT_FONT_SIZE},switchBase:{color:r.COLOR_PALETTE["grey-50"].color,padding:"0px","&.Mui-checked":{transform:"translateX(8px)"}},thumb:{width:"12px",height:"12px",marginTop:"2px",marginLeft:"2px"},colorSecondary:{"&$checked":{color:r.COLOR_PALETTE.white.color,"&:hover":{backgroundColor:"transparent"}},"&$checked + $track":{backgroundColor:r.COLOR_PALETTE["blue-dark"].color}}},MuiTreeView:{root:{transition:"none"}},MuiPaper:{rounded:{borderRadius:"2px"}},MuiLink:{root:{color:r.COLOR_PALETTE["blue-dark"].color}},MuiList:{padding:{paddingTop:0,paddingBottom:0}},MuiSelect:{root:{padding:"4px 10px",textOverflow:"ellipsis"}},MuiMenuItem:{root:{border:"1px solid transparent",display:"flex",alignItems:"flex-start","&:hover":{backgroundColor:r.COLOR_PALETTE["grey-100"].color,border:"1px solid ".concat(r.COLOR_PALETTE["grey-400"].color)},"&.Mui-selected, &.Mui-selected:hover":{border:"1px solid ".concat(r.COLOR_PALETTE.blue.color),backgroundColor:r.COLOR_PALETTE["blue-light"].color}}},MuiButton:{root:{color:r.COLOR_PALETTE.white.color,textDecoration:"none",border:"1px solid",borderRadius:"2px",transition:"none",padding:"4px 20px",textTransform:"none","&[disabled]":{padding:"4px 20px",border:"1px solid",borderRadius:"2px",borderColor:r.COLOR_PALETTE["grey-300"].color,cursor:"initial",color:r.COLOR_PALETTE["grey-500"],backgroundColor:"transparent"},"& .MuiIconButton-root:hover":{color:r.COLOR_PALETTE.white.color},"&.Mui-focusVisible":{boxShadow:"0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)"}},containedPrimary:{padding:"4px 20px",backgroundColor:r.COLOR_PALETTE.orange.color,borderColor:r.COLOR_PALETTE.orange.color,boxShadow:"none","&:hover":{boxShadow:"none",borderColor:r.COLOR_PALETTE["orange-dark"].color,backgroundColor:r.COLOR_PALETTE["orange-dark"].color,textDecoration:"none"}},text:{padding:"4px 20px",background:"transparent",color:r.COLOR_PALETTE["grey-800"].color,textDecoration:"none","&:hover":{color:r.COLOR_PALETTE["grey-900"].color,background:"transparent"},"&[href]":{borderColor:"transparent"}},label:{lineHeight:"20px",fontWeight:"bold",letterSpacing:".25px"}},MuiIconButton:{root:{backgroundColor:"transparent",color:"currentColor","&:hover":{backgroundColor:"transparent",color:"currentColor"},"&.Mui-focusVisible":{borderColor:r.COLOR_PALETTE.blue.color,borderWidth:"1px",outline:"2px dotted transparent",boxShadow:"0 0 0 2px ".concat(r.COLOR_PALETTE.blue.color),borderRadius:"2px"}}},MuiListItem:{button:{"&:hover":{backgroundColor:"transparent"},transition:"none"},root:{paddingTop:4,paddingBottom:4}},MuiTabs:{root:{minHeight:"auto"},scroller:{borderBottom:"1px solid ".concat(r.COLOR_PALETTE["grey-400"].color),padding:".75rem 0"}},MuiTab:{root:{minHeight:"auto",minWidth:"auto",lineHeight:"none",padding:"0 1rem",textTransform:"none","@media (min-width: 600px)":{minWidth:"auto"}},wrapper:{fontWeight:i.DEFAULT_FONT_WEIGHT_HEAVE,fontSize:i.DEFAULT_FONT_SIZE},textColorInherit:{"&.Mui-selected":{color:r.COLOR_PALETTE["orange-dark"].color},"&:hover":{color:r.COLOR_PALETTE["orange-dark"].color,opacity:1}}},MuiTextField:{},MuiInput:{underline:{"&:hover:not(.Mui-disabled)::before":{borderBottom:"0"}}},MuiOutlinedInput:{root:{backgroundColor:r.COLOR_PALETTE.white.color,borderRadius:"2px","&.Mui-focused:not(.Mui-error) .MuiOutlinedInput-notchedOutline":{borderColor:r.COLOR_PALETTE.blue.color,borderWidth:"1px",outline:"2px dotted transparent",boxShadow:"0 0 0 1px ".concat(r.COLOR_PALETTE.blue.color)},"&:hover:not(.Mui-error):not(.Mui-disabled) .MuiOutlinedInput-notchedOutline":{borderColor:r.COLOR_PALETTE.blue.color,borderWidth:"1px"}},input:{fontSize:i.DEFAULT_FONT_SIZE,padding:"4px 10px"},adornedStart:{paddingLeft:"5px",paddingTop:"1px"},adornedEnd:{paddingRight:"0px"},inputMarginDense:{paddingTop:"3px",paddingBottom:"4px"}},MuiInputBase:{root:{fontSize:i.DEFAULT_FONT_SIZE,lineHeight:a.DEFAULT_LINE_HEIGHT},inputTypeSearch:{"&::-webkit-search-cancel-button":{"-webkit-appearance":"none"}},input:{height:a.DEFAULT_LINE_HEIGHT,"&::placeholder":{fontStyle:"italic"}}},MuiTableCell:{root:{fontSize:".75rem",borderBottom:"none",fontWeight:"normal"},head:{fontWeight:i.DEFAULT_FONT_WEIGHT_HEAVE,lineHeight:"normal",userSelect:"none"},sizeSmall:{padding:"9px 12px"}},MuiTableRow:{root:{"&.Mui-selected, &.Mui-selected:hover":{border:"1px solid ".concat(r.COLOR_PALETTE.blue.color),backgroundColor:r.COLOR_PALETTE["blue-light"].color},border:"1px solid transparent",borderTop:"1px solid rgba(224, 224, 224, 1)",width:"auto !important"},head:{backgroundColor:r.COLOR_PALETTE["grey-100"].color}},MuiChip:{root:{fontSize:"12px",borderRadius:"16px",height:"auto",lineHeight:"20px"},label:{paddingLeft:"7.5px",paddingRight:"7.5px"}},MuiFormControl:{root:{width:"100%"},marginNormal:{marginTop:"0",marginBottom:"0"}},MuiInputLabel:{root:{fontWeight:500,lineHeight:1.4},animated:{transition:"none"},shrink:{transform:"none"},formControl:{transform:"none",position:"static"}},MuiFormHelperText:{root:{fontSize:"12px",lineHeight:1.5}}},palette:{action:{active:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)"},background:{paper:r.COLOR_PALETTE.white.color,default:r.COLOR_PALETTE["grey-100"].color},common:{black:"#000",white:r.COLOR_PALETTE.white.color},contrastThreshold:3,divider:r.COLOR_PALETTE["grey-200"].color,grey:{50:r.COLOR_PALETTE["grey-500"].color,100:r.COLOR_PALETTE["grey-100"].color,200:r.COLOR_PALETTE["grey-200"].color,300:r.COLOR_PALETTE["grey-300"].color,400:r.COLOR_PALETTE["grey-400"].color,500:r.COLOR_PALETTE["grey-500"].color,600:r.COLOR_PALETTE["grey-600"].color,700:r.COLOR_PALETTE["grey-700"].color,800:r.COLOR_PALETTE["grey-800"].color,900:r.COLOR_PALETTE["grey-900"].color},primary:{contrastText:r.COLOR_PALETTE.white.color,main:r.COLOR_PALETTE.charcoal.color,light:r.COLOR_PALETTE["charcoal-light"].color,dark:r.COLOR_PALETTE["charcoal-dark"].color},secondary:{contrastText:r.COLOR_PALETTE.white.color,dark:r.COLOR_PALETTE["orange-dark"].color,light:r.COLOR_PALETTE["orange-light"].color,main:r.COLOR_PALETTE.orange.color},text:{disabled:r.COLOR_PALETTE["grey-600"].color,hint:r.COLOR_PALETTE["grey-600"].color,primary:r.COLOR_PALETTE["grey-900"].color,secondary:r.COLOR_PALETTE["grey-800"].color},success:{contrastText:r.COLOR_PALETTE.white.color,main:r.COLOR_PALETTE.green.color,dark:r.COLOR_PALETTE["green-dark"].color,light:r.COLOR_PALETTE["green-light"].color},error:{contrastText:r.COLOR_PALETTE.white.color,main:r.COLOR_PALETTE.red.color,dark:r.COLOR_PALETTE["red-dark"].color,light:r.COLOR_PALETTE["red-light"].color},warning:{contrastText:r.COLOR_PALETTE.white.color,main:r.COLOR_PALETTE.red.color,dark:r.COLOR_PALETTE["red-dark"].color,light:r.COLOR_PALETTE["red-light"].color},info:{contrastText:r.COLOR_PALETTE.white.color,main:r.COLOR_PALETTE.blue.color,dark:r.COLOR_PALETTE["blue-dark"].color,light:r.COLOR_PALETTE["blue-light"].color},tonalOffset:.2,type:"light"},props:{MuiButtonBase:{disableRipple:!0},MuiListItem:{disableGutters:!0}},shadows:["none","0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)","0px 1px 5px 0px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 3px 1px -2px rgba(0, 0, 0, 0.12)","0px 1px 8px 0px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 3px 3px -2px rgba(0, 0, 0, 0.12)","0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)","0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0, 0, 0, 0.12)","0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0, 0, 0, 0.12)","0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)","0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0, 0, 0, 0.12)","0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0, 0, 0, 0.12)","0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0, 0, 0, 0.12)","0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0, 0, 0, 0.12)","0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0, 0, 0, 0.12)","0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0, 0, 0, 0.12)","0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0, 0, 0, 0.12)","0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0, 0, 0, 0.12)","0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0, 0, 0, 0.12)","0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0, 0, 0, 0.12)","0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0, 0, 0, 0.12)","0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0, 0, 0, 0.12)","0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0, 0, 0, 0.12)","0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0, 0, 0, 0.12)","0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0, 0, 0, 0.12)","0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0, 0, 0, 0.12)","0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0, 0, 0, 0.12)"],shape:{borderRadius:a.DEFAULT_RADIUS},spacing:o.DEFAULT_SPACING,transitions:{duration:{complex:375,enteringScreen:225,leavingScreen:195,short:250,shorter:200,shortest:150,standard:300},easing:{easeIn:"cubic-bezier(0.4, 0, 1, 1)",easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"}},typography:{h1:i.TYPOGRAPHY.h1,h2:i.TYPOGRAPHY.h2,h3:i.TYPOGRAPHY.h3,h4:i.TYPOGRAPHY.h4,h5:i.TYPOGRAPHY.h5,body1:i.TYPOGRAPHY.p,body2:i.TYPOGRAPHY.small,subtitle1:i.TYPOGRAPHY.small,fontFamily:e||i.DEFAULT_FONT_FAMILY,fontSize:i.DEFAULT_FONT_SIZE_NUMBER,fontWeightLight:i.DEFAULT_FONT_WEIGHT_LIGHT,fontWeightBold:i.DEFAULT_FONT_WEIGHT_HEAVE,fontWeightRegular:i.DEFAULT_FONT_WEIGHT_REGULAR,fontWeightMedium:i.DEFAULT_FONT_WEIGHT_REGULAR},zIndex:{mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}}};var s=t.getTheme();t.theme=s;var c=t.getAuthTheme();t.authTheme=c},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.COLOR_PALETTE=t.NORTHSTAR_COLORS=void 0,function(e){e.ORANGE_DARK="#d45b07",e.ORANGE_LIGHT="#ffcc83",e.ORANGE="#de740c",e.BLUE_DARK="#0073bb",e.BLUE_LIGHT="#f1faff",e.BLUE="#0097e3",e.GREEN_DARK="#1d8102",e.GREEN_LIGHT="#f2f8f0",e.GREEN="#3aa420",e.RED_DARK="#d13212",e.RED_LIGHT="#fdf3f1",e.RED="#f84821",e.WHITE="#ffffff",e.CHARCOAL_DARK="#0f1e27",e.CHARCOAL_LIGHT="#61707b",e.CHARCOAL="#36454f",e.GREY_900="#212121",e.GREY_800="#424242",e.GREY_700="#616161",e.GREY_600="#757575",e.GREY_500="#9e9e9e",e.GREY_400="#bdbdbd",e.GREY_300="#e0e0e0",e.GREY_200="#eeeeee",e.GREY_100="#f5f5f5",e.GREY_50="#fafafa"}(r=t.NORTHSTAR_COLORS||(t.NORTHSTAR_COLORS={})),t.COLOR_PALETTE={"grey-900":{color:r.GREY_900,description:"Body text, Header and form label text"},"grey-800":{color:r.GREY_800,description:"Table cell text, List group header text, Descriptive text, Small text"},"grey-700":{color:r.GREY_700,description:""},"grey-600":{color:r.GREY_600,description:"Disabled text color on light backgrounds"},"grey-500":{color:r.GREY_500,description:"Inactive status color"},"grey-400":{color:r.GREY_400,description:"Disabled text color on medium-light background, Form element border, Placeholder text",rgb:"rgb(170, 183, 184)"},"grey-300":{color:r.GREY_300,description:"Inverted descriptive text, Disabled form control background"},"grey-200":{color:r.GREY_200,description:"Horizontal and vertical divider color on light background, Disabled form element background and border"},"grey-100":{color:r.GREY_100,description:"Page background, List item hover background, Header background"},"grey-50":{color:r.GREY_50},"orange-dark":{color:r.ORANGE_DARK,description:"Primary action active background, Primary action hover background"},orange:{color:r.ORANGE,description:"primary action background, Active navigation text"},"orange-light":{color:r.ORANGE_LIGHT},"blue-dark":{color:r.BLUE_DARK,description:"Link text, Selected form control background, Info status color, Focus state border, Selected item border, Checked and disabled toggle background"},blue:{color:r.BLUE},"blue-light":{color:r.BLUE_LIGHT,description:"Selected item background, Info status background"},"green-dark":{color:r.GREEN_DARK,description:"Success status color"},green:{color:r.GREEN,description:"Success status color"},"green-light":{color:r.GREEN_LIGHT,description:"Success status background"},"red-dark":{color:r.RED_DARK,description:"Error status color"},red:{color:r.RED},"red-light":{color:r.RED_LIGHT,description:"Error status background"},white:{color:r.WHITE,description:"Inverted body and label text, Content background"},charcoal:{color:r.CHARCOAL,description:"Primary Color"},"charcoal-light":{color:r.CHARCOAL_LIGHT},"charcoal-dark":{color:r.CHARCOAL_DARK}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FONT_FAMILY=t.DEFAULT_FONT_WEIGHT_HEAVE=t.DEFAULT_FONT_WEIGHT_LIGHT=t.DEFAULT_FONT_WEIGHT_REGULAR=t.DEFAULT_FONT_SIZE_NUMBER=t.DEFAULT_FONT_SIZE=t.TYPOGRAPHY=void 0,t.TYPOGRAPHY={h1:{fontSize:"28px",fontWeight:400,lineHeight:"40px",description:"Page title"},h2:{fontSize:"18px",fontWeight:700,lineHeight:"20px",description:"Container title"},h3:{fontSize:"18px",fontWeight:400,lineHeight:"20px",description:"Card section header, Key/value pair column title, Help panel section header"},h4:{fontSize:"15px",fontWeight:700,lineHeight:"20px",description:"Paragraph title"},h5:{fontSize:"15px",fontWeight:400,lineHeight:"20px",description:"-"},p:{fontSize:"14px",fontWeight:400,lineHeight:"20px",description:"Body and paragraph text"},a:{fontSize:"14px",fontWeight:400,lineHeight:"20px",description:"Normal links, Breadcrumb items"},kdd:{fontSize:"14px",fontWeight:400,lineHeight:"20px",description:"Displaying keyboard inputs"},pre:{fontSize:"14px",fontWeight:400,lineHeight:"20px",description:"Displaying preformatted blocks of code"},small:{fontSize:"12px",fontWeight:400,lineHeight:"20px",description:"Step labels in multipage create step navigation pane"},code:{fontSize:"12px",fontWeight:400,lineHeight:"15px",description:"Displaying code or computer output"}},t.DEFAULT_FONT_SIZE="14px",t.DEFAULT_FONT_SIZE_NUMBER=14,t.DEFAULT_FONT_WEIGHT_REGULAR=400,t.DEFAULT_FONT_WEIGHT_LIGHT=300,t.DEFAULT_FONT_WEIGHT_HEAVE=700,t.DEFAULT_FONT_FAMILY='"Roboto", "Helvetica Neue", "HelveticaNeue", "Helvetica", "Arial", sans-serif'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SPACING=void 0,t.DEFAULT_SPACING=10},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LINE_HEIGHT=t.DEFAULT_RADIUS=void 0,t.DEFAULT_RADIUS=4,t.DEFAULT_LINE_HEIGHT="20px"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(546));t.default=function(e){return i.default.createElement(o.default,Object.assign({},e))}},function(e,t,n){},function(e,t,n){"use strict";var r=n(1),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},,function(e,t,n){!function(t,r){var i;e.exports=(i=n(30),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,c=a.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},function(e,t,n){e.exports=self.fetch||(self.fetch=n(312).default||n(312))},function(e,t,n){(function(e,r){var i;!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=36,l=/^xn--/,d=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,v=String.fromCharCode;function m(e){throw new RangeError(h[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return g(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=v(e)})).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=u)e=p(e/35);return p(r+36*e/(e+38))}function C(e){var t,n,r,i,o,a,s,l,d,f,h,v=[],g=e.length,b=0,y=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),v.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=b,a=1,s=u;i>=g&&m("invalid-input"),((l=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:u)>=u||l>p((c-b)/a))&&m("overflow"),b+=l*a,!(l<(d=s<=S?1:s>=S+26?26:s-S));s+=u)a>p(c/(f=u-d))&&m("overflow"),a*=f;S=k(b-o,t=v.length+1,0==o),p(b/t)>c-y&&m("overflow"),y+=p(b/t),b%=t,v.splice(b++,0,y)}return w(v)}function O(e){var t,n,r,i,o,a,s,l,d,f,h,g,b,w,C,O=[];for(g=(e=y(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(h=e[a])<128&&O.push(v(h));for(r=i=O.length,i&&O.push("-");r<g;){for(s=c,a=0;a<g;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>p((c-n)/(b=r+1))&&m("overflow"),n+=(s-t)*b,t=s,a=0;a<g;++a)if((h=e[a])<t&&++n>c&&m("overflow"),h==t){for(l=n,d=u;!(l<(f=d<=o?1:d>=o+26?26:d-o));d+=u)C=l-f,w=u-f,O.push(v(S(f+C%w,0))),l=p(C/w);O.push(v(S(l,0))),o=k(n,b,r==i),n=0,++r}++n,++t}return O.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:w},decode:C,encode:O,toASCII:function(e){return b(e,(function(e){return d.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return b(e,(function(e){return l.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(499)(e),n(34))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(502),t.encode=t.stringify=n(503)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,f,h,p,v=e[l].replace(s,"%20"),m=v.indexOf(n);m>=0?(d=v.substr(0,m),f=v.substr(m+1)):(d=v,f=""),h=decodeURIComponent(d),p=decodeURIComponent(f),r(a,h)?i(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var r,i,o=n(314),a=n(315),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var h=o();null==d&&(d=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:c+1,m=p-s+(v-c)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,c=v,i=f;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[u++]=g>>>24&255,l[u++]=g>>>16&255,l[u++]=g>>>8&255,l[u++]=255&g;var b=p/4294967296*1e4&268435455;l[u++]=b>>>8&255,l[u++]=255&b,l[u++]=b>>>24&15|16,l[u++]=b>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=d[y];return t||a(l)}},function(e,t,n){var r=n(314),i=n(315);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(316),i=n(318),o=n(513),a=n(516),s=n(518),c=n(78),u=function(){function e(e){(0,a.supportsWebCrypto)((0,c.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,c.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(551),i="undefined"!==typeof e&&e.from?function(t){return e.from(t,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}).call(this,n(15).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(320).__exportStar)(n(514),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(320),i=n(321),o=n(515),a=n(319),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(321),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&u)|0)+(l+(r.KEY[d]+this.temp[d]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=u,u=c,c=s,s=a+v|0,a=o,o=i,i=n,n=v+m|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(322).__exportStar(n(517),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(322),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"===typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!==typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(519);r.__exportStar(n(520),t),r.__exportStar(n(521),t),r.__exportStar(n(522),t),r.__exportStar(n(523),t),r.__exportStar(n(524),t)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,i=t.subtle;return r.map((function(e){return i[e]})).concat(n).every((function(e){return"function"===typeof e}))}return!1}},function(e,t,n){"use strict";var r=n(32),i=n(324),o=n(526),a=n(330);var s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(117));s.Axios=o,s.Cancel=n(118),s.CancelToken=n(539),s.isCancel=n(329),s.VERSION=n(331).version,s.all=function(e){return Promise.all(e)},s.spread=n(540),s.isAxiosError=n(541),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var r=n(32),i=n(325),o=n(527),a=n(528),s=n(330),c=n(538),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var f=t;r.length;){var h=r.shift(),p=r.shift();try{f=h(f)}catch(v){p(v);break}}try{o=a(f)}catch(v){return Promise.reject(v)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var r=n(32);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(32),i=n(529),o=n(329),a=n(117),s=n(118);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(32),i=n(117);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(328);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(32);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(534),i=n(535);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(32),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(32);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(331).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},function(e,t,n){"use strict";var r=n(118);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(333),i=n(334),o=n(543),a=n(549),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=c(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if("string"===typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(c(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function c(e){return"string"===typeof e?a.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(334),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&u)|0)+(l+(r.KEY[d]+this.temp[d]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=u,u=c,c=s,s=a+v|0,a=o,o=i,i=n,n=v+m|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var a=function(){return"function"===typeof Symbol},s=function(e){return a()&&Boolean(Symbol[e])},c=function(e){return s(e)?Symbol[e]:"@@"+e};a()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var u=c("iterator"),l=c("observable"),d=c("species");function f(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[d])&&(t=void 0),void 0!==t?t:C}function p(e){return e instanceof C}function v(e){v.log?v.log(e):setTimeout((function(){throw e}))}function m(e){Promise.resolve().then((function(){try{e()}catch(t){v(t)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(r){v(r)}}function b(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,n){e._state="running";var r=e._observer;try{var i=f(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(b(e),!i)throw n;i.call(r,n);break;case"complete":b(e),i&&i.call(r)}}catch(o){v(o)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function w(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(y(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void y(e,t,n);e._queue.push({type:t,value:n})}}var S=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new k(this);try{this._cleanup=n.call(void 0,i)}catch(o){i.error(o)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(b(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),k=function(){function e(t){r(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){w(this._subscription,"next",e)}},{key:"error",value:function(e){w(this._subscription,"error",e)}},{key:"complete",value:function(){w(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),C=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return o(e,[{key:"subscribe",value:function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new S(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=h(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(s){return n.error(s)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=h(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=h(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(s){return r.error(s)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,l);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return p(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(s("iterator")&&(r=f(t,u)))return new n((function(e){m((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(e.next(c),e.closed)return}}catch(u){i=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){m((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"===typeof this?this:e;return new i((function(e){m((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:d,get:function(){return this}}]),e}();t.Observable=C,a()&&Object.defineProperty(C,Symbol("extensions"),{value:{symbol:l,hostReportError:v},configurable:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"ChimeSDKMessaging",(function(){return Ns})),n.d(t,"ChimeSDKMessagingClient",(function(){return Yt})),n.d(t,"AssociateChannelFlowCommand",(function(){return Ha})),n.d(t,"BatchCreateChannelMembershipCommand",(function(){return Wa})),n.d(t,"ChannelFlowCallbackCommand",(function(){return qa})),n.d(t,"CreateChannelBanCommand",(function(){return Ka})),n.d(t,"CreateChannelCommand",(function(){return Ga})),n.d(t,"CreateChannelFlowCommand",(function(){return Ja})),n.d(t,"CreateChannelMembershipCommand",(function(){return $a})),n.d(t,"CreateChannelModeratorCommand",(function(){return Ya})),n.d(t,"DeleteChannelBanCommand",(function(){return Qa})),n.d(t,"DeleteChannelCommand",(function(){return Za})),n.d(t,"DeleteChannelFlowCommand",(function(){return Xa})),n.d(t,"DeleteChannelMembershipCommand",(function(){return es})),n.d(t,"DeleteChannelMessageCommand",(function(){return ts})),n.d(t,"DeleteChannelModeratorCommand",(function(){return ns})),n.d(t,"DescribeChannelBanCommand",(function(){return rs})),n.d(t,"DescribeChannelCommand",(function(){return is})),n.d(t,"DescribeChannelFlowCommand",(function(){return os})),n.d(t,"DescribeChannelMembershipCommand",(function(){return as})),n.d(t,"DescribeChannelMembershipForAppInstanceUserCommand",(function(){return ss})),n.d(t,"DescribeChannelModeratedByAppInstanceUserCommand",(function(){return cs})),n.d(t,"DescribeChannelModeratorCommand",(function(){return us})),n.d(t,"DisassociateChannelFlowCommand",(function(){return ls})),n.d(t,"GetChannelMembershipPreferencesCommand",(function(){return ds})),n.d(t,"GetChannelMessageCommand",(function(){return fs})),n.d(t,"GetChannelMessageStatusCommand",(function(){return hs})),n.d(t,"GetMessagingSessionEndpointCommand",(function(){return ps})),n.d(t,"ListChannelBansCommand",(function(){return vs})),n.d(t,"ListChannelFlowsCommand",(function(){return ms})),n.d(t,"ListChannelMembershipsCommand",(function(){return gs})),n.d(t,"ListChannelMembershipsForAppInstanceUserCommand",(function(){return bs})),n.d(t,"ListChannelMessagesCommand",(function(){return ys})),n.d(t,"ListChannelModeratorsCommand",(function(){return ws})),n.d(t,"ListChannelsAssociatedWithChannelFlowCommand",(function(){return Ss})),n.d(t,"ListChannelsCommand",(function(){return ks})),n.d(t,"ListChannelsModeratedByAppInstanceUserCommand",(function(){return Cs})),n.d(t,"ListSubChannelsCommand",(function(){return Os})),n.d(t,"ListTagsForResourceCommand",(function(){return xs})),n.d(t,"PutChannelMembershipPreferencesCommand",(function(){return Es})),n.d(t,"RedactChannelMessageCommand",(function(){return _s})),n.d(t,"SearchChannelsCommand",(function(){return Ts})),n.d(t,"SendChannelMessageCommand",(function(){return Is})),n.d(t,"TagResourceCommand",(function(){return As})),n.d(t,"UntagResourceCommand",(function(){return Ms})),n.d(t,"UpdateChannelCommand",(function(){return Ps})),n.d(t,"UpdateChannelFlowCommand",(function(){return js})),n.d(t,"UpdateChannelMessageCommand",(function(){return Rs})),n.d(t,"UpdateChannelReadMarkerCommand",(function(){return Ds})),n.d(t,"AllowNotifications",(function(){return en})),n.d(t,"ChannelMembershipType",(function(){return tn})),n.d(t,"ErrorCode",(function(){return nn})),n.d(t,"BadRequestException",(function(){return mn})),n.d(t,"ConflictException",(function(){return gn})),n.d(t,"ForbiddenException",(function(){return bn})),n.d(t,"NotFoundException",(function(){return yn})),n.d(t,"ServiceFailureException",(function(){return wn})),n.d(t,"ServiceUnavailableException",(function(){return Sn})),n.d(t,"ThrottledClientException",(function(){return kn})),n.d(t,"UnauthorizedClientException",(function(){return Cn})),n.d(t,"ResourceLimitExceededException",(function(){return On})),n.d(t,"ChannelMode",(function(){return on})),n.d(t,"ChannelPrivacy",(function(){return an})),n.d(t,"InvocationType",(function(){return sn})),n.d(t,"FallbackAction",(function(){return cn})),n.d(t,"PushNotificationType",(function(){return un})),n.d(t,"ChannelMessagePersistenceType",(function(){return ln})),n.d(t,"ChannelMessageStatus",(function(){return dn})),n.d(t,"ChannelMessageType",(function(){return fn})),n.d(t,"SortOrder",(function(){return hn})),n.d(t,"SearchFieldKey",(function(){return pn})),n.d(t,"SearchFieldOperator",(function(){return vn})),n.d(t,"AppInstanceUserMembershipSummaryFilterSensitiveLog",(function(){return xn})),n.d(t,"AssociateChannelFlowRequestFilterSensitiveLog",(function(){return En})),n.d(t,"IdentityFilterSensitiveLog",(function(){return _n})),n.d(t,"BatchChannelMembershipsFilterSensitiveLog",(function(){return Tn})),n.d(t,"BatchCreateChannelMembershipRequestFilterSensitiveLog",(function(){return In})),n.d(t,"BatchCreateChannelMembershipErrorFilterSensitiveLog",(function(){return An})),n.d(t,"BatchCreateChannelMembershipResponseFilterSensitiveLog",(function(){return Mn})),n.d(t,"ElasticChannelConfigurationFilterSensitiveLog",(function(){return Pn})),n.d(t,"ChannelFilterSensitiveLog",(function(){return jn})),n.d(t,"ChannelAssociatedWithFlowSummaryFilterSensitiveLog",(function(){return Rn})),n.d(t,"ChannelBanFilterSensitiveLog",(function(){return Dn})),n.d(t,"ChannelBanSummaryFilterSensitiveLog",(function(){return Nn})),n.d(t,"LambdaConfigurationFilterSensitiveLog",(function(){return Ln})),n.d(t,"ProcessorConfigurationFilterSensitiveLog",(function(){return Fn})),n.d(t,"ProcessorFilterSensitiveLog",(function(){return Un})),n.d(t,"ChannelFlowFilterSensitiveLog",(function(){return Bn})),n.d(t,"MessageAttributeValueFilterSensitiveLog",(function(){return Vn})),n.d(t,"PushNotificationConfigurationFilterSensitiveLog",(function(){return zn})),n.d(t,"ChannelMessageCallbackFilterSensitiveLog",(function(){return Hn})),n.d(t,"ChannelFlowCallbackRequestFilterSensitiveLog",(function(){return Wn})),n.d(t,"ChannelFlowCallbackResponseFilterSensitiveLog",(function(){return qn})),n.d(t,"ChannelFlowSummaryFilterSensitiveLog",(function(){return Kn})),n.d(t,"ChannelMembershipFilterSensitiveLog",(function(){return Gn})),n.d(t,"ChannelSummaryFilterSensitiveLog",(function(){return Jn})),n.d(t,"ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog",(function(){return $n})),n.d(t,"PushNotificationPreferencesFilterSensitiveLog",(function(){return Yn})),n.d(t,"ChannelMembershipPreferencesFilterSensitiveLog",(function(){return Qn})),n.d(t,"ChannelMembershipSummaryFilterSensitiveLog",(function(){return Zn})),n.d(t,"ChannelMessageStatusStructureFilterSensitiveLog",(function(){return Xn})),n.d(t,"ChannelMessageFilterSensitiveLog",(function(){return er})),n.d(t,"ChannelMessageSummaryFilterSensitiveLog",(function(){return tr})),n.d(t,"ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog",(function(){return nr})),n.d(t,"ChannelModeratorFilterSensitiveLog",(function(){return rr})),n.d(t,"ChannelModeratorSummaryFilterSensitiveLog",(function(){return ir})),n.d(t,"TagFilterSensitiveLog",(function(){return or})),n.d(t,"CreateChannelRequestFilterSensitiveLog",(function(){return ar})),n.d(t,"CreateChannelResponseFilterSensitiveLog",(function(){return sr})),n.d(t,"CreateChannelBanRequestFilterSensitiveLog",(function(){return cr})),n.d(t,"CreateChannelBanResponseFilterSensitiveLog",(function(){return ur})),n.d(t,"CreateChannelFlowRequestFilterSensitiveLog",(function(){return lr})),n.d(t,"CreateChannelFlowResponseFilterSensitiveLog",(function(){return dr})),n.d(t,"CreateChannelMembershipRequestFilterSensitiveLog",(function(){return fr})),n.d(t,"CreateChannelMembershipResponseFilterSensitiveLog",(function(){return hr})),n.d(t,"CreateChannelModeratorRequestFilterSensitiveLog",(function(){return pr})),n.d(t,"CreateChannelModeratorResponseFilterSensitiveLog",(function(){return vr})),n.d(t,"DeleteChannelRequestFilterSensitiveLog",(function(){return mr})),n.d(t,"DeleteChannelBanRequestFilterSensitiveLog",(function(){return gr})),n.d(t,"DeleteChannelFlowRequestFilterSensitiveLog",(function(){return br})),n.d(t,"DeleteChannelMembershipRequestFilterSensitiveLog",(function(){return yr})),n.d(t,"DeleteChannelMessageRequestFilterSensitiveLog",(function(){return wr})),n.d(t,"DeleteChannelModeratorRequestFilterSensitiveLog",(function(){return Sr})),n.d(t,"DescribeChannelRequestFilterSensitiveLog",(function(){return kr})),n.d(t,"DescribeChannelResponseFilterSensitiveLog",(function(){return Cr})),n.d(t,"DescribeChannelBanRequestFilterSensitiveLog",(function(){return Or})),n.d(t,"DescribeChannelBanResponseFilterSensitiveLog",(function(){return xr})),n.d(t,"DescribeChannelFlowRequestFilterSensitiveLog",(function(){return Er})),n.d(t,"DescribeChannelFlowResponseFilterSensitiveLog",(function(){return _r})),n.d(t,"DescribeChannelMembershipRequestFilterSensitiveLog",(function(){return Tr})),n.d(t,"DescribeChannelMembershipResponseFilterSensitiveLog",(function(){return Ir})),n.d(t,"DescribeChannelMembershipForAppInstanceUserRequestFilterSensitiveLog",(function(){return Ar})),n.d(t,"DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog",(function(){return Mr})),n.d(t,"DescribeChannelModeratedByAppInstanceUserRequestFilterSensitiveLog",(function(){return Pr})),n.d(t,"DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog",(function(){return jr})),n.d(t,"DescribeChannelModeratorRequestFilterSensitiveLog",(function(){return Rr})),n.d(t,"DescribeChannelModeratorResponseFilterSensitiveLog",(function(){return Dr})),n.d(t,"DisassociateChannelFlowRequestFilterSensitiveLog",(function(){return Nr})),n.d(t,"GetChannelMembershipPreferencesRequestFilterSensitiveLog",(function(){return Lr})),n.d(t,"GetChannelMembershipPreferencesResponseFilterSensitiveLog",(function(){return Fr})),n.d(t,"GetChannelMessageRequestFilterSensitiveLog",(function(){return Ur})),n.d(t,"GetChannelMessageResponseFilterSensitiveLog",(function(){return Br})),n.d(t,"GetChannelMessageStatusRequestFilterSensitiveLog",(function(){return Vr})),n.d(t,"GetChannelMessageStatusResponseFilterSensitiveLog",(function(){return zr})),n.d(t,"GetMessagingSessionEndpointRequestFilterSensitiveLog",(function(){return Hr})),n.d(t,"MessagingSessionEndpointFilterSensitiveLog",(function(){return Wr})),n.d(t,"GetMessagingSessionEndpointResponseFilterSensitiveLog",(function(){return qr})),n.d(t,"ListChannelBansRequestFilterSensitiveLog",(function(){return Kr})),n.d(t,"ListChannelBansResponseFilterSensitiveLog",(function(){return Gr})),n.d(t,"ListChannelFlowsRequestFilterSensitiveLog",(function(){return Jr})),n.d(t,"ListChannelFlowsResponseFilterSensitiveLog",(function(){return $r})),n.d(t,"ListChannelMembershipsRequestFilterSensitiveLog",(function(){return Yr})),n.d(t,"ListChannelMembershipsResponseFilterSensitiveLog",(function(){return Qr})),n.d(t,"ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog",(function(){return Zr})),n.d(t,"ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog",(function(){return Xr})),n.d(t,"ListChannelMessagesRequestFilterSensitiveLog",(function(){return ei})),n.d(t,"ListChannelMessagesResponseFilterSensitiveLog",(function(){return ti})),n.d(t,"ListChannelModeratorsRequestFilterSensitiveLog",(function(){return ni})),n.d(t,"ListChannelModeratorsResponseFilterSensitiveLog",(function(){return ri})),n.d(t,"ListChannelsRequestFilterSensitiveLog",(function(){return ii})),n.d(t,"ListChannelsResponseFilterSensitiveLog",(function(){return oi})),n.d(t,"ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog",(function(){return ai})),n.d(t,"ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog",(function(){return si})),n.d(t,"ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog",(function(){return ci})),n.d(t,"ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog",(function(){return ui})),n.d(t,"ListSubChannelsRequestFilterSensitiveLog",(function(){return li})),n.d(t,"SubChannelSummaryFilterSensitiveLog",(function(){return di})),n.d(t,"ListSubChannelsResponseFilterSensitiveLog",(function(){return fi})),n.d(t,"ListTagsForResourceRequestFilterSensitiveLog",(function(){return hi})),n.d(t,"ListTagsForResourceResponseFilterSensitiveLog",(function(){return pi})),n.d(t,"PutChannelMembershipPreferencesRequestFilterSensitiveLog",(function(){return vi})),n.d(t,"PutChannelMembershipPreferencesResponseFilterSensitiveLog",(function(){return mi})),n.d(t,"RedactChannelMessageRequestFilterSensitiveLog",(function(){return gi})),n.d(t,"RedactChannelMessageResponseFilterSensitiveLog",(function(){return bi})),n.d(t,"SearchFieldFilterSensitiveLog",(function(){return yi})),n.d(t,"SearchChannelsRequestFilterSensitiveLog",(function(){return wi})),n.d(t,"SearchChannelsResponseFilterSensitiveLog",(function(){return Si})),n.d(t,"SendChannelMessageRequestFilterSensitiveLog",(function(){return ki})),n.d(t,"SendChannelMessageResponseFilterSensitiveLog",(function(){return Ci})),n.d(t,"TagResourceRequestFilterSensitiveLog",(function(){return Oi})),n.d(t,"UntagResourceRequestFilterSensitiveLog",(function(){return xi})),n.d(t,"UpdateChannelRequestFilterSensitiveLog",(function(){return Ei})),n.d(t,"UpdateChannelResponseFilterSensitiveLog",(function(){return _i})),n.d(t,"UpdateChannelFlowRequestFilterSensitiveLog",(function(){return Ti})),n.d(t,"UpdateChannelFlowResponseFilterSensitiveLog",(function(){return Ii})),n.d(t,"UpdateChannelMessageRequestFilterSensitiveLog",(function(){return Ai})),n.d(t,"UpdateChannelMessageResponseFilterSensitiveLog",(function(){return Mi})),n.d(t,"UpdateChannelReadMarkerRequestFilterSensitiveLog",(function(){return Pi})),n.d(t,"UpdateChannelReadMarkerResponseFilterSensitiveLog",(function(){return ji})),n.d(t,"paginateListChannelBans",(function(){return Us})),n.d(t,"paginateListChannelFlows",(function(){return zs})),n.d(t,"paginateListChannelMembershipsForAppInstanceUser",(function(){return qs})),n.d(t,"paginateListChannelMemberships",(function(){return Js})),n.d(t,"paginateListChannelMessages",(function(){return Qs})),n.d(t,"paginateListChannelModerators",(function(){return ec})),n.d(t,"paginateListChannelsAssociatedWithChannelFlow",(function(){return rc})),n.d(t,"paginateListChannelsModeratedByAppInstanceUser",(function(){return ac})),n.d(t,"paginateListChannels",(function(){return uc})),n.d(t,"paginateListSubChannels",(function(){return fc})),n.d(t,"paginateSearchChannels",(function(){return vc})),n.d(t,"ChimeSDKMessagingServiceException",(function(){return rn}));var r,i=n(0);!function(e){e.ENV="env",e.CONFIG="shared config entry"}(r||(r={}));var o=function(e){if("function"===typeof e)return e;var t=Promise.resolve(e);return function(){return t}},a=function(e){var t,n=o(e.useDualstackEndpoint),r=e.endpoint,a=e.useFipsEndpoint,s=e.urlParser;return Object(i.a)(Object(i.a)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?o("string"===typeof r?s(r):r):function(){return function(e){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r,o,a,s,c;return Object(i.f)(this,(function(i){switch(i.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=i.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return o=i.sent(),[4,e.useFipsEndpoint()];case 3:return a=i.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:a})];case 4:if(!(s=(null!==(c=i.sent())&&void 0!==c?c:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(s))]}}))}))}(Object(i.a)(Object(i.a)({},e),{useDualstackEndpoint:n,useFipsEndpoint:a}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})},s=function(e){return"string"===typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},c=function(e){return s(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},u=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,i=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&i===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},l=function(e,t){var n,r,o,a,s,c,l=t.useFipsEndpoint,d=void 0!==l&&l,f=t.useDualstackEndpoint,h=void 0!==f&&f,p=t.signingService,v=t.regionHash,m=t.partitionHash,g=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:m}),b=e in v?e:null!==(r=null===(n=m[g])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,y={useFipsEndpoint:d,useDualstackEndpoint:h},w=function(e,t){var n=t.regionHostname,r=t.partitionHostname;return n||(r?r.replace("{region}",e):void 0)}(b,{regionHostname:u(null===(o=v[b])||void 0===o?void 0:o.variants,y),partitionHostname:u(null===(a=m[g])||void 0===a?void 0:a.variants,y)});if(void 0===w)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:b,useFipsEndpoint:d,useDualstackEndpoint:h}));var S=function(e,t){var n=t.signingRegion,r=t.regionRegex,i=t.useFipsEndpoint;if(n)return n;if(i){var o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),a=e.match(o);if(a)return a[0].slice(1,-1)}}(w,{signingRegion:null===(s=v[b])||void 0===s?void 0:s.signingRegion,regionRegex:m[g].regionRegex,useFipsEndpoint:d});return Object(i.a)(Object(i.a)({partition:g,signingService:p,hostname:w},S&&{signingRegion:S}),(null===(c=v[b])||void 0===c?void 0:c.signingService)&&{signingService:v[b].signingService})},d=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers},e.prototype.clone=function(){var t,n=new e(Object(i.a)(Object(i.a)({},this),{headers:Object(i.a)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Object(i.a)(Object(i.a)({},e),((r={})[n]=Array.isArray(o)?Object(i.i)([],Object(i.g)(o),!1):o,r))}),{}))),n},e}();var f=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers},e}();var h="content-length";var p={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},v=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Object(i.d)(t,void 0,void 0,(function(){var t,o,a,s,c;return Object(i.f)(this,(function(u){if(t=r.request,d.isInstance(t)&&(o=t.body,a=t.headers,o&&-1===Object.keys(a).map((function(e){return e.toLowerCase()})).indexOf(h)))try{s=e(o),t.headers=Object(i.a)(Object(i.a)({},t.headers),((c={})["content-length"]=String(s),c))}catch(l){}return[2,n(Object(i.a)(Object(i.a)({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),p)}}};var m={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},g=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Object(i.d)(void 0,void 0,void 0,(function(){var r,o;return Object(i.f)(this,(function(i){return d.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),m)}}},b={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},y=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return Object(i.d)(void 0,void 0,void 0,(function(){var r,o,a,s,c,u,l,d,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return r=t.clientName,o=t.commandName,a=t.inputFilterSensitiveLog,s=t.logger,c=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=h.sent(),s?("function"===typeof s.info&&(l=u.output,d=l.$metadata,f=Object(i.h)(l,["$metadata"]),s.info({clientName:r,commandName:o,input:a(n.input),output:c(f),metadata:d})),[2,u]):[2,u]}}))}))}}),b)}}},w=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers},e.prototype.clone=function(){var t,n=new e(Object(i.a)(Object(i.a)({},this),{headers:Object(i.a)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Object(i.a)(Object(i.a)({},e),((r={})[n]=Array.isArray(o)?Object(i.i)([],Object(i.g)(o),!1):o,r))}),{}))),n},e}();!function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}e.isInstance=function(e){if(!e)return!1;var t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}();var S,k="X-Amzn-Trace-Id",C={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},O=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Object(i.d)(void 0,void 0,void 0,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){return r=n.request,!w.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(k)?[2,t(n)]:(o=Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AWS_LAMBDA_FUNCTION_NAME,a=Object({NODE_ENV:"production",PUBLIC_URL:"https://schuettc.github.io/csb-z6qg3s",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})._X_AMZN_TRACE_ID,(s=function(e){return"string"===typeof e&&e.length>0})(o)&&s(a)&&(r.headers["X-Amzn-Trace-Id"]=a),[2,t(Object(i.a)(Object(i.a)({},n),{request:r}))])}))}))}}}(e),C)}}};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(S||(S={}));var x,E=S.STANDARD,_=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],T=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],I=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],A=[500,502,503,504],M=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||T.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},P=function(){function e(e){var t,n,r,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null===e||void 0===e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null===e||void 0===e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null===e||void 0===e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(i=null===e||void 0===e?void 0:e.scaleConstant)&&void 0!==i?i:.4,this.smooth=null!==(o=null===e||void 0===e?void 0:e.smooth)&&void 0!==o?o:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return Object(i.d)(this,void 0,void 0,(function(){return Object(i.f)(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return Object(i.d)(this,void 0,void 0,(function(){var t;return Object(i.f)(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),M(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),j=new Uint8Array(16);function R(){if(!x&&!(x="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(j)}var D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var N=function(e){return"string"===typeof e&&D.test(e)},L=[],F=0;F<256;++F)L.push((F+256).toString(16).substr(1));var U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(L[e[t+0]]+L[e[t+1]]+L[e[t+2]]+L[e[t+3]]+"-"+L[e[t+4]]+L[e[t+5]]+"-"+L[e[t+6]]+L[e[t+7]]+"-"+L[e[t+8]]+L[e[t+9]]+"-"+L[e[t+10]]+L[e[t+11]]+L[e[t+12]]+L[e[t+13]]+L[e[t+14]]+L[e[t+15]]).toLowerCase();if(!N(n))throw TypeError("Stringified UUID is invalid");return n};var B=function(e,t,n){var r=(e=e||{}).random||(e.rng||R)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return U(r)},V="amz-sdk-invocation-id",z="amz-sdk-request",H=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},W=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return _.includes(e.name)}(e)||M(e)||function(e){var t;return I.includes(e.name)||A.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},q=function(){function e(e,t){var n,r,i;this.maxAttemptsProvider=e,this.mode=S.STANDARD,this.retryDecider=null!==(n=null===t||void 0===t?void 0:t.retryDecider)&&void 0!==n?n:W,this.delayDecider=null!==(r=null===t||void 0===t?void 0:t.delayDecider)&&void 0!==r?r:H,this.retryQuota=null!==(i=null===t||void 0===t?void 0:t.retryQuota)&&void 0!==i?i:function(e,t){var n,r,i,o=e,a=null!==(n=null===t||void 0===t?void 0:t.noRetryIncrement)&&void 0!==n?n:1,s=null!==(r=null===t||void 0===t?void 0:t.retryCost)&&void 0!==r?r:5,c=null!==(i=null===t||void 0===t?void 0:t.timeoutRetryCost)&&void 0!==i?i:10,u=e,l=function(e){return"TimeoutError"===e.name?c:s},d=function(e){return l(e)<=u};return Object.freeze({hasRetryTokens:d,retrieveRetryTokens:function(e){if(!d(e))throw new Error("No retry token available");var t=l(e);return u-=t,t},releaseRetryTokens:function(e){u+=null!==e&&void 0!==e?e:a,u=Math.min(u,o)}})}(500)}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Object(i.d)(this,void 0,void 0,(function(){var e;return Object(i.f)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return Object(i.d)(this,void 0,void 0,(function(){var r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return o=0,a=0,[4,this.getMaxAttempts()];case 1:s=h.sent(),c=t.request,d.isInstance(c)&&(c.headers[V]=B()),u=function(){var u,f,h,p,v,m,g,b;return Object(i.f)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,7]),d.isInstance(c)&&(c.headers[z]="attempt=".concat(o+1,"; max=").concat(s)),(null===n||void 0===n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,e(t)];case 3:return u=i.sent(),f=u.response,h=u.output,(null===n||void 0===n?void 0:n.afterRequest)&&n.afterRequest(f),l.retryQuota.releaseRetryTokens(r),h.$metadata.attempts=o+1,h.$metadata.totalRetryDelay=a,[2,{value:{response:f,output:h}}];case 4:return p=i.sent(),v=G(p),o++,l.shouldRetry(v,o,s)?(r=l.retryQuota.retrieveRetryTokens(v),m=l.delayDecider(M(v)?500:100,o),g=K(v.$response),b=Math.max(g||0,m),a+=b,[4,new Promise((function(e){return setTimeout(e,b)}))]):[3,6];case 5:return i.sent(),[2,"continue"];case 6:throw v.$metadata||(v.$metadata={}),v.$metadata.attempts=o,v.$metadata.totalRetryDelay=a,v;case 7:return[2]}}))},l=this,h.label=2;case 2:return[5,u()];case 3:return"object"===typeof(f=h.sent())?[2,f.value]:[3,2];case 4:return[2]}}))}))},e}(),K=function(e){if(f.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},G=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"===typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},J=function(e){function t(t,n){var r=this,o=null!==n&&void 0!==n?n:{},a=o.rateLimiter,s=Object(i.h)(o,["rateLimiter"]);return(r=e.call(this,t,s)||this).rateLimiter=null!==a&&void 0!==a?a:new P,r.mode=S.ADAPTIVE,r}return Object(i.e)(t,e),t.prototype.retry=function(t,n){return Object(i.d)(this,void 0,void 0,(function(){var r=this;return Object(i.f)(this,(function(o){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return Object(i.d)(r,void 0,void 0,(function(){return Object(i.f)(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(q),$={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Y=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return Object(i.d)(void 0,void 0,void 0,(function(){var o;return Object(i.f)(this,(function(a){switch(a.label){case 0:return[4,e.retryStrategy()];case 1:return(null===(o=a.sent())||void 0===o?void 0:o.mode)&&(n.userAgent=Object(i.i)(Object(i.i)([],Object(i.g)(n.userAgent||[]),!1),[["cfg/retry-mode",o.mode]],!1)),[2,o.retry(t,r)]}}))}))}}}(e),$)}}},Q=function(e){function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n)||this;return i.tryNextLink=r,i.name="ProviderError",Object.setPrototypeOf(i,t.prototype),i}return Object(i.e)(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);(function(e){function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="CredentialsProviderError",Object.setPrototypeOf(i,t.prototype),i}Object(i.e)(t,e)})(Q),function(e){function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="TokenProviderError",Object.setPrototypeOf(i,t.prototype),i}Object(i.e)(t,e)}(Q);for(var Z=function(e,t,n){var r,o,a,s=!1,c=function(){return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(t){switch(t.label){case 0:o||(o=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,o];case 2:return r=t.sent(),a=!0,s=!1,[3,4];case 3:return o=void 0,[7];case 4:return[2,r]}}))}))};return void 0===t?function(e){return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(t){switch(t.label){case 0:return a&&!(null===e||void 0===e?void 0:e.forceRefresh)?[3,2]:[4,c()];case 1:r=t.sent(),t.label=2;case 2:return[2,r]}}))}))}:function(e){return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(i){switch(i.label){case 0:return a&&!(null===e||void 0===e?void 0:e.forceRefresh)?[3,2]:[4,c()];case 1:r=i.sent(),i.label=2;case 2:return s?[2,r]:n&&!n(r)?(s=!0,[2,r]):t(r)?[4,c()]:[3,4];case 3:return i.sent(),[2,r];case 4:return[2,r]}}))}))}},X={},ee={},te=0;te<256;te++){var ne=te.toString(16).toLowerCase();1===ne.length&&(ne="0".concat(ne)),X[te]=ne,ee[ne]=te}function re(e){for(var t="",n=0;n<e.byteLength;n++)t+=X[e[n]];return t}var ie="X-Amz-Date",oe="X-Amz-Signature",ae="X-Amz-Security-Token",se="authorization",ce=ie.toLowerCase(),ue=[se,ce,"date"],le=oe.toLowerCase(),de="x-amz-content-sha256",fe=ae.toLowerCase(),he={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},pe=/^proxy-/,ve=/^sec-/,me="AWS4-HMAC-SHA256",ge="AWS4-HMAC-SHA256-PAYLOAD",be="aws4_request",ye={},we=[],Se=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(be)},ke=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},Ce=function(e,t,n){var r,o,a=e.headers,s={};try{for(var c=Object(i.j)(Object.keys(a).sort()),u=c.next();!u.done;u=c.next()){var l=u.value;if(void 0!=a[l]){var d=l.toLowerCase();(d in he||(null===t||void 0===t?void 0:t.has(d))||pe.test(d)||ve.test(d))&&(!n||n&&!n.has(d))||(s[d]=a[l].trim().replace(/\s+/g," "))}}}catch(f){r={error:f}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return s},Oe=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,xe)},xe=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},Ee=function(e,t){var n=e.headers,r=e.body;return Object(i.d)(void 0,void 0,void 0,(function(){var e,o,a,s,c,u,l;return Object(i.f)(this,(function(d){switch(d.label){case 0:try{for(e=Object(i.j)(Object.keys(n)),o=e.next();!o.done;o=e.next())if((a=o.value).toLowerCase()===de)return[2,n[a]]}catch(h){u={error:h}}finally{try{o&&!o.done&&(l=e.return)&&l.call(e)}finally{if(u)throw u.error}}return void 0!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"===typeof r||ArrayBuffer.isView(r)||(f=r,"function"===typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((s=new t).update(r),c=re,[4,s.digest()]):[3,3];case 2:return[2,c.apply(void 0,[d.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},_e=function(e){var t=e.headers,n=e.query,r=Object(i.h)(e,["headers","query"]);return Object(i.a)(Object(i.a)({},r),{headers:Object(i.a)({},t),query:n?Te(n):void 0})},Te=function(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Object(i.a)(Object(i.a)({},t),((r={})[n]=Array.isArray(o)?Object(i.i)([],Object(i.g)(o),!1):o,r))}),{})},Ie=function(e){var t,n;e="function"===typeof e.clone?e.clone():_e(e);try{for(var r=Object(i.j)(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var a=o.value;ue.indexOf(a.toLowerCase())>-1&&delete e.headers[a]}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},Ae=function(e){return"number"===typeof e?new Date(1e3*e):"string"===typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e},Me=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,a=e.sha256,s=e.uriEscapePath,c=void 0===s||s;this.service=i,this.sha256=a,this.uriEscapePath=c,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=o(r),this.credentialProvider=o(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Object(i.d)(this,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,d,f,h,p,v,m,g,b,y,w,S,k,C,O,x,E;return Object(i.f)(this,(function(_){switch(_.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,a=void 0===o?3600:o,s=t.unsignableHeaders,c=t.unhoistableHeaders,u=t.signableHeaders,l=t.signingRegion,d=t.signingService,[4,this.credentialProvider()];case 1:return f=_.sent(),this.validateResolvedCredentials(f),null===l||void 0===l?[3,2]:(p=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=_.sent(),_.label=4;case 4:return h=p,v=Pe(r),m=v.longDate,g=v.shortDate,a>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(b=Se(g,h,null!==d&&void 0!==d?d:this.service),y=function(e,t){var n,r,o;void 0===t&&(t={});var a="function"===typeof e.clone?e.clone():_e(e),s=a.headers,c=a.query,u=void 0===c?{}:c;try{for(var l=Object(i.j)(Object.keys(s)),d=l.next();!d.done;d=l.next()){var f=d.value,h=f.toLowerCase();"x-amz-"!==h.slice(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(h))||(u[f]=s[f],delete s[f])}}catch(p){n={error:p}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return Object(i.a)(Object(i.a)({},e),{headers:s,query:u})}(Ie(e),{unhoistableHeaders:c}),f.sessionToken&&(y.query[ae]=f.sessionToken),y.query["X-Amz-Algorithm"]=me,y.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(b),y.query["X-Amz-Date"]=m,y.query["X-Amz-Expires"]=a.toString(10),w=Ce(y,s,u),y.query["X-Amz-SignedHeaders"]=je(w),S=y.query,k=oe,C=this.getSignature,O=[m,b,this.getSigningKey(f,h,g,d)],x=this.createCanonicalRequest,E=[y,w],[4,Ee(e,this.sha256)]);case 5:return[4,C.apply(this,O.concat([x.apply(this,E.concat([_.sent()]))]))];case 6:return S[k]=_.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return Object(i.d)(this,void 0,void 0,(function(){return Object(i.f)(this,(function(n){return"string"===typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,a=void 0===o?new Date:o,s=t.priorSignature,c=t.signingRegion,u=t.signingService;return Object(i.d)(this,void 0,void 0,(function(){var e,t,o,l,d,f,h,p,v,m,g;return Object(i.f)(this,(function(i){switch(i.label){case 0:return null===c||void 0===c?[3,1]:(t=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=i.sent(),i.label=3;case 3:return e=t,o=Pe(a),l=o.shortDate,d=o.longDate,f=Se(l,e,null!==u&&void 0!==u?u:this.service),[4,Ee({headers:{},body:r},this.sha256)];case 4:return h=i.sent(),(p=new this.sha256).update(n),m=re,[4,p.digest()];case 5:return v=m.apply(void 0,[i.sent()]),g=[ge,d,f,s,v,h].join("\n"),[2,this.signString(g,{signingDate:a,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,a=n.signingRegion,s=n.signingService;return Object(i.d)(this,void 0,void 0,(function(){var t,n,r,c,u,l,d,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,this.credentialProvider()];case 1:return t=i.sent(),this.validateResolvedCredentials(t),null===a||void 0===a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=i.sent(),i.label=4;case 4:return n=r,c=Pe(o).shortDate,d=(l=this.sha256).bind,[4,this.getSigningKey(t,n,c,s)];case 5:return(u=new(d.apply(l,[void 0,i.sent()]))).update(e),f=re,[4,u.digest()];case 6:return[2,f.apply(void 0,[i.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,a=n.signableHeaders,s=n.unsignableHeaders,c=n.signingRegion,u=n.signingService;return Object(i.d)(this,void 0,void 0,(function(){var t,n,r,l,d,f,h,p,v,m,g;return Object(i.f)(this,(function(b){switch(b.label){case 0:return[4,this.credentialProvider()];case 1:return t=b.sent(),this.validateResolvedCredentials(t),null===c||void 0===c?[3,2]:(r=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=b.sent(),b.label=4;case 4:return n=r,l=Ie(e),d=Pe(o),f=d.longDate,h=d.shortDate,p=Se(h,n,null!==u&&void 0!==u?u:this.service),l.headers[ce]=f,t.sessionToken&&(l.headers[fe]=t.sessionToken),[4,Ee(l,this.sha256)];case 5:return v=b.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=Object(i.j)(Object.keys(t)),a=o.next();!a.done;a=o.next())if(e===a.value.toLowerCase())return!0}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(de,l.headers)&&this.applyChecksum&&(l.headers[de]=v),m=Ce(l,s,a),[4,this.getSignature(f,p,this.getSigningKey(t,n,h,u),this.createCanonicalRequest(l,m,v))];case 6:return g=b.sent(),l.headers[se]="".concat(me," ")+"Credential=".concat(t.accessKeyId,"/").concat(p,", ")+"SignedHeaders=".concat(je(m),", ")+"Signature=".concat(g),[2,l]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,o=void 0===r?{}:r,a=[],s={},c=function(e){if(e.toLowerCase()===le)return"continue";a.push(e);var t=o[e];"string"===typeof t?s[e]="".concat(Oe(e),"=").concat(Oe(t)):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(Oe(e),"=").concat(Oe(n))])}),[]).join("&"))};try{for(var u=Object(i.j)(Object.keys(o).sort()),l=u.next();!l.done;l=u.next())c(l.value)}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return Object(i.d)(this,void 0,void 0,(function(){var r,o;return Object(i.f)(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"".concat(me,"\n").concat(e,"\n").concat(t,"\n").concat(re(o))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var o=[];try{for(var a=Object(i.j)(r.split("/")),s=a.next();!s.done;s=a.next()){var c=s.value;0!==(null===c||void 0===c?void 0:c.length)&&("."!==c&&(".."===c?o.pop():o.push(c)))}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var u="".concat((null===r||void 0===r?void 0:r.startsWith("/"))?"/":"").concat(o.join("/")).concat(o.length>0&&(null===r||void 0===r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(u).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return Object(i.d)(this,void 0,void 0,(function(){var o,a,s,c,u;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=i.sent(),c=(s=this.sha256).bind,[4,n];case 2:return(a=new(c.apply(s,[void 0,i.sent()]))).update(o),u=re,[4,a.digest()];case 3:return[2,u.apply(void 0,[i.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return Object(i.d)(void 0,void 0,void 0,(function(){var a,s,c,u,l,d,f,h,p;return Object(i.f)(this,(function(v){switch(v.label){case 0:return[4,ke(e,t.secretAccessKey,t.accessKeyId)];case 1:if(a=v.sent(),(s="".concat(n,":").concat(r,":").concat(o,":").concat(re(a),":").concat(t.sessionToken))in ye)return[2,ye[s]];for(we.push(s);we.length>50;)delete ye[we.shift()];c="AWS4".concat(t.secretAccessKey),v.label=2;case 2:v.trys.push([2,7,8,9]),u=Object(i.j)([n,r,o,be]),l=u.next(),v.label=3;case 3:return l.done?[3,6]:(d=l.value,[4,ke(e,c,d)]);case 4:c=v.sent(),v.label=5;case 5:return l=u.next(),[3,3];case 6:return[3,9];case 7:return f=v.sent(),h={error:f},[3,9];case 8:try{l&&!l.done&&(p=u.return)&&p.call(u)}finally{if(h)throw h.error}return[7];case 9:return[2,ye[s]=c]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!==typeof e||"string"!==typeof e.accessKeyId||"string"!==typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),Pe=function(e){var t,n=(t=e,Ae(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},je=function(e){return Object.keys(e).sort().join(";")},Re=function(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e},De=function(e){return"function"===typeof e?Z(e,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):Re(e)},Ne=function(e){return new Date(Date.now()+e)},Le=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(Ne(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},Fe=function(e){var t,n,r;return f.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},Ue={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Be=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){return Object(i.d)(this,void 0,void 0,(function(){var o,a,s,c,u,l;return Object(i.f)(this,(function(f){switch(f.label){case 0:return d.isInstance(r.request)?[4,e.signer()]:[2,t(r)];case 1:return o=f.sent(),s=t,c=[Object(i.a)({},r)],l={},[4,o.sign(r.request,{signingDate:Ne(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,s.apply(void 0,[i.a.apply(void 0,c.concat([(l.request=f.sent(),l)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:Fe(t.$response);throw r&&(e.systemClockOffset=Le(r,e.systemClockOffset)),t}))];case 3:return a=f.sent(),(u=Fe(a.response))&&(e.systemClockOffset=Le(u,e.systemClockOffset)),[2,a]}}))}))}}}(e),Ue)}}};var Ve="user-agent",ze="x-amz-user-agent",He=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,We=function(e){var t=Object(i.g)(e,2),n=t[0],r=t[1],o=n.indexOf("/"),a=n.substring(0,o),s=n.substring(o+1);return"api"===a&&(s=s.toLowerCase()),[a,s,r].filter((function(e){return e&&e.length>0})).map((function(e){return null===e||void 0===e?void 0:e.replace(He,"_")})).join("/")},qe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ke=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return Object(i.d)(void 0,void 0,void 0,(function(){var o,a,s,c,u,l,f,h,p;return Object(i.f)(this,(function(v){switch(v.label){case 0:return o=r.request,d.isInstance(o)?(a=o.headers,s=(null===(h=null===t||void 0===t?void 0:t.userAgent)||void 0===h?void 0:h.map(We))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return c=v.sent().map(We),u=(null===(p=null===n||void 0===n?void 0:n.customUserAgent)||void 0===p?void 0:p.map(We))||[],l=Object(i.i)(Object(i.i)(Object(i.i)([],Object(i.g)(c),!1),Object(i.g)(s),!1),Object(i.g)(u),!1).join(" "),f=Object(i.i)(Object(i.i)([],Object(i.g)(c.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),Object(i.g)(u),!1).join(" "),"browser"!==n.runtime?(f&&(a[ze]=a[ze]?"".concat(a[Ve]," ").concat(f):f),a[Ve]=l):a[ze]=l,[2,e(Object(i.a)(Object(i.a)({},r),{request:o}))]}}))}))}}),qe)}}},Ge=function e(){var t=[],n=[],r=new Set,o=function(e){return t.forEach((function(t){e.add(t.middleware,Object(i.a)({},t))})),n.forEach((function(t){e.addRelativeTo(t.middleware,Object(i.a)({},t))})),e},a=function e(t){var n=[];return t.before.forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,Object(i.i)([],Object(i.g)(e(t)),!1))})),n.push(t),t.after.reverse().forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,Object(i.i)([],Object(i.g)(e(t)),!1))})),n},s=function(){var e,r=[],o=[],s={};return t.forEach((function(e){var t=Object(i.a)(Object(i.a)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),r.push(t)})),n.forEach((function(e){var t=Object(i.a)(Object(i.a)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t)throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware));"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(e=r,e.sort((function(e,t){return Je[t.step]-Je[e.step]||$e[t.priority||"normal"]-$e[e.priority||"normal"]}))).map(a).reduce((function(e,t){return e.push.apply(e,Object(i.i)([],Object(i.g)(t),!1)),e}),[]).map((function(e){return e.middleware}))},c={add:function(e,n){void 0===n&&(n={});var o=n.name,a=n.override,s=Object(i.a)({step:"initialize",priority:"normal",middleware:e},n);if(o){if(r.has(o)){if(!a)throw new Error("Duplicate middleware name '".concat(o,"'"));var c=t.findIndex((function(e){return e.name===o})),u=t[c];if(u.step!==s.step||u.priority!==s.priority)throw new Error('"'.concat(o,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(s.priority," priority in ").concat(s.step," step."));t.splice(c,1)}r.add(o)}t.push(s)},addRelativeTo:function(e,t){var o=t.name,a=t.override,s=Object(i.a)({middleware:e},t);if(o){if(r.has(o)){if(!a)throw new Error("Duplicate middleware name '".concat(o,"'"));var c=n.findIndex((function(e){return e.name===o})),u=n[c];if(u.toMiddleware!==s.toMiddleware||u.relation!==s.relation)throw new Error('"'.concat(o,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(s.relation,' "').concat(s.toMiddleware,'" middleware.'));n.splice(c,1)}r.add(o)}n.push(s)},clone:function(){return o(e())},use:function(e){e.applyToStack(c)},remove:function(e){return"string"===typeof e?function(e){var i=!1,o=function(t){return!t.name||t.name!==e||(i=!0,r.delete(e),!1)};return t=t.filter(o),n=n.filter(o),i}(e):function(e){var i=!1,o=function(t){return t.middleware!==e||(i=!0,t.name&&r.delete(t.name),!1)};return t=t.filter(o),n=n.filter(o),i}(e)},removeByTag:function(e){var i=!1,o=function(t){var n=t.tags,o=t.name;return!n||!n.includes(e)||(o&&r.delete(o),i=!0,!1)};return t=t.filter(o),n=n.filter(o),i},concat:function(t){var n=o(e());return n.use(t),n},applyToStack:o,resolve:function(e,t){var n,r;try{for(var o=Object(i.j)(s().reverse()),a=o.next();!a.done;a=o.next()){e=(0,a.value)(e,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}};return c},Je={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},$e={high:3,normal:2,low:1},Ye=function(){function e(e){this.middlewareStack=Ge(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!==typeof t?t:void 0,i="function"===typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Qe=function(){this.middlewareStack=Ge()},Ze="***SensitiveInformation***",Xe=function(e){if(null!==e&&void 0!==e){if("number"===typeof e){if(0!==e&&1!==e||ft.warn(dt("Expected boolean, got ".concat(typeof e,": ").concat(e))),0===e)return!1;if(1===e)return!0}if("string"===typeof e){var t=e.toLowerCase();if("false"!==t&&"true"!==t||ft.warn(dt("Expected boolean, got ".concat(typeof e,": ").concat(e))),"false"===t)return!1;if("true"===t)return!0}if("boolean"===typeof e)return e;throw new TypeError("Expected boolean, got ".concat(typeof e,": ").concat(e))}},et=function(e){if(null!==e&&void 0!==e){if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ft.warn(dt("Expected number but observed string: ".concat(e))),t}if("number"===typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}},tt=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!==e&&void 0!==e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}),nt=function(e){return rt(e,32)},rt=function(e,t){var n=tt(e);if(void 0!==n&&it(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},it=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ot=function(e,t){if(null===e||void 0===e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},at=function(e){if(null!==e&&void 0!==e){if("object"===typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},st=function(e){if(null!==e&&void 0!==e){if("string"===typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return ft.warn(dt("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},ct=function(e){return et("string"==typeof e?lt(e):e)},ut=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,lt=function(e){var t=e.match(ut);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},dt=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},ft={warn:console.warn};new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var ht=function(e){if(null!==e&&void 0!==e){var t;if("number"===typeof e)t=e;else{if("string"!==typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=ct(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))}},pt=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return Object(i.e)(t,e),t}(Error),vt=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==Object(i.g)(e,2)[1]})).forEach((function(t){var n=Object(i.g)(t,2),r=n[0],o=n[1];void 0!=e[r]&&""!==e[r]||(e[r]=o)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},mt=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,i=e.errorCode,o=gt(t),a=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||i||a||"UnknowError",$fault:"client",$metadata:o});throw vt(s,n)},gt=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},bt=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};n(293);function yt(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var wt=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Object(i.i)([null],Object(i.g)(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};wt.prototype=Object.create(String.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(wt,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(i.e)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"===typeof e?e:JSON.stringify(e))}}(wt);function St(e,t,n){var r,o,a,s;if("undefined"===typeof t&&"undefined"===typeof n)a={},s=e;else{if(a=e,"function"===typeof t)return kt(a,t,s=n);s=t}try{for(var c=Object(i.j)(Object.keys(s)),u=c.next();!u.done;u=c.next()){var l=u.value;if(Array.isArray(s[l])){var d=Object(i.g)(s[l],2),f=d[0],h=d[1];if("function"===typeof h){var p=void 0,v=void 0===f&&null!=(p=h()),m="function"===typeof f&&!!f(void 0)||"function"!==typeof f&&!!f;v?a[l]=p:m&&(a[l]=h())}else{v=void 0===f&&null!=h,m="function"===typeof f&&!!f(h)||"function"!==typeof f&&!!f;(v||m)&&(a[l]=h)}}else a[l]=s[l]}}catch(g){r={error:g}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return a}var kt=function(e,t,n){return St(e,Object.entries(n).reduce((function(e,n){var r=Object(i.g)(n,2),o=r[0],a=r[1];return Array.isArray(a)?e[o]=a:e[o]="function"===typeof a?[t,a()]:[t,a],e}),{}))},Ct=function(e,t,n,r,i,o){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e=e.replace(i,o?a.split("/").map((function(e){return yt(e)})).join("/"):yt(a))};var Ot=n(340),xt=n(339);for(var Et=function(){function e(e){"function"===typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!==e&&void 0!==e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return Object(i.d)(this,void 0,void 0,(function(){var t,r,o,a,s,c,u,l,d,h,p,v;return Object(i.f)(this,(function(m){switch(m.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=m.sent(),m.label=2;case 2:return r=this.config.requestTimeout,(null===n||void 0===n?void 0:n.aborted)?((o=new Error("Request aborted")).name="AbortError",[2,Promise.reject(o)]):(a=e.path,e.query&&(s=function(e){var t,n,r=[];try{for(var o=Object(i.j)(Object.keys(e).sort()),a=o.next();!a.done;a=o.next()){var s=a.value,c=e[s];if(s=Oe(s),Array.isArray(c))for(var u=0,l=c.length;u<l;u++)r.push("".concat(s,"=").concat(Oe(c[u])));else{var d=s;(c||"string"===typeof c)&&(d+="=".concat(Oe(c))),r.push(d)}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query),s&&(a+="?".concat(s))),c=e.port,u=e.method,l="".concat(e.protocol,"//").concat(e.hostname).concat(c?":".concat(c):"").concat(a),d="GET"===u||"HEAD"===u?void 0:e.body,h={body:d,headers:new Headers(e.headers),method:u},"undefined"!==typeof AbortController&&(h.signal=n),p=new Request(l,h),v=[fetch(p).then((function(e){var t,n,r=e.headers,o={};try{for(var a=Object(i.j)(r.entries()),s=a.next();!s.done;s=a.next()){var c=s.value;o[c[0]]=c[1]}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new f({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new f({headers:o,statusCode:e.status,body:t})}}))})),(g=r,void 0===g&&(g=0),new Promise((function(e,t){g&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(g," ms"));e.name="TimeoutError",t(e)}),g)})))],n&&v.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(v)])}var g}))}))},e}(),_t={},Tt=new Array(64),It=0,At="A".charCodeAt(0),Mt="Z".charCodeAt(0);It+At<=Mt;It++){var Pt=String.fromCharCode(It+At);_t[Pt]=It,Tt[It]=Pt}for(It=0,At="a".charCodeAt(0),Mt="z".charCodeAt(0);It+At<=Mt;It++){Pt=String.fromCharCode(It+At);var jt=It+26;_t[Pt]=jt,Tt[jt]=Pt}for(It=0;It<10;It++){_t[It.toString(10)]=It+52;Pt=It.toString(10),jt=It+52;_t[Pt]=jt,Tt[jt]=Pt}_t["+"]=62,Tt[62]="+",_t["/"]=63,Tt[63]="/";function Rt(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,c=i+3;s<=c;s++)if("="!==e[s]){if(!(e[s]in _t))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));o|=_t[e[s]]<<6*(c-s),a+=6}else o>>=6;var u=i/4*3;o>>=a%8;for(var l=Math.floor(a/8),d=0;d<l;d++){var f=8*(l-d-1);r.setUint8(u+d,(o&255<<f)>>f)}}return new Uint8Array(n)}function Dt(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<8*(a-o-1),i+=8;var s=Math.ceil(i/6);r<<=6*s-i;for(var c=1;c<=s;c++){var u=6*(s-c);t+=Tt[(r&63<<u)>>u]}t+="==".slice(0,4-s)}return t}var Nt=function(e){return"function"===typeof Blob&&e instanceof Blob?function(e){return Object(i.d)(this,void 0,void 0,(function(){var t,n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,Lt(e)];case 1:return t=r.sent(),n=Rt(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Object(i.d)(this,void 0,void 0,(function(){var t,n,r,o,a,s,c;return Object(i.f)(this,(function(i){switch(i.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,i.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=i.sent(),a=o.done,(s=o.value)&&(c=t,(t=new Uint8Array(c.length+s.length)).set(c),t.set(s,c.length)),r=a,[3,1];case 3:return[2,t]}}))}))}(e)};function Lt(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var Ft=function(e){if("string"===typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"===typeof e.byteLength)return e.byteLength;if("number"===typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},Ut=n(82),Bt=n.n(Ut),Vt=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Object(i.d)(void 0,void 0,void 0,(function(){var e,r,o,a,s,c,u,l,d;return Object(i.f)(this,(function(i){return e="undefined"!==typeof window&&(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?Bt.a.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(a=null===e||void 0===e?void 0:e.os)||void 0===a?void 0:a.name)||"other"),null===(s=null===e||void 0===e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser","".concat(null!==(u=null===(c=null===e||void 0===e?void 0:e.browser)||void 0===c?void 0:c.name)&&void 0!==u?u:"unknown","_").concat(null!==(d=null===(l=null===e||void 0===e?void 0:e.browser)||void 0===l?void 0:l.version)&&void 0!==d?d:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},zt=n(99);var Ht=function e(t){if("string"===typeof t)return e(new URL(t));var n,r=t,o=r.hostname,a=r.pathname,s=r.port,c=r.protocol,u=r.search;return u&&(n=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=Object(i.j)(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value,c=Object(i.g)(s.split("="),2),u=c[0],l=c[1],d=void 0===l?null:l;u=decodeURIComponent(u),d&&(d=decodeURIComponent(d)),u in r?Array.isArray(r[u])?r[u].push(d):r[u]=[r[u],d]:r[u]=d}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(u)),{hostname:o,port:s?parseInt(s):void 0,protocol:c,path:a,query:n}},Wt={"us-east-1":{variants:[{hostname:"messaging-chime-fips.us-east-1.amazonaws.com",tags:["fips"]}]}},qt={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-1-fips","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.amazonaws.com",tags:[]},{hostname:"messaging-chime-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"messaging-chime-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"messaging-chime.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.amazonaws.com.cn",tags:[]},{hostname:"messaging-chime-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"messaging-chime-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"messaging-chime.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.c2s.ic.gov",tags:[]},{hostname:"messaging-chime-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.sc2s.sgov.gov",tags:[]},{hostname:"messaging-chime-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"messaging-chime.{region}.amazonaws.com",tags:[]},{hostname:"messaging-chime-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"messaging-chime-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"messaging-chime.{region}.api.aws",tags:["dualstack"]}]}},Kt=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(n){return[2,l(e,Object(i.a)(Object(i.a)({},t),{signingService:"chime",regionHash:Wt,partitionHash:qt}))]}))}))},Gt=["in-region","cross-region","mobile","standard","legacy"],Jt=function(){var e,t,n="undefined"!==typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?Bt.a.parse(window.navigator.userAgent):void 0,r=null===(t=null===n||void 0===n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r},$t=function(e){var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,g,b=function(e){var t=(void 0===e?{}:e).defaultsMode;return Z((function(){return Object(i.d)(void 0,void 0,void 0,(function(){var e,n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return"function"!==typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null===(e=n)||void 0===e?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(Jt()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null===e||void 0===e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(Gt.join(", "),", got ").concat(e))}return[2]}}))}))}))}(e),y=function(){return b().then(bt)},w=function(e){var t,n,r,i,o;return{apiVersion:"2021-05-15",disableHostPrefix:null!==(t=null===e||void 0===e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null===e||void 0===e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null===e||void 0===e?void 0:e.regionInfoProvider)&&void 0!==r?r:Kt,serviceId:null!==(i=null===e||void 0===e?void 0:e.serviceId)&&void 0!==i?i:"Chime SDK Messaging",urlParser:null!==(o=null===e||void 0===e?void 0:e.urlParser)&&void 0!==o?o:Ht}}(e);return Object(i.a)(Object(i.a)(Object(i.a)({},w),e),{runtime:"browser",defaultsMode:b,base64Decoder:null!==(t=null===e||void 0===e?void 0:e.base64Decoder)&&void 0!==t?t:Rt,base64Encoder:null!==(n=null===e||void 0===e?void 0:e.base64Encoder)&&void 0!==n?n:Dt,bodyLengthChecker:null!==(r=null===e||void 0===e?void 0:e.bodyLengthChecker)&&void 0!==r?r:Ft,credentialDefaultProvider:null!==(o=null===e||void 0===e?void 0:e.credentialDefaultProvider)&&void 0!==o?o:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(a=null===e||void 0===e?void 0:e.defaultUserAgentProvider)&&void 0!==a?a:Vt({serviceId:w.serviceId,clientVersion:Ot.version}),maxAttempts:null!==(s=null===e||void 0===e?void 0:e.maxAttempts)&&void 0!==s?s:3,region:null!==(c=null===e||void 0===e?void 0:e.region)&&void 0!==c?c:(g="Region is missing",function(){return Promise.reject(g)}),requestHandler:null!==(u=null===e||void 0===e?void 0:e.requestHandler)&&void 0!==u?u:new Et(y),retryMode:null!==(l=null===e||void 0===e?void 0:e.retryMode)&&void 0!==l?l:function(){return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(e){switch(e.label){case 0:return[4,y()];case 1:return[2,e.sent().retryMode||E]}}))}))},sha256:null!==(d=null===e||void 0===e?void 0:e.sha256)&&void 0!==d?d:xt.Sha256,streamCollector:null!==(f=null===e||void 0===e?void 0:e.streamCollector)&&void 0!==f?f:Nt,useDualstackEndpoint:null!==(h=null===e||void 0===e?void 0:e.useDualstackEndpoint)&&void 0!==h?h:function(){return Promise.resolve(false)},useFipsEndpoint:null!==(p=null===e||void 0===e?void 0:e.useFipsEndpoint)&&void 0!==p?p:function(){return Promise.resolve(false)},utf8Decoder:null!==(v=null===e||void 0===e?void 0:e.utf8Decoder)&&void 0!==v?v:zt.fromUtf8,utf8Encoder:null!==(m=null===e||void 0===e?void 0:e.utf8Encoder)&&void 0!==m?m:zt.toUtf8})},Yt=function(e){function t(t){var n,r=this,u=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return Object(i.a)(Object(i.a)({},e),{region:function(){return Object(i.d)(void 0,void 0,void 0,(function(){var e;return Object(i.f)(this,(function(n){switch(n.label){case 0:return"string"===typeof t?[2,c(t)]:[4,t()];case 1:return e=n.sent(),[2,c(e)]}}))}))},useFipsEndpoint:function(){return Object(i.d)(void 0,void 0,void 0,(function(){var e;return Object(i.f)(this,(function(r){switch(r.label){case 0:return"string"!==typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return s(e)?[2,!0]:[2,"boolean"===typeof n?Promise.resolve(n):n()]}}))}))}})}($t(t)),l=function(e){var t,n=o(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return Object(i.a)(Object(i.a)({},e),{maxAttempts:n,retryStrategy:function(){return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,o(e.retryMode)()];case 1:return t.sent()===S.ADAPTIVE?[2,new J(n)]:[2,new q(n)]}}))}))}})}(a(u)),d=function(e){var t,n=e.credentials?De(e.credentials):e.credentialDefaultProvider(e),r=e.signingEscapePath,o=void 0===r||r,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,c=e.sha256;return t=e.signer?Re(e.signer):function(){return Re(e.region)().then((function(t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return r=(n=e).regionInfoProvider,o=[t],a={},[4,e.useFipsEndpoint()];case 1:return a.useFipsEndpoint=i.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,o.concat([(a.useDualstackEndpoint=i.sent(),a)]))];case 3:return[2,[i.sent()||{},t]]}}))}))})).then((function(t){var r=Object(i.g)(t,2),a=r[0],s=r[1],u=a.signingRegion,l=a.signingService;e.signingRegion=e.signingRegion||u||s,e.signingName=e.signingName||l||e.serviceId;var d=Object(i.a)(Object(i.a)({},e),{credentials:n,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:o});return new(e.signerConstructor||Me)(d)}))},Object(i.a)(Object(i.a)({},e),{systemClockOffset:s,signingEscapePath:o,credentials:n,signer:t})}(l),f=(n=d,Object(i.a)(Object(i.a)({},n),{customUserAgent:"string"===typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent}));return(r=e.call(this,f)||this).config=f,r.middlewareStack.use(Y(r.config)),r.middlewareStack.use(v(r.config)),r.middlewareStack.use(g(r.config)),r.middlewareStack.use(y(r.config)),r.middlewareStack.use(O(r.config)),r.middlewareStack.use(Be(r.config)),r.middlewareStack.use(Ke(r.config)),r}return Object(i.e)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ye),Qt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Zt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Xt(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Object(i.d)(void 0,void 0,void 0,(function(){var o,a,s;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,n(r)];case 1:o=i.sent().response,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t(o,e)];case 3:return a=i.sent(),[2,{response:o,output:a}];case 4:throw s=i.sent(),Object.defineProperty(s,"$response",{value:o}),s;case 5:return[2]}}))}))}}}(e,n),Qt),r.add(function(e,t){return function(n,r){return function(r){return Object(i.d)(void 0,void 0,void 0,(function(){var o;return Object(i.f)(this,(function(a){switch(a.label){case 0:return[4,t(r.input,e)];case 1:return o=a.sent(),[2,n(Object(i.a)(Object(i.a)({},r),{request:o}))]}}))}))}}}(e,t),Zt)}}}var en,tn,nn,rn=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object(i.e)(t,e),t}(pt);!function(e){e.ALL="ALL",e.FILTERED="FILTERED",e.NONE="NONE"}(en||(en={})),function(e){e.DEFAULT="DEFAULT",e.HIDDEN="HIDDEN"}(tn||(tn={})),function(e){e.AccessDenied="AccessDenied",e.BadRequest="BadRequest",e.Conflict="Conflict",e.Forbidden="Forbidden",e.NotFound="NotFound",e.PhoneNumberAssociationsExist="PhoneNumberAssociationsExist",e.PreconditionFailed="PreconditionFailed",e.ResourceLimitExceeded="ResourceLimitExceeded",e.ServiceFailure="ServiceFailure",e.ServiceUnavailable="ServiceUnavailable",e.Throttled="Throttled",e.Throttling="Throttling",e.Unauthorized="Unauthorized",e.Unprocessable="Unprocessable",e.VoiceConnectorGroupAssociationsExist="VoiceConnectorGroupAssociationsExist"}(nn||(nn={}));var on,an,sn,cn,un,ln,dn,fn,hn,pn,vn,mn=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"BadRequestException",$fault:"client"},n))||this;return r.name="BadRequestException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn),gn=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn),bn=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"ForbiddenException",$fault:"client"},n))||this;return r.name="ForbiddenException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn),yn=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"NotFoundException",$fault:"client"},n))||this;return r.name="NotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn),wn=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"ServiceFailureException",$fault:"server"},n))||this;return r.name="ServiceFailureException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn),Sn=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"ServiceUnavailableException",$fault:"server"},n))||this;return r.name="ServiceUnavailableException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn),kn=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"ThrottledClientException",$fault:"client"},n))||this;return r.name="ThrottledClientException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn),Cn=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"UnauthorizedClientException",$fault:"client"},n))||this;return r.name="UnauthorizedClientException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn),On=function(e){function t(n){var r=e.call(this,Object(i.a)({name:"ResourceLimitExceededException",$fault:"client"},n))||this;return r.name="ResourceLimitExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Code=n.Code,r.Message=n.Message,r}return Object(i.e)(t,e),t}(rn);!function(e){e.RESTRICTED="RESTRICTED",e.UNRESTRICTED="UNRESTRICTED"}(on||(on={})),function(e){e.PRIVATE="PRIVATE",e.PUBLIC="PUBLIC"}(an||(an={})),function(e){e.ASYNC="ASYNC"}(sn||(sn={})),function(e){e.ABORT="ABORT",e.CONTINUE="CONTINUE"}(cn||(cn={})),function(e){e.DEFAULT="DEFAULT",e.VOIP="VOIP"}(un||(un={})),function(e){e.NON_PERSISTENT="NON_PERSISTENT",e.PERSISTENT="PERSISTENT"}(ln||(ln={})),function(e){e.DENIED="DENIED",e.FAILED="FAILED",e.PENDING="PENDING",e.SENT="SENT"}(dn||(dn={})),function(e){e.CONTROL="CONTROL",e.STANDARD="STANDARD"}(fn||(fn={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(hn||(hn={})),function(e){e.MEMBERS="MEMBERS"}(pn||(pn={})),function(e){e.EQUALS="EQUALS",e.INCLUDES="INCLUDES"}(vn||(vn={}));var xn=function(e){return Object(i.a)({},e)},En=function(e){return Object(i.a)({},e)},_n=function(e){return Object(i.a)(Object(i.a)({},e),e.Name&&{Name:Ze})},Tn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.InvitedBy&&{InvitedBy:_n(e.InvitedBy)}),e.Members&&{Members:e.Members.map((function(e){return _n(e)}))})},In=function(e){return Object(i.a)({},e)},An=function(e){return Object(i.a)({},e)},Mn=function(e){return Object(i.a)(Object(i.a)({},e),e.BatchChannelMemberships&&{BatchChannelMemberships:Tn(e.BatchChannelMemberships)})},Pn=function(e){return Object(i.a)({},e)},jn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Name&&{Name:Ze}),e.Metadata&&{Metadata:Ze}),e.CreatedBy&&{CreatedBy:_n(e.CreatedBy)})},Rn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Name&&{Name:Ze}),e.Metadata&&{Metadata:Ze})},Dn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Member&&{Member:_n(e.Member)}),e.CreatedBy&&{CreatedBy:_n(e.CreatedBy)})},Nn=function(e){return Object(i.a)(Object(i.a)({},e),e.Member&&{Member:_n(e.Member)})},Ln=function(e){return Object(i.a)({},e)},Fn=function(e){return Object(i.a)({},e)},Un=function(e){return Object(i.a)(Object(i.a)({},e),e.Name&&{Name:Ze})},Bn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Processors&&{Processors:e.Processors.map((function(e){return Un(e)}))}),e.Name&&{Name:Ze})},Vn=function(e){return Object(i.a)(Object(i.a)({},e),e.StringValues&&{StringValues:Ze})},zn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Title&&{Title:Ze}),e.Body&&{Body:Ze})},Hn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Content&&{Content:Ze}),e.Metadata&&{Metadata:Ze}),e.PushNotification&&{PushNotification:zn(e.PushNotification)}),e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((function(e,t){var n,r=Object(i.g)(t,2),o=r[0],a=r[1];return Object(i.a)(Object(i.a)({},e),((n={})[o]=Vn(a),n))}),{})})},Wn=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelMessage&&{ChannelMessage:Hn(e.ChannelMessage)})},qn=function(e){return Object(i.a)({},e)},Kn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Name&&{Name:Ze}),e.Processors&&{Processors:e.Processors.map((function(e){return Un(e)}))})},Gn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.InvitedBy&&{InvitedBy:_n(e.InvitedBy)}),e.Member&&{Member:_n(e.Member)})},Jn=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Name&&{Name:Ze}),e.Metadata&&{Metadata:Ze})},$n=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelSummary&&{ChannelSummary:Jn(e.ChannelSummary)})},Yn=function(e){return Object(i.a)(Object(i.a)({},e),e.FilterRule&&{FilterRule:Ze})},Qn=function(e){return Object(i.a)(Object(i.a)({},e),e.PushNotifications&&{PushNotifications:Yn(e.PushNotifications)})},Zn=function(e){return Object(i.a)(Object(i.a)({},e),e.Member&&{Member:_n(e.Member)})},Xn=function(e){return Object(i.a)({},e)},er=function(e){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Content&&{Content:Ze}),e.Metadata&&{Metadata:Ze}),e.Sender&&{Sender:_n(e.Sender)}),e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((function(e,t){var n,r=Object(i.g)(t,2),o=r[0],a=r[1];return Object(i.a)(Object(i.a)({},e),((n={})[o]=Vn(a),n))}),{})})},tr=function(e){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Content&&{Content:Ze}),e.Metadata&&{Metadata:Ze}),e.Sender&&{Sender:_n(e.Sender)}),e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((function(e,t){var n,r=Object(i.g)(t,2),o=r[0],a=r[1];return Object(i.a)(Object(i.a)({},e),((n={})[o]=Vn(a),n))}),{})})},nr=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelSummary&&{ChannelSummary:Jn(e.ChannelSummary)})},rr=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Moderator&&{Moderator:_n(e.Moderator)}),e.CreatedBy&&{CreatedBy:_n(e.CreatedBy)})},ir=function(e){return Object(i.a)(Object(i.a)({},e),e.Moderator&&{Moderator:_n(e.Moderator)})},or=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Key&&{Key:Ze}),e.Value&&{Value:Ze})},ar=function(e){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Name&&{Name:Ze}),e.Metadata&&{Metadata:Ze}),e.ClientRequestToken&&{ClientRequestToken:Ze}),e.Tags&&{Tags:e.Tags.map((function(e){return or(e)}))}),e.ChannelId&&{ChannelId:Ze})},sr=function(e){return Object(i.a)({},e)},cr=function(e){return Object(i.a)({},e)},ur=function(e){return Object(i.a)(Object(i.a)({},e),e.Member&&{Member:_n(e.Member)})},lr=function(e){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Processors&&{Processors:e.Processors.map((function(e){return Un(e)}))}),e.Name&&{Name:Ze}),e.Tags&&{Tags:e.Tags.map((function(e){return or(e)}))}),e.ClientRequestToken&&{ClientRequestToken:Ze})},dr=function(e){return Object(i.a)({},e)},fr=function(e){return Object(i.a)({},e)},hr=function(e){return Object(i.a)(Object(i.a)({},e),e.Member&&{Member:_n(e.Member)})},pr=function(e){return Object(i.a)({},e)},vr=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelModerator&&{ChannelModerator:_n(e.ChannelModerator)})},mr=function(e){return Object(i.a)({},e)},gr=function(e){return Object(i.a)({},e)},br=function(e){return Object(i.a)({},e)},yr=function(e){return Object(i.a)({},e)},wr=function(e){return Object(i.a)({},e)},Sr=function(e){return Object(i.a)({},e)},kr=function(e){return Object(i.a)({},e)},Cr=function(e){return Object(i.a)(Object(i.a)({},e),e.Channel&&{Channel:jn(e.Channel)})},Or=function(e){return Object(i.a)({},e)},xr=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelBan&&{ChannelBan:Dn(e.ChannelBan)})},Er=function(e){return Object(i.a)({},e)},_r=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelFlow&&{ChannelFlow:Bn(e.ChannelFlow)})},Tr=function(e){return Object(i.a)({},e)},Ir=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelMembership&&{ChannelMembership:Gn(e.ChannelMembership)})},Ar=function(e){return Object(i.a)({},e)},Mr=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelMembership&&{ChannelMembership:$n(e.ChannelMembership)})},Pr=function(e){return Object(i.a)({},e)},jr=function(e){return Object(i.a)(Object(i.a)({},e),e.Channel&&{Channel:nr(e.Channel)})},Rr=function(e){return Object(i.a)({},e)},Dr=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelModerator&&{ChannelModerator:rr(e.ChannelModerator)})},Nr=function(e){return Object(i.a)({},e)},Lr=function(e){return Object(i.a)({},e)},Fr=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Member&&{Member:_n(e.Member)}),e.Preferences&&{Preferences:Qn(e.Preferences)})},Ur=function(e){return Object(i.a)({},e)},Br=function(e){return Object(i.a)(Object(i.a)({},e),e.ChannelMessage&&{ChannelMessage:er(e.ChannelMessage)})},Vr=function(e){return Object(i.a)({},e)},zr=function(e){return Object(i.a)({},e)},Hr=function(e){return Object(i.a)({},e)},Wr=function(e){return Object(i.a)({},e)},qr=function(e){return Object(i.a)({},e)},Kr=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},Gr=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze}),e.ChannelBans&&{ChannelBans:e.ChannelBans.map((function(e){return Nn(e)}))})},Jr=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},$r=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.ChannelFlows&&{ChannelFlows:e.ChannelFlows.map((function(e){return Kn(e)}))}),e.NextToken&&{NextToken:Ze})},Yr=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},Qr=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.ChannelMemberships&&{ChannelMemberships:e.ChannelMemberships.map((function(e){return Zn(e)}))}),e.NextToken&&{NextToken:Ze})},Zr=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},Xr=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.ChannelMemberships&&{ChannelMemberships:e.ChannelMemberships.map((function(e){return $n(e)}))}),e.NextToken&&{NextToken:Ze})},ei=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},ti=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze}),e.ChannelMessages&&{ChannelMessages:e.ChannelMessages.map((function(e){return tr(e)}))})},ni=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},ri=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze}),e.ChannelModerators&&{ChannelModerators:e.ChannelModerators.map((function(e){return ir(e)}))})},ii=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},oi=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Channels&&{Channels:e.Channels.map((function(e){return Jn(e)}))}),e.NextToken&&{NextToken:Ze})},ai=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},si=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Channels&&{Channels:e.Channels.map((function(e){return Rn(e)}))}),e.NextToken&&{NextToken:Ze})},ci=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},ui=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Channels&&{Channels:e.Channels.map((function(e){return nr(e)}))}),e.NextToken&&{NextToken:Ze})},li=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},di=function(e){return Object(i.a)({},e)},fi=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},hi=function(e){return Object(i.a)({},e)},pi=function(e){return Object(i.a)(Object(i.a)({},e),e.Tags&&{Tags:e.Tags.map((function(e){return or(e)}))})},vi=function(e){return Object(i.a)(Object(i.a)({},e),e.Preferences&&{Preferences:Qn(e.Preferences)})},mi=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Member&&{Member:_n(e.Member)}),e.Preferences&&{Preferences:Qn(e.Preferences)})},gi=function(e){return Object(i.a)({},e)},bi=function(e){return Object(i.a)({},e)},yi=function(e){return Object(i.a)({},e)},wi=function(e){return Object(i.a)(Object(i.a)({},e),e.NextToken&&{NextToken:Ze})},Si=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Channels&&{Channels:e.Channels.map((function(e){return Jn(e)}))}),e.NextToken&&{NextToken:Ze})},ki=function(e){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Content&&{Content:Ze}),e.Metadata&&{Metadata:Ze}),e.ClientRequestToken&&{ClientRequestToken:Ze}),e.PushNotification&&{PushNotification:zn(e.PushNotification)}),e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((function(e,t){var n,r=Object(i.g)(t,2),o=r[0],a=r[1];return Object(i.a)(Object(i.a)({},e),((n={})[o]=Vn(a),n))}),{})})},Ci=function(e){return Object(i.a)({},e)},Oi=function(e){return Object(i.a)(Object(i.a)({},e),e.Tags&&{Tags:e.Tags.map((function(e){return or(e)}))})},xi=function(e){return Object(i.a)(Object(i.a)({},e),e.TagKeys&&{TagKeys:Ze})},Ei=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Name&&{Name:Ze}),e.Metadata&&{Metadata:Ze})},_i=function(e){return Object(i.a)({},e)},Ti=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Processors&&{Processors:e.Processors.map((function(e){return Un(e)}))}),e.Name&&{Name:Ze})},Ii=function(e){return Object(i.a)({},e)},Ai=function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.Content&&{Content:Ze}),e.Metadata&&{Metadata:Ze})},Mi=function(e){return Object(i.a)({},e)},Pi=function(e){return Object(i.a)({},e)},ji=function(e){return Object(i.a)({},e)},Ri=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Po(n,t)];case 9:throw c.sent();case 10:return[4,Ro(n,t)];case 11:throw c.sent();case 12:return[4,Do(n,t)];case 13:throw c.sent();case 14:return[4,No(n,t)];case 15:throw c.sent();case 16:return[4,Lo(n,t)];case 17:throw c.sent();case 18:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=19;case 19:return[2]}}))}))},Di=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Po(n,t)];case 7:throw c.sent();case 8:return[4,jo(n,t)];case 9:throw c.sent();case 10:return[4,Ro(n,t)];case 11:throw c.sent();case 12:return[4,Do(n,t)];case 13:throw c.sent();case 14:return[4,No(n,t)];case 15:throw c.sent();case 16:return[4,Lo(n,t)];case 17:throw c.sent();case 18:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=19;case 19:return[2]}}))}))},Ni=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},Li=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,jo(n,t)];case 9:throw c.sent();case 10:return[4,Ro(n,t)];case 11:throw c.sent();case 12:return[4,Do(n,t)];case 13:throw c.sent();case 14:return[4,No(n,t)];case 15:throw c.sent();case 16:return[4,Lo(n,t)];case 17:throw c.sent();case 18:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=19;case 19:return[2]}}))}))},Fi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,jo(n,t)];case 9:throw c.sent();case 10:return[4,Ro(n,t)];case 11:throw c.sent();case 12:return[4,Do(n,t)];case 13:throw c.sent();case 14:return[4,No(n,t)];case 15:throw c.sent();case 16:return[4,Lo(n,t)];case 17:throw c.sent();case 18:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=19;case 19:return[2]}}))}))},Ui=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,jo(n,t)];case 9:throw c.sent();case 10:return[4,Ro(n,t)];case 11:throw c.sent();case 12:return[4,Do(n,t)];case 13:throw c.sent();case 14:return[4,No(n,t)];case 15:throw c.sent();case 16:return[4,Lo(n,t)];case 17:throw c.sent();case 18:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=19;case 19:return[2]}}))}))},Bi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,8];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,10];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,12];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,14];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,16];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,18]}return[3,20];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Po(n,t)];case 9:throw c.sent();case 10:return[4,jo(n,t)];case 11:throw c.sent();case 12:return[4,Ro(n,t)];case 13:throw c.sent();case 14:return[4,Do(n,t)];case 15:throw c.sent();case 16:return[4,No(n,t)];case 17:throw c.sent();case 18:return[4,Lo(n,t)];case 19:throw c.sent();case 20:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=21;case 21:return[2]}}))}))},Vi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,jo(n,t)];case 9:throw c.sent();case 10:return[4,Ro(n,t)];case 11:throw c.sent();case 12:return[4,Do(n,t)];case 13:throw c.sent();case 14:return[4,No(n,t)];case 15:throw c.sent();case 16:return[4,Lo(n,t)];case 17:throw c.sent();case 18:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=19;case 19:return[2]}}))}))},zi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},Hi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},Wi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},qi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},Ki=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},Gi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},Ji=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},$i=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Po(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},Yi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},Qi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Po(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},Zi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},Xi=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},eo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Po(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},to=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,8];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,12];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,14];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,16]}return[3,18];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Po(n,t)];case 9:throw c.sent();case 10:return[4,Ro(n,t)];case 11:throw c.sent();case 12:return[4,Do(n,t)];case 13:throw c.sent();case 14:return[4,No(n,t)];case 15:throw c.sent();case 16:return[4,Lo(n,t)];case 17:throw c.sent();case 18:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=19;case 19:return[2]}}))}))},no=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},ro=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Po(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},io=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},oo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,2];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,6];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,8];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,10]}return[3,12];case 2:return[4,Mo(n,t)];case 3:throw c.sent();case 4:return[4,Ro(n,t)];case 5:throw c.sent();case 6:return[4,Do(n,t)];case 7:throw c.sent();case 8:return[4,No(n,t)];case 9:throw c.sent();case 10:return[4,Lo(n,t)];case 11:throw c.sent();case 12:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=13;case 13:return[2]}}))}))},ao=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},so=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},co=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},uo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},lo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},fo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},ho=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},po=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},vo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},mo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},go=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},bo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},yo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},wo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},So=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},ko=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,jo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},Co=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,4];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,8];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,10];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,12]}return[3,14];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Mo(n,t)];case 5:throw c.sent();case 6:return[4,Ro(n,t)];case 7:throw c.sent();case 8:return[4,Do(n,t)];case 9:throw c.sent();case 10:return[4,No(n,t)];case 11:throw c.sent();case 12:return[4,Lo(n,t)];case 13:throw c.sent();case 14:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=15;case 15:return[2]}}))}))},Oo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},xo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},Eo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},_o=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:return r=[Object(i.a)({},e)],s={},[4,Va(e.body,t)];case 1:switch(n=i.a.apply(void 0,r.concat([(s.body=c.sent(),s)])),o=za(e,n.body),o){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":return[3,2];case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":return[3,4];case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":return[3,6];case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":return[3,10];case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":return[3,12];case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":return[3,14]}return[3,16];case 2:return[4,Io(n,t)];case 3:throw c.sent();case 4:return[4,Ao(n,t)];case 5:throw c.sent();case 6:return[4,Mo(n,t)];case 7:throw c.sent();case 8:return[4,Ro(n,t)];case 9:throw c.sent();case 10:return[4,Do(n,t)];case 11:throw c.sent();case 12:return[4,No(n,t)];case 13:throw c.sent();case 14:return[4,Lo(n,t)];case 15:throw c.sent();case 16:a=n.body,mt({output:e,parsedBody:a,exceptionCtor:rn,errorCode:o}),c.label=17;case 17:return[2]}}))}))},To=St,Io=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new mn(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},Ao=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new gn(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},Mo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new bn(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},Po=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new yn(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},jo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new On(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},Ro=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new wn(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},Do=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new Sn(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},No=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new kn(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},Lo=function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.f)(this,(function(o){return t=To({}),null!=(n=e.body).Code&&(t.Code=st(n.Code)),null!=n.Message&&(t.Message=st(n.Message)),r=new Cn(Object(i.a)({$metadata:Fa(e)},t)),[2,vt(r,e.body)]}))}))},Fo=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},Uo=function(e,t){return Object(i.a)({},null!=e.PushNotifications&&{PushNotifications:Qo(e.PushNotifications,t)})},Bo=function(e,t){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.Content&&{Content:e.Content}),null!=e.MessageAttributes&&{MessageAttributes:qo(e.MessageAttributes,t)}),null!=e.MessageId&&{MessageId:e.MessageId}),null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.PushNotification&&{PushNotification:Yo(e.PushNotification,t)}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId})},Vo=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},zo=function(e,t){return Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.MaximumSubChannels&&{MaximumSubChannels:e.MaximumSubChannels}),null!=e.MinimumMembershipPercentage&&{MinimumMembershipPercentage:e.MinimumMembershipPercentage}),null!=e.TargetMembershipsPerSubChannel&&{TargetMembershipsPerSubChannel:e.TargetMembershipsPerSubChannel})},Ho=function(e,t){return Object(i.a)(Object(i.a)({},null!=e.InvocationType&&{InvocationType:e.InvocationType}),null!=e.ResourceArn&&{ResourceArn:e.ResourceArn})},Wo=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},qo=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=Object(i.g)(n,2),a=o[0],s=o[1];return null===s?e:Object(i.a)(Object(i.a)({},e),((r={})[a]=Go(s,t),r))}),{})},Ko=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},Go=function(e,t){return Object(i.a)({},null!=e.StringValues&&{StringValues:Ko(e.StringValues)})},Jo=function(e,t){return Object(i.a)({},null!=e.Lambda&&{Lambda:Ho(e.Lambda)})},$o=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.Configuration&&{Configuration:Jo(e.Configuration,t)}),null!=e.ExecutionOrder&&{ExecutionOrder:e.ExecutionOrder}),null!=e.FallbackAction&&{FallbackAction:e.FallbackAction}),null!=e.Name&&{Name:e.Name})}(e,t)}))},Yo=function(e,t){return Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.Body&&{Body:e.Body}),null!=e.Title&&{Title:e.Title}),null!=e.Type&&{Type:e.Type})},Qo=function(e,t){return Object(i.a)(Object(i.a)({},null!=e.AllowNotifications&&{AllowNotifications:e.AllowNotifications}),null!=e.FilterRule&&{FilterRule:e.FilterRule})},Zo=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.Key&&{Key:e.Key}),null!=e.Operator&&{Operator:e.Operator}),null!=e.Values&&{Values:Xo(e.Values,t)})}(e,t)}))},Xo=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},ea=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},ta=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return Object(i.a)(Object(i.a)({},null!=e.Key&&{Key:e.Key}),null!=e.Value&&{Value:e.Value})}(e)}))},na=function(e,t){return{ReadMarkerTimestamp:null!=e.ReadMarkerTimestamp?ot(ht(et(e.ReadMarkerTimestamp))):void 0,SubChannelId:st(e.SubChannelId),Type:st(e.Type)}},ra=function(e,t){return{ChannelArn:st(e.ChannelArn),InvitedBy:null!=e.InvitedBy?Ea(e.InvitedBy,t):void 0,Members:null!=e.Members?Ta(e.Members,t):void 0,SubChannelId:st(e.SubChannelId),Type:st(e.Type)}},ia=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ErrorCode:st(e.ErrorCode),ErrorMessage:st(e.ErrorMessage),MemberArn:st(e.MemberArn)}}(e)}))},oa=function(e,t){return{ChannelArn:st(e.ChannelArn),ChannelFlowArn:st(e.ChannelFlowArn),CreatedBy:null!=e.CreatedBy?Ea(e.CreatedBy,t):void 0,CreatedTimestamp:null!=e.CreatedTimestamp?ot(ht(et(e.CreatedTimestamp))):void 0,ElasticChannelConfiguration:null!=e.ElasticChannelConfiguration?xa(e.ElasticChannelConfiguration,t):void 0,LastMessageTimestamp:null!=e.LastMessageTimestamp?ot(ht(et(e.LastMessageTimestamp))):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?ot(ht(et(e.LastUpdatedTimestamp))):void 0,Metadata:st(e.Metadata),Mode:st(e.Mode),Name:st(e.Name),Privacy:st(e.Privacy)}},aa=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ChannelArn:st(e.ChannelArn),Metadata:st(e.Metadata),Mode:st(e.Mode),Name:st(e.Name),Privacy:st(e.Privacy)}}(e)}))},sa=function(e,t){return{ChannelArn:st(e.ChannelArn),CreatedBy:null!=e.CreatedBy?Ea(e.CreatedBy,t):void 0,CreatedTimestamp:null!=e.CreatedTimestamp?ot(ht(et(e.CreatedTimestamp))):void 0,Member:null!=e.Member?Ea(e.Member,t):void 0}},ca=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Member:null!=e.Member?Ea(e.Member,t):void 0}}(e,t)}));return n},ua=function(e,t){return{ChannelFlowArn:st(e.ChannelFlowArn),CreatedTimestamp:null!=e.CreatedTimestamp?ot(ht(et(e.CreatedTimestamp))):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?ot(ht(et(e.LastUpdatedTimestamp))):void 0,Name:st(e.Name),Processors:null!=e.Processors?Ra(e.Processors,t):void 0}},la=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ChannelFlowArn:st(e.ChannelFlowArn),Name:st(e.Name),Processors:null!=e.Processors?Ra(e.Processors,t):void 0}}(e,t)}));return n},da=function(e,t){return{ChannelArn:st(e.ChannelArn),CreatedTimestamp:null!=e.CreatedTimestamp?ot(ht(et(e.CreatedTimestamp))):void 0,InvitedBy:null!=e.InvitedBy?Ea(e.InvitedBy,t):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?ot(ht(et(e.LastUpdatedTimestamp))):void 0,Member:null!=e.Member?Ea(e.Member,t):void 0,SubChannelId:st(e.SubChannelId),Type:st(e.Type)}},fa=function(e,t){return{AppInstanceUserMembershipSummary:null!=e.AppInstanceUserMembershipSummary?na(e.AppInstanceUserMembershipSummary):void 0,ChannelSummary:null!=e.ChannelSummary?Ca(e.ChannelSummary,t):void 0}},ha=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:fa(e,t)}))},pa=function(e,t){return{PushNotifications:null!=e.PushNotifications?Da(e.PushNotifications,t):void 0}},va=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Member:null!=e.Member?Ea(e.Member,t):void 0}}(e,t)}));return n},ma=function(e,t){return{ChannelArn:st(e.ChannelArn),Content:st(e.Content),CreatedTimestamp:null!=e.CreatedTimestamp?ot(ht(et(e.CreatedTimestamp))):void 0,LastEditedTimestamp:null!=e.LastEditedTimestamp?ot(ht(et(e.LastEditedTimestamp))):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?ot(ht(et(e.LastUpdatedTimestamp))):void 0,MessageAttributes:null!=e.MessageAttributes?Ia(e.MessageAttributes,t):void 0,MessageId:st(e.MessageId),Metadata:st(e.Metadata),Persistence:st(e.Persistence),Redacted:Xe(e.Redacted),Sender:null!=e.Sender?Ea(e.Sender,t):void 0,Status:null!=e.Status?ga(e.Status,t):void 0,SubChannelId:st(e.SubChannelId),Type:st(e.Type)}},ga=function(e,t){return{Detail:st(e.Detail),Value:st(e.Value)}},ba=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Content:st(e.Content),CreatedTimestamp:null!=e.CreatedTimestamp?ot(ht(et(e.CreatedTimestamp))):void 0,LastEditedTimestamp:null!=e.LastEditedTimestamp?ot(ht(et(e.LastEditedTimestamp))):void 0,LastUpdatedTimestamp:null!=e.LastUpdatedTimestamp?ot(ht(et(e.LastUpdatedTimestamp))):void 0,MessageAttributes:null!=e.MessageAttributes?Ia(e.MessageAttributes,t):void 0,MessageId:st(e.MessageId),Metadata:st(e.Metadata),Redacted:Xe(e.Redacted),Sender:null!=e.Sender?Ea(e.Sender,t):void 0,Status:null!=e.Status?ga(e.Status,t):void 0,Type:st(e.Type)}}(e,t)}));return n},ya=function(e,t){return{ChannelSummary:null!=e.ChannelSummary?Ca(e.ChannelSummary,t):void 0}},wa=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:ya(e,t)}))},Sa=function(e,t){return{ChannelArn:st(e.ChannelArn),CreatedBy:null!=e.CreatedBy?Ea(e.CreatedBy,t):void 0,CreatedTimestamp:null!=e.CreatedTimestamp?ot(ht(et(e.CreatedTimestamp))):void 0,Moderator:null!=e.Moderator?Ea(e.Moderator,t):void 0}},ka=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Moderator:null!=e.Moderator?Ea(e.Moderator,t):void 0}}(e,t)}));return n},Ca=function(e,t){return{ChannelArn:st(e.ChannelArn),LastMessageTimestamp:null!=e.LastMessageTimestamp?ot(ht(et(e.LastMessageTimestamp))):void 0,Metadata:st(e.Metadata),Mode:st(e.Mode),Name:st(e.Name),Privacy:st(e.Privacy)}},Oa=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Ca(e,t)}))},xa=function(e,t){return{MaximumSubChannels:nt(e.MaximumSubChannels),MinimumMembershipPercentage:nt(e.MinimumMembershipPercentage),TargetMembershipsPerSubChannel:nt(e.TargetMembershipsPerSubChannel)}},Ea=function(e,t){return{Arn:st(e.Arn),Name:st(e.Name)}},_a=function(e,t){return{InvocationType:st(e.InvocationType),ResourceArn:st(e.ResourceArn)}},Ta=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Ea(e,t)}))},Ia=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=Object(i.g)(n,2),a=o[0],s=o[1];return null===s?e:Object(i.a)(Object(i.a)({},e),((r={})[a]=Ma(s,t),r))}),{})},Aa=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:st(e)}))},Ma=function(e,t){return{StringValues:null!=e.StringValues?Aa(e.StringValues):void 0}},Pa=function(e,t){return{Url:st(e.Url)}},ja=function(e,t){return{Lambda:null!=e.Lambda?_a(e.Lambda):void 0}},Ra=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Configuration:null!=e.Configuration?ja(e.Configuration,t):void 0,ExecutionOrder:nt(e.ExecutionOrder),FallbackAction:st(e.FallbackAction),Name:st(e.Name)}}(e,t)}));return n},Da=function(e,t){return{AllowNotifications:st(e.AllowNotifications),FilterRule:st(e.FilterRule)}},Na=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{MembershipCount:nt(e.MembershipCount),SubChannelId:st(e.SubChannelId)}}(e)}))},La=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Key:st(e.Key),Value:st(e.Value)}}(e)}))},Fa=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Ua=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Ba=function(e){return void 0!==e&&null!==e&&""!==e&&(!Object.getOwnPropertyNames(e).includes("length")||0!=e.length)&&(!Object.getOwnPropertyNames(e).includes("size")||0!=e.size)},Va=function(e,t){return function(e,t){return Ua(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},za=function(e,t){var n,r,i=function(e){var t=e;return"number"===typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):void 0},Ha=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"AssociateChannelFlowCommand",inputFilterSensitiveLog:En,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/channel-flow",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=JSON.stringify(Object(i.a)({},null!=e.ChannelFlowArn&&{ChannelFlowArn:e.ChannelFlowArn})),[2,new d({protocol:a,hostname:r,port:s,method:"PUT",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ri(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),Wa=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"BatchCreateChannelMembershipCommand",inputFilterSensitiveLog:In,outputFilterSensitiveLog:Mn},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f,h;return Object(i.f)(this,(function(p){switch(p.label){case 0:return[4,t.endpoint()];case 1:return n=p.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/memberships",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({operation:[,"batch-create"]}),h=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.MemberArns&&{MemberArns:Wo(e.MemberArns,t)}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId}),null!=e.Type&&{Type:e.Type})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,query:f,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Di(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).BatchChannelMemberships&&(n.BatchChannelMemberships=ra(r.BatchChannelMemberships,t)),null!=r.Errors&&(n.Errors=ia(r.Errors,t)),[2,n]}}))}))}(e,t)},t}(Qe),qa=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ChannelFlowCallbackCommand",inputFilterSensitiveLog:Wn,outputFilterSensitiveLog:qn},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f,h,p;return Object(i.f)(this,(function(v){switch(v.label){case 0:return[4,t.endpoint()];case 1:return n=v.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={"content-type":"application/json"},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({operation:[,"channel-flow-callback"]}),h=JSON.stringify(Object(i.a)(Object(i.a)({CallbackId:null!==(p=e.CallbackId)&&void 0!==p?p:B()},null!=e.ChannelMessage&&{ChannelMessage:Bo(e.ChannelMessage,t)}),null!=e.DeleteResource&&{DeleteResource:e.DeleteResource})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,query:f,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ni(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).CallbackId&&(n.CallbackId=st(r.CallbackId)),null!=r.ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),[2,n]}}))}))}(e,t)},t}(Qe),Ka=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelBanCommand",inputFilterSensitiveLog:cr,outputFilterSensitiveLog:ur},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/bans",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=JSON.stringify(Object(i.a)({},null!=e.MemberArn&&{MemberArn:e.MemberArn})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,Fi(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.Member&&(n.Member=Ea(r.Member,t)),[2,n]}}))}))}(e,t)},t}(Qe),Ga=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelCommand",inputFilterSensitiveLog:ar,outputFilterSensitiveLog:sr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f,h;return Object(i.f)(this,(function(p){switch(p.label){case 0:return[4,t.endpoint()];case 1:return n=p.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels",f=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.AppInstanceArn&&{AppInstanceArn:e.AppInstanceArn}),null!=e.ChannelId&&{ChannelId:e.ChannelId}),{ClientRequestToken:null!==(h=e.ClientRequestToken)&&void 0!==h?h:B()}),null!=e.ElasticChannelConfiguration&&{ElasticChannelConfiguration:zo(e.ElasticChannelConfiguration,t)}),null!=e.MemberArns&&{MemberArns:Fo(e.MemberArns,t)}),null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.Mode&&{Mode:e.Mode}),null!=e.ModeratorArns&&{ModeratorArns:Vo(e.ModeratorArns,t)}),null!=e.Name&&{Name:e.Name}),null!=e.Privacy&&{Privacy:e.Privacy}),null!=e.Tags&&{Tags:ta(e.Tags,t)})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,Li(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),[2,n]}}))}))}(e,t)},t}(Qe),Ja=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelFlowCommand",inputFilterSensitiveLog:lr,outputFilterSensitiveLog:dr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={"content-type":"application/json"},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channel-flows",f=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.AppInstanceArn&&{AppInstanceArn:e.AppInstanceArn}),null!=e.ClientRequestToken&&{ClientRequestToken:e.ClientRequestToken}),null!=e.Name&&{Name:e.Name}),null!=e.Processors&&{Processors:$o(e.Processors,t)}),null!=e.Tags&&{Tags:ta(e.Tags,t)})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,Ui(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelFlowArn&&(n.ChannelFlowArn=st(r.ChannelFlowArn)),[2,n]}}))}))}(e,t)},t}(Qe),$a=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelMembershipCommand",inputFilterSensitiveLog:fr,outputFilterSensitiveLog:hr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/memberships",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.MemberArn&&{MemberArn:e.MemberArn}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId}),null!=e.Type&&{Type:e.Type})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,Bi(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.Member&&(n.Member=Ea(r.Member,t)),null!=r.SubChannelId&&(n.SubChannelId=st(r.SubChannelId)),[2,n]}}))}))}(e,t)},t}(Qe),Ya=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelModeratorCommand",inputFilterSensitiveLog:pr,outputFilterSensitiveLog:vr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/moderators",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=JSON.stringify(Object(i.a)({},null!=e.ChannelModeratorArn&&{ChannelModeratorArn:e.ChannelModeratorArn})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,Vi(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.ChannelModerator&&(n.ChannelModerator=Ea(r.ChannelModerator,t)),[2,n]}}))}))}(e,t)},t}(Qe),Qa=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelBanCommand",inputFilterSensitiveLog:gr,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/bans/{MemberArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"DELETE",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Hi(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),Za=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelCommand",inputFilterSensitiveLog:mr,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({"sub-channel-id":[,e.SubChannelId]}),[2,new d({protocol:a,hostname:r,port:s,method:"DELETE",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,zi(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),Xa=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelFlowCommand",inputFilterSensitiveLog:br,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channel-flows/{ChannelFlowArn}",l=Ct(l,e,"ChannelFlowArn",(function(){return e.ChannelFlowArn}),"{ChannelFlowArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"DELETE",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Wi(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),es=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMembershipCommand",inputFilterSensitiveLog:yr,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/memberships/{MemberArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),f=To({"sub-channel-id":[,e.SubChannelId]}),[2,new d({protocol:a,hostname:r,port:s,method:"DELETE",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,qi(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),ts=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMessageCommand",inputFilterSensitiveLog:wr,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/messages/{MessageId}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),f=To({"sub-channel-id":[,e.SubChannelId]}),[2,new d({protocol:a,hostname:r,port:s,method:"DELETE",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Ki(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),ns=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelModeratorCommand",inputFilterSensitiveLog:Sr,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/moderators/{ChannelModeratorArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"ChannelModeratorArn",(function(){return e.ChannelModeratorArn}),"{ChannelModeratorArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"DELETE",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Gi(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),rs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelBanCommand",inputFilterSensitiveLog:Or,outputFilterSensitiveLog:xr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/bans/{MemberArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,$i(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelBan&&(n.ChannelBan=sa(r.ChannelBan,t)),[2,n]}}))}))}(e,t)},t}(Qe),is=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelCommand",inputFilterSensitiveLog:kr,outputFilterSensitiveLog:Cr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ji(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Channel&&(n.Channel=oa(r.Channel,t)),[2,n]}}))}))}(e,t)},t}(Qe),os=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelFlowCommand",inputFilterSensitiveLog:Er,outputFilterSensitiveLog:_r},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channel-flows/{ChannelFlowArn}",l=Ct(l,e,"ChannelFlowArn",(function(){return e.ChannelFlowArn}),"{ChannelFlowArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Yi(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelFlow&&(n.ChannelFlow=ua(r.ChannelFlow,t)),[2,n]}}))}))}(e,t)},t}(Qe),as=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipCommand",inputFilterSensitiveLog:Tr,outputFilterSensitiveLog:Ir},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/memberships/{MemberArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),f=To({"sub-channel-id":[,e.SubChannelId]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Qi(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelMembership&&(n.ChannelMembership=da(r.ChannelMembership,t)),[2,n]}}))}))}(e,t)},t}(Qe),ss=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipForAppInstanceUserCommand",inputFilterSensitiveLog:Ar,outputFilterSensitiveLog:Mr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({scope:[,"app-instance-user-membership"],"app-instance-user-arn":[,e.AppInstanceUserArn]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Zi(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelMembership&&(n.ChannelMembership=fa(r.ChannelMembership,t)),[2,n]}}))}))}(e,t)},t}(Qe),cs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:Pr,outputFilterSensitiveLog:jr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({scope:[,"app-instance-user-moderated-channel"],"app-instance-user-arn":[,e.AppInstanceUserArn]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Xi(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Channel&&(n.Channel=ya(r.Channel,t)),[2,n]}}))}))}(e,t)},t}(Qe),us=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratorCommand",inputFilterSensitiveLog:Rr,outputFilterSensitiveLog:Dr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/moderators/{ChannelModeratorArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"ChannelModeratorArn",(function(){return e.ChannelModeratorArn}),"{ChannelModeratorArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,eo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelModerator&&(n.ChannelModerator=Sa(r.ChannelModerator,t)),[2,n]}}))}))}(e,t)},t}(Qe),ls=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"DisassociateChannelFlowCommand",inputFilterSensitiveLog:Nr,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"ChannelFlowArn",(function(){return e.ChannelFlowArn}),"{ChannelFlowArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"DELETE",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,to(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),ds=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMembershipPreferencesCommand",inputFilterSensitiveLog:Lr,outputFilterSensitiveLog:Fr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/memberships/{MemberArn}/preferences",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,no(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.Member&&(n.Member=Ea(r.Member,t)),null!=r.Preferences&&(n.Preferences=pa(r.Preferences,t)),[2,n]}}))}))}(e,t)},t}(Qe),fs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageCommand",inputFilterSensitiveLog:Ur,outputFilterSensitiveLog:Br},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/messages/{MessageId}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),f=To({"sub-channel-id":[,e.SubChannelId]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,ro(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelMessage&&(n.ChannelMessage=ma(r.ChannelMessage,t)),[2,n]}}))}))}(e,t)},t}(Qe),hs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageStatusCommand",inputFilterSensitiveLog:Vr,outputFilterSensitiveLog:zr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/messages/{MessageId}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),f=To({scope:[,"message-status"],"sub-channel-id":[,e.SubChannelId]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,io(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Status&&(n.Status=ga(r.Status,t)),[2,n]}}))}))}(e,t)},t}(Qe),ps=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingSessionEndpointCommand",inputFilterSensitiveLog:Hr,outputFilterSensitiveLog:qr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var e,n,r,o,a,s,c,u;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return e=i.sent(),n=e.hostname,r=e.protocol,o=void 0===r?"https":r,a=e.port,s=e.path,c={"content-type":"application/json"},u="".concat((null===s||void 0===s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/endpoints/messaging-session",[2,new d({protocol:o,hostname:n,port:a,method:"GET",headers:c,path:u,body:""})]}}))}))}(0,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,oo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Endpoint&&(n.Endpoint=Pa(r.Endpoint,t)),[2,n]}}))}))}(e,t)},t}(Qe),vs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelBansCommand",inputFilterSensitiveLog:Kr,outputFilterSensitiveLog:Gr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/bans",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,ao(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.ChannelBans&&(n.ChannelBans=ca(r.ChannelBans,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),ms=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelFlowsCommand",inputFilterSensitiveLog:Jr,outputFilterSensitiveLog:$r},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channel-flows",f=To({"app-instance-arn":[,e.AppInstanceArn],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,so(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelFlows&&(n.ChannelFlows=la(r.ChannelFlows,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),gs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsCommand",inputFilterSensitiveLog:Yr,outputFilterSensitiveLog:Qr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/memberships",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({type:[,e.Type],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken],"sub-channel-id":[,e.SubChannelId]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,co(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.ChannelMemberships&&(n.ChannelMemberships=va(r.ChannelMemberships,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),bs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsForAppInstanceUserCommand",inputFilterSensitiveLog:Zr,outputFilterSensitiveLog:Xr},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels",f=To({scope:[,"app-instance-user-memberships"],"app-instance-user-arn":[,e.AppInstanceUserArn],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,uo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelMemberships&&(n.ChannelMemberships=ha(r.ChannelMemberships,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),ys=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMessagesCommand",inputFilterSensitiveLog:ei,outputFilterSensitiveLog:ti},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/messages",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({"sort-order":[,e.SortOrder],"not-before":[function(){return void 0!==e.NotBefore},function(){return(e.NotBefore.toISOString().split(".")[0]+"Z").toString()}],"not-after":[function(){return void 0!==e.NotAfter},function(){return(e.NotAfter.toISOString().split(".")[0]+"Z").toString()}],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken],"sub-channel-id":[,e.SubChannelId]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,lo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.ChannelMessages&&(n.ChannelMessages=ba(r.ChannelMessages,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),null!=r.SubChannelId&&(n.SubChannelId=st(r.SubChannelId)),[2,n]}}))}))}(e,t)},t}(Qe),ws=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelModeratorsCommand",inputFilterSensitiveLog:ni,outputFilterSensitiveLog:ri},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/moderators",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,fo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.ChannelModerators&&(n.ChannelModerators=ka(r.ChannelModerators,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),Ss=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsAssociatedWithChannelFlowCommand",inputFilterSensitiveLog:ai,outputFilterSensitiveLog:si},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels",f=To({scope:[,"channel-flow-associations"],"channel-flow-arn":[,e.ChannelFlowArn],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,po(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Channels&&(n.Channels=aa(r.Channels,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),ks=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsCommand",inputFilterSensitiveLog:ii,outputFilterSensitiveLog:oi},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels",f=To({"app-instance-arn":[,e.AppInstanceArn],privacy:[,e.Privacy],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,ho(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Channels&&(n.Channels=Oa(r.Channels,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),Cs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:ci,outputFilterSensitiveLog:ui},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels",f=To({scope:[,"app-instance-user-moderated-channels"],"app-instance-user-arn":[,e.AppInstanceUserArn],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,vo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Channels&&(n.Channels=wa(r.Channels,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),Os=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListSubChannelsCommand",inputFilterSensitiveLog:li,outputFilterSensitiveLog:fi},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/subchannels",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=To({"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,mo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),null!=r.SubChannels&&(n.SubChannels=Na(r.SubChannels,t)),[2,n]}}))}))}(e,t)},t}(Qe),xs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:hi,outputFilterSensitiveLog:pi},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(i){switch(i.label){case 0:return[4,t.endpoint()];case 1:return n=i.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/tags",f=To({arn:[,e.ResourceARN]}),[2,new d({protocol:a,hostname:r,port:s,method:"GET",headers:u,path:l,query:f,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,go(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Tags&&(n.Tags=La(r.Tags,t)),[2,n]}}))}))}(e,t)},t}(Qe),Es=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelMembershipPreferencesCommand",inputFilterSensitiveLog:vi,outputFilterSensitiveLog:mi},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/memberships/{MemberArn}/preferences",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MemberArn",(function(){return e.MemberArn}),"{MemberArn}",!1),f=JSON.stringify(Object(i.a)({},null!=e.Preferences&&{Preferences:Uo(e.Preferences,t)})),[2,new d({protocol:a,hostname:r,port:s,method:"PUT",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,bo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.Member&&(n.Member=Ea(r.Member,t)),null!=r.Preferences&&(n.Preferences=pa(r.Preferences,t)),[2,n]}}))}))}(e,t)},t}(Qe),_s=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"RedactChannelMessageCommand",inputFilterSensitiveLog:gi,outputFilterSensitiveLog:bi},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f,h;return Object(i.f)(this,(function(p){switch(p.label){case 0:return[4,t.endpoint()];case 1:return n=p.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/messages/{MessageId}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),f=To({operation:[,"redact"]}),h=JSON.stringify(Object(i.a)({},null!=e.SubChannelId&&{SubChannelId:e.SubChannelId})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,query:f,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,yo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.MessageId&&(n.MessageId=st(r.MessageId)),null!=r.SubChannelId&&(n.SubChannelId=st(r.SubChannelId)),[2,n]}}))}))}(e,t)},t}(Qe),Ts=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"SearchChannelsCommand",inputFilterSensitiveLog:wi,outputFilterSensitiveLog:Si},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f,h;return Object(i.f)(this,(function(p){switch(p.label){case 0:return[4,t.endpoint()];case 1:return n=p.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels",f=To({operation:[,"search"],"max-results":[function(){return void 0!==e.MaxResults},function(){return e.MaxResults.toString()}],"next-token":[,e.NextToken]}),h=JSON.stringify(Object(i.a)({},null!=e.Fields&&{Fields:Zo(e.Fields,t)})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,query:f,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,wo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).Channels&&(n.Channels=Oa(r.Channels,t)),null!=r.NextToken&&(n.NextToken=st(r.NextToken)),[2,n]}}))}))}(e,t)},t}(Qe),Is=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"SendChannelMessageCommand",inputFilterSensitiveLog:ki,outputFilterSensitiveLog:Ci},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f,h;return Object(i.f)(this,(function(p){switch(p.label){case 0:return[4,t.endpoint()];case 1:return n=p.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/messages",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({ClientRequestToken:null!==(h=e.ClientRequestToken)&&void 0!==h?h:B()},null!=e.Content&&{Content:e.Content}),null!=e.MessageAttributes&&{MessageAttributes:qo(e.MessageAttributes,t)}),null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.Persistence&&{Persistence:e.Persistence}),null!=e.PushNotification&&{PushNotification:Yo(e.PushNotification,t)}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId}),null!=e.Type&&{Type:e.Type})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 201!==e.statusCode&&e.statusCode>=300?[2,So(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.MessageId&&(n.MessageId=st(r.MessageId)),null!=r.Status&&(n.Status=ga(r.Status,t)),null!=r.SubChannelId&&(n.SubChannelId=st(r.SubChannelId)),[2,n]}}))}))}(e,t)},t}(Qe),As=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:Oi,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f,h;return Object(i.f)(this,(function(p){switch(p.label){case 0:return[4,t.endpoint()];case 1:return n=p.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={"content-type":"application/json"},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/tags",f=To({operation:[,"tag-resource"]}),h=JSON.stringify(Object(i.a)(Object(i.a)({},null!=e.ResourceARN&&{ResourceARN:e.ResourceARN}),null!=e.Tags&&{Tags:ta(e.Tags,t)})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,query:f,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,ko(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),Ms=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:xi,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f,h;return Object(i.f)(this,(function(p){switch(p.label){case 0:return[4,t.endpoint()];case 1:return n=p.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={"content-type":"application/json"},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/tags",f=To({operation:[,"untag-resource"]}),h=JSON.stringify(Object(i.a)(Object(i.a)({},null!=e.ResourceARN&&{ResourceARN:e.ResourceARN}),null!=e.TagKeys&&{TagKeys:ea(e.TagKeys,t)})),[2,new d({protocol:a,hostname:r,port:s,method:"POST",headers:u,path:l,query:f,body:h})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n;return Object(i.f)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Co(e,t)]:(n=To({$metadata:Fa(e)}),[4,Ua(e.body,t)]);case 1:return r.sent(),[2,n]}}))}))}(e,t)},t}(Qe),Ps=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelCommand",inputFilterSensitiveLog:Ei,outputFilterSensitiveLog:_i},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.Mode&&{Mode:e.Mode}),null!=e.Name&&{Name:e.Name})),[2,new d({protocol:a,hostname:r,port:s,method:"PUT",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Oo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),[2,n]}}))}))}(e,t)},t}(Qe),js=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelFlowCommand",inputFilterSensitiveLog:Ti,outputFilterSensitiveLog:Ii},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u={"content-type":"application/json"},l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channel-flows/{ChannelFlowArn}",l=Ct(l,e,"ChannelFlowArn",(function(){return e.ChannelFlowArn}),"{ChannelFlowArn}",!1),f=JSON.stringify(Object(i.a)(Object(i.a)({},null!=e.Name&&{Name:e.Name}),null!=e.Processors&&{Processors:$o(e.Processors,t)})),[2,new d({protocol:a,hostname:r,port:s,method:"PUT",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,xo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelFlowArn&&(n.ChannelFlowArn=st(r.ChannelFlowArn)),[2,n]}}))}))}(e,t)},t}(Qe),Rs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelMessageCommand",inputFilterSensitiveLog:Ai,outputFilterSensitiveLog:Mi},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/messages/{MessageId}",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),l=Ct(l,e,"MessageId",(function(){return e.MessageId}),"{MessageId}",!1),f=JSON.stringify(Object(i.a)(Object(i.a)(Object(i.a)({},null!=e.Content&&{Content:e.Content}),null!=e.Metadata&&{Metadata:e.Metadata}),null!=e.SubChannelId&&{SubChannelId:e.SubChannelId})),[2,new d({protocol:a,hostname:r,port:s,method:"PUT",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Eo(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.MessageId&&(n.MessageId=st(r.MessageId)),null!=r.Status&&(n.Status=ga(r.Status,t)),null!=r.SubChannelId&&(n.SubChannelId=st(r.SubChannelId)),[2,n]}}))}))}(e,t)},t}(Qe),Ds=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.e)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Xt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelReadMarkerCommand",inputFilterSensitiveLog:Pi,outputFilterSensitiveLog:ji},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,f;return Object(i.f)(this,(function(h){switch(h.label){case 0:return[4,t.endpoint()];case 1:return n=h.sent(),r=n.hostname,o=n.protocol,a=void 0===o?"https":o,s=n.port,c=n.path,u=To({},Ba,{"content-type":"application/json","x-amz-chime-bearer":e.ChimeBearer}),l="".concat((null===c||void 0===c?void 0:c.endsWith("/"))?c.slice(0,-1):c||"")+"/channels/{ChannelArn}/readMarker",l=Ct(l,e,"ChannelArn",(function(){return e.ChannelArn}),"{ChannelArn}",!1),f=JSON.stringify(Object(i.a)({},null!=e.SubChannelId&&{SubChannelId:e.SubChannelId})),[2,new d({protocol:a,hostname:r,port:s,method:"PUT",headers:u,path:l,body:f})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.d)(void 0,void 0,void 0,(function(){var n,r,o,a;return Object(i.f)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,_o(e,t)]:(n=To({$metadata:Fa(e)}),o=ot,a=at,[4,Va(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[a.apply(void 0,[i.sent()]),"body"])).ChannelArn&&(n.ChannelArn=st(r.ChannelArn)),null!=r.SubChannelId&&(n.SubChannelId=st(r.SubChannelId)),[2,n]}}))}))}(e,t)},t}(Qe),Ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.e)(t,e),t.prototype.associateChannelFlow=function(e,t,n){var r=new Ha(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.batchCreateChannelMembership=function(e,t,n){var r=new Wa(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.channelFlowCallback=function(e,t,n){var r=new qa(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.createChannel=function(e,t,n){var r=new Ga(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.createChannelBan=function(e,t,n){var r=new Ka(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.createChannelFlow=function(e,t,n){var r=new Ja(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.createChannelMembership=function(e,t,n){var r=new $a(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.createChannelModerator=function(e,t,n){var r=new Ya(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteChannel=function(e,t,n){var r=new Za(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteChannelBan=function(e,t,n){var r=new Qa(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteChannelFlow=function(e,t,n){var r=new Xa(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteChannelMembership=function(e,t,n){var r=new es(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteChannelMessage=function(e,t,n){var r=new ts(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteChannelModerator=function(e,t,n){var r=new ns(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeChannel=function(e,t,n){var r=new is(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeChannelBan=function(e,t,n){var r=new rs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeChannelFlow=function(e,t,n){var r=new os(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeChannelMembership=function(e,t,n){var r=new as(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeChannelMembershipForAppInstanceUser=function(e,t,n){var r=new ss(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeChannelModeratedByAppInstanceUser=function(e,t,n){var r=new cs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeChannelModerator=function(e,t,n){var r=new us(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.disassociateChannelFlow=function(e,t,n){var r=new ls(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.getChannelMembershipPreferences=function(e,t,n){var r=new ds(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.getChannelMessage=function(e,t,n){var r=new fs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.getChannelMessageStatus=function(e,t,n){var r=new hs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.getMessagingSessionEndpoint=function(e,t,n){var r=new ps(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannelBans=function(e,t,n){var r=new vs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannelFlows=function(e,t,n){var r=new ms(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannelMemberships=function(e,t,n){var r=new gs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannelMembershipsForAppInstanceUser=function(e,t,n){var r=new bs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannelMessages=function(e,t,n){var r=new ys(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannelModerators=function(e,t,n){var r=new ws(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannels=function(e,t,n){var r=new ks(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannelsAssociatedWithChannelFlow=function(e,t,n){var r=new Ss(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listChannelsModeratedByAppInstanceUser=function(e,t,n){var r=new Cs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listSubChannels=function(e,t,n){var r=new Os(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listTagsForResource=function(e,t,n){var r=new xs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putChannelMembershipPreferences=function(e,t,n){var r=new Es(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.redactChannelMessage=function(e,t,n){var r=new _s(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.searchChannels=function(e,t,n){var r=new Ts(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.sendChannelMessage=function(e,t,n){var r=new Is(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.tagResource=function(e,t,n){var r=new As(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.untagResource=function(e,t,n){var r=new Ms(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.updateChannel=function(e,t,n){var r=new Ps(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.updateChannelFlow=function(e,t,n){var r=new js(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.updateChannelMessage=function(e,t,n){var r=new Rs(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.updateChannelReadMarker=function(e,t,n){var r=new Ds(e);if("function"===typeof t)this.send(r,t);else{if("function"!==typeof n)return this.send(r,t);if("object"!==typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t}(Yt),Ls=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new vs(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},Fs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannelBans.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function Us(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(Fs.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(Ls.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var Bs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new ms(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},Vs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannelFlows.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function zs(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(Vs.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(Bs.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var Hs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new bs(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},Ws=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannelMembershipsForAppInstanceUser.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function qs(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(Ws.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(Hs.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var Ks=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new gs(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},Gs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannelMemberships.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function Js(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(Gs.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(Ks.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var $s=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new ys(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},Ys=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannelMessages.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function Qs(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(Ys.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)($s.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var Zs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new ws(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},Xs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannelModerators.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function ec(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(Xs.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(Zs.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var tc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new Ss(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},nc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannelsAssociatedWithChannelFlow.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function rc(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(nc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(tc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var ic=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new Cs(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},oc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannelsModeratedByAppInstanceUser.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function ac(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(oc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(ic.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var sc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new ks(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},cc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listChannels.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function uc(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(cc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(sc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var lc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new Os(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},dc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.listSubChannels.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function fc(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(dc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(lc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}var hc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.send.apply(e,Object(i.i)([new Ts(t)],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))},pc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.d)(void 0,void 0,void 0,(function(){return Object(i.f)(this,(function(r){switch(r.label){case 0:return[4,e.searchChannels.apply(e,Object(i.i)([t],Object(i.g)(n),!1))];case 1:return[2,r.sent()]}}))}))};function vc(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Object(i.b)(this,arguments,(function(){var r,o,a,s;return Object(i.f)(this,(function(c){switch(c.label){case 0:r=e.startingToken||void 0,o=!0,c.label=1;case 1:return o?(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof Ns?[4,Object(i.c)(pc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,3]):[3,9];case 2:return a=c.sent(),[3,6];case 3:return e.client instanceof Yt?[4,Object(i.c)(hc.apply(void 0,Object(i.i)([e.client,t],Object(i.g)(n),!1)))]:[3,5];case 4:return a=c.sent(),[3,6];case 5:throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");case 6:return[4,Object(i.c)(a)];case 7:return[4,c.sent()];case 8:return c.sent(),s=r,r=a.NextToken,o=!(!r||e.stopOnSameToken&&r===s),[3,1];case 9:return[4,Object(i.c)(void 0)];case 10:return[2,c.sent()]}}))}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j})),n.d(t,"styleFunction",(function(){return P}));var r=n(126),i=n(11),o=n(55);function a(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function s(e){var t=function(t){var n=e(t);return t.css?Object(i.a)({},Object(o.a)(n,e(Object(i.a)({theme:t.theme},t.css))),a(t.css,[e.filterProps])):t.sx?Object(i.a)({},Object(o.a)(n,e(Object(i.a)({theme:t.theme},t.sx))),a(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(Object(r.a)(e.filterProps)),t}var c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(o.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},u=n(38),l=n(128);function d(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var f=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=d(e.theme,i)||{};return Object(l.a)(e,n,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=d(a,e)||e,o&&(t=o(t))),!1===r?t:Object(u.a)({},r,t)}))};return a.propTypes={},a.filterProps=[t],a};function h(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var p=c(f({prop:"border",themeKey:"borders",transform:h}),f({prop:"borderTop",themeKey:"borders",transform:h}),f({prop:"borderRight",themeKey:"borders",transform:h}),f({prop:"borderBottom",themeKey:"borders",transform:h}),f({prop:"borderLeft",themeKey:"borders",transform:h}),f({prop:"borderColor",themeKey:"palette"}),f({prop:"borderRadius",themeKey:"shape"})),v=c(f({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),f({prop:"display"}),f({prop:"overflow"}),f({prop:"textOverflow"}),f({prop:"visibility"}),f({prop:"whiteSpace"})),m=c(f({prop:"flexBasis"}),f({prop:"flexDirection"}),f({prop:"flexWrap"}),f({prop:"justifyContent"}),f({prop:"alignItems"}),f({prop:"alignContent"}),f({prop:"order"}),f({prop:"flex"}),f({prop:"flexGrow"}),f({prop:"flexShrink"}),f({prop:"alignSelf"}),f({prop:"justifyItems"}),f({prop:"justifySelf"})),g=c(f({prop:"gridGap"}),f({prop:"gridColumnGap"}),f({prop:"gridRowGap"}),f({prop:"gridColumn"}),f({prop:"gridRow"}),f({prop:"gridAutoFlow"}),f({prop:"gridAutoColumns"}),f({prop:"gridAutoRows"}),f({prop:"gridTemplateColumns"}),f({prop:"gridTemplateRows"}),f({prop:"gridTemplateAreas"}),f({prop:"gridArea"})),b=c(f({prop:"position"}),f({prop:"zIndex",themeKey:"zIndex"}),f({prop:"top"}),f({prop:"right"}),f({prop:"bottom"}),f({prop:"left"})),y=c(f({prop:"color",themeKey:"palette"}),f({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),w=f({prop:"boxShadow",themeKey:"shadows"});function S(e){return e<=1?"".concat(100*e,"%"):e}var k=f({prop:"width",transform:S}),C=f({prop:"maxWidth",transform:S}),O=f({prop:"minWidth",transform:S}),x=f({prop:"height",transform:S}),E=f({prop:"maxHeight",transform:S}),_=f({prop:"minHeight",transform:S}),T=(f({prop:"size",cssProperty:"width",transform:S}),f({prop:"size",cssProperty:"height",transform:S}),c(k,C,O,x,E,_,f({prop:"boxSizing"}))),I=n(575),A=c(f({prop:"fontFamily",themeKey:"typography"}),f({prop:"fontSize",themeKey:"typography"}),f({prop:"fontStyle",themeKey:"typography"}),f({prop:"fontWeight",themeKey:"typography"}),f({prop:"letterSpacing"}),f({prop:"lineHeight"}),f({prop:"textAlign"})),M=n(121),P=s(c(p,v,m,g,b,y,w,T,I.b,A)),j=Object(M.a)("div")(P,{name:"MuiBox"})},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(11),i=n(25),o=n(1),a=n(36),s=n(35),c=n(69),u=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?"div":c,l=e.square,d=void 0!==l&&l,f=e.elevation,h=void 0===f?1:f,p=e.variant,v=void 0===p?"elevation":p,m=Object(i.a)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(u,Object(r.a)({className:Object(a.default)(n.root,s,"outlined"===v?n.outlined:n["elevation".concat(h)],!d&&n.rounded),ref:t},m))})),l=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(r.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(u),d=o.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.color,d=void 0===u?"primary":u,f=e.position,h=void 0===f?"fixed":f,p=Object(i.a)(e,["classes","className","color","position"]);return o.createElement(l,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(a.default)(n.root,n["position".concat(Object(c.a)(h))],n["color".concat(Object(c.a)(d))],s,"fixed"===h&&"mui-fixed"),ref:t},p))})),f=Object(s.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(d)},function(e,t,n){"use strict";n.r(t),n.d(t,"fromUtf8",(function(){return r})),n.d(t,"toUtf8",(function(){return i}));var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fromUtf8",(function(){return r})),n.d(t,"toUtf8",(function(){return i}));var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fromUtf8",(function(){return r})),n.d(t,"toUtf8",(function(){return i}));var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(11),i=n(1),o=n(35),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},s=function(e){return Object(r.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var c=Object(o.a)((function(e){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},s(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(11),i=n(1),o=n(569),a=n(571);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(o.a)(),s=Object(a.a)({theme:n,name:"MuiUseMediaQuery",props:{}});var c="function"===typeof e?e(n):e;c=c.replace(/^@media( ?)/m,"");var u="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=Object(r.a)({},s,t),d=l.defaultMatches,f=void 0!==d&&d,h=l.matchMedia,p=void 0===h?u?window.matchMedia:null:h,v=l.noSsr,m=void 0!==v&&v,g=l.ssrMatchMedia,b=void 0===g?null:g,y=i.useState((function(){return m&&u?p(c).matches:b?b(c).matches:f})),w=y[0],S=y[1];return i.useEffect((function(){var e=!0;if(u){var t=p(c),n=function(){e&&S(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[c,p,u]),w}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(11),i=n(25),o=n(38),a=n(1),s=n(36),c=n(35),u=a.forwardRef((function(e,t){var n=e.classes,o=e.className,c=e.component,u=void 0===c?"div":c,l=e.disableGutters,d=void 0!==l&&l,f=e.variant,h=void 0===f?"regular":f,p=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return a.createElement(u,Object(r.a)({className:Object(s.default)(n.root,n[h],o,!d&&n.gutters),ref:t},p))})),l=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(o.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(u)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(11),i=n(25),o=n(1),a=n(36),s=n(35),c=n(69),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=o.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,l=e.classes,d=e.className,f=e.color,h=void 0===f?"initial":f,p=e.component,v=e.display,m=void 0===v?"initial":v,g=e.gutterBottom,b=void 0!==g&&g,y=e.noWrap,w=void 0!==y&&y,S=e.paragraph,k=void 0!==S&&S,C=e.variant,O=void 0===C?"body1":C,x=e.variantMapping,E=void 0===x?u:x,_=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),T=p||(k?"p":E[O]||u[O])||"span";return o.createElement(T,Object(r.a)({className:Object(a.default)(l.root,d,"inherit"!==O&&l[O],"initial"!==h&&l["color".concat(Object(c.a)(h))],w&&l.noWrap,b&&l.gutterBottom,k&&l.paragraph,"inherit"!==s&&l["align".concat(Object(c.a)(s))],"initial"!==m&&l["display".concat(Object(c.a)(m))]),ref:t},_))})),d=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(125),i=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,o=e.productionPrefix,a=void 0===o?"jss":o,s=e.seed,c=void 0===s?"":s,u=""===c?"":"".concat(c,"-"),l=0,d=function(){return l+=1};return function(e,t){var o=t.options.name;if(o&&0===o.indexOf("Mui")&&!t.options.link&&!n){if(-1!==i.indexOf(e.key))return"Mui-".concat(e.key);var s="".concat(u).concat(o,"-").concat(e.key);return t.options.theme[r.a]&&""===c?"".concat(s,"-").concat(d()):s}return"".concat(u).concat(a).concat(d())}}},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){return e&&"object"===i(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?r({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])})),i}n.d(t,"a",(function(){return a}))},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n.n(r),o=n(124);function a(){return i.a.useContext(o.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r,i=n(18),o=n(39),a=n(1),s=n.n(a),c=n(556),u=n(27),l=n(354),d=Object(u.c)(Object(l.a)()),f={disableGeneration:!1,generateClassName:Object(c.a)(),jss:d,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},h=s.a.createContext(f);function p(e){var t=e.children,n=e.injectFirst,a=void 0!==n&&n,c=e.disableGeneration,d=void 0!==c&&c,f=Object(o.a)(e,["children","injectFirst","disableGeneration"]),p=s.a.useContext(h),v=Object(i.a)({},p,{disableGeneration:d},f);if(!v.jss.options.insertionPoint&&a&&"undefined"!==typeof window){if(!r){var m=document.head;r=document.createComment("mui-inject-first"),m.insertBefore(r,m.firstChild)}v.jss=Object(u.c)({plugins:Object(l.a)().plugins,insertionPoint:r})}return s.a.createElement(h.Provider,{value:v},t)}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return h}));var r=n(71),i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},u=new r.a("Util"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return i(t,e),t}(Error);function d(e,t,n,r){return void 0===r&&(r=1),o(this,void 0,void 0,(function(){var i,o;return a(this,(function(a){switch(a.label){case 0:if("function"!==typeof e)throw Error("functionToRetry must be a function");u.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,e.apply(void 0,c(t))];case 2:return[2,a.sent()];case 3:if(i=a.sent(),u.debug("error on "+e.name,i),(s=i)&&s.nonRetryable)throw u.debug(e.name+" non retryable error",i),i;return o=n(r,t,i),u.debug(e.name+" retrying in "+o+" ms"),!1===o?[3,6]:[4,new Promise((function(e){return setTimeout(e,o)}))];case 4:return a.sent(),[4,d(e,t,n,r+1)];case 5:return[2,a.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}var s}))}))}var f=3e5;var h=function(e,t,n){return void 0===n&&(n=f),d(e,t,function(e){return void 0===e&&(e=f),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return on}));var r=n(168),i=n(67),o=n(71),a=n(167),s=n(53),c=n(353),u=n(332),l=n(104),d=n.n(l),f=n(20),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},g=new o.a("RestClient"),b=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=a.a,this._options=e,g.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return p(this,void 0,void 0,(function(){var r,i,o,a,u,l,d,p,b,y,w,S,k,C,O=this;return v(this,(function(v){switch(v.label){case 0:return g.debug(t,e),o="us-east-1",a="execute-api",u=void 0,"string"===typeof e?(r=this._parseUrl(e),i=e):(i=e.endpoint,u=e.custom_header,o=e.region,a=e.service,r=this._parseUrl(e.endpoint)),l={method:t,url:i,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},d={},s.a.isReactNative&&(p=s.a.userAgent||"aws-amplify/0.1.x",d={"User-Agent":p}),b=Object.assign({},n),y=b.response,b.body&&("function"===typeof FormData&&b.body instanceof FormData?(d["Content-Type"]="multipart/form-data",l.data=b.body):(d["Content-Type"]="application/json; charset=UTF-8",l.data=JSON.stringify(b.body))),b.responseType&&(l.responseType=b.responseType),b.withCredentials&&(l.withCredentials=b.withCredentials),b.timeout&&(l.timeout=b.timeout),b.cancellableToken&&(l.cancelToken=b.cancellableToken.token),l.signerServiceInfo=b.signerServiceInfo,"function"!==typeof u?[3,2]:[4,u()];case 1:return S=v.sent(),[3,3];case 2:S=void 0,v.label=3;case 3:return w=S,l.headers=h(h(h({},d),w),b.headers),k=Object(f.parse)(i,!0,!0),k.search,C=m(k,["search"]),l.url=Object(f.format)(h(h({},C),{query:h(h({},C.query),b.queryStringParameters||{})})),"undefined"!==typeof l.headers.Authorization?(l.headers=Object.keys(l.headers).reduce((function(e,t){return l.headers[t]&&(e[t]=l.headers[t]),e}),{}),[2,this._request(l,y)]):[2,this.Credentials.get().then((function(r){return O._signed(h({},l),r,y,{region:o,service:a}).catch((function(r){if(c.a.isClockSkewError(r)){var i=r.response.headers,o=i&&(i.date||i.Date),a=new Date(o),s=c.a.getDateFromHeaderString(l.headers["x-amz-date"]);if(c.a.isClockSkewed(a))return c.a.setClockOffset(a.getTime()-s.getTime()),O.ajax(e,t,n)}throw r}))}),(function(e){return g.debug("No credentials available, the request will be unsigned"),O._request(l,y)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},e.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},e.prototype.isCancel=function(e){return d.a.isCancel(e)},e.prototype.getCancellableToken=function(){return d.a.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"===typeof n.region?t._region=n.region:"string"===typeof t._options.region&&(t._region=t._options.region),"string"===typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"===typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,r){var i=r.service,o=r.region,a=e.signerServiceInfo,s=m(e,["signerServiceInfo"]),c=o||this._region||this._options.region,l=i||this._service||this._options.service,f={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},h={region:c,service:l},p=Object.assign(h,a),v=u.a.sign(s,f,p);return v.data&&(v.body=v.data),g.debug("Signed Request: ",v),delete v.headers.host,d()(v).then((function(e){return n?e:e.data})).catch((function(e){throw g.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),d()(e).then((function(e){return t?e:e.data})).catch((function(e){throw g.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),y=n(49),w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},w.apply(this,arguments)},S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},k=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},O=new o.a("RestAPI"),x=function(){function e(e){this._api=null,this.Credentials=a.a,this._options=e,O.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=C(t,["API"]),o=w(w({},i),r);if(O.debug("configure Rest API",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var a=o.aws_cloud_logic_custom;o.endpoints="string"===typeof a?JSON.parse(a):a}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)?o.endpoints.forEach((function(e){"undefined"!==typeof e.custom_header&&"function"!==typeof e.custom_header&&(O.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?o.endpoints=this._options.endpoints:o.endpoints=[],this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return O.debug("create Rest API instance"),this._api=new b(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.get(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.post(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.put(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.patch(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.del(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.head(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype.endpoint=function(e){return S(this,void 0,void 0,(function(){return k(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var i={endpoint:r.endpoint+t};return"string"===typeof r.region?i.region=r.region:"string"===typeof this._options.region&&(i.region=this._options.region),"string"===typeof r.service?i.service=r.service||"execute-api":i.service="execute-api","function"===typeof r.custom_header?i.custom_header=r.custom_header:i.custom_header=void 0,i},e}(),E=new x(null);function _(e){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}y.a.register(E);"function"===typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"===typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var T="function"===typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function I(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function A(e){return M(e.source,I(e.source,e.start))}function M(e,t){var n=e.locationOffset.column-1,r=j(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,c=t.column+s,u="".concat(e.name,":").concat(a,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),d=l[i];if(d.length>120){for(var f=Math.floor(c/80),h=c%80,p=[],v=0;v<d.length;v+=80)p.push(d.slice(v,v+80));return u+P([["".concat(a),p[0]]].concat(p.slice(1,f+1).map((function(e){return["",e]})),[[" ",j(h-1)+"^"],["",p[f+1]]]))}return u+P([["".concat(a-1),l[i-1]],["".concat(a),d],["",j(c-1)+"^"],["".concat(a+1),l[i+1]]])}function P(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return j(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function j(e){return Array(e+1).join(" ")}function R(e){return R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==R(t)&&"function"!==typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){var t="function"===typeof Map?new Map:void 0;return B=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return V(e,arguments,W(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),H(r,e)},B(e)}function V(e,t,n){return V=z()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&H(i,n.prototype),i},V.apply(null,arguments)}function z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var q=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(o,e);var t,n,r,i=function(e){var t=z();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F(this,n)}}(o);function o(e,t,n,r,a,s,c){var u,l,d,f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(f=i.call(this,e)).name="GraphQLError",f.originalError=null!==s&&void 0!==s?s:void 0,f.nodes=K(Array.isArray(t)?t:t?[t]:void 0);for(var h=[],p=0,v=null!==(m=f.nodes)&&void 0!==m?m:[];p<v.length;p++){var m,g=v[p].loc;null!=g&&h.push(g)}h=K(h),f.source=null!==n&&void 0!==n?n:null===(u=h)||void 0===u?void 0:u[0].source,f.positions=null!==r&&void 0!==r?r:null===(l=h)||void 0===l?void 0:l.map((function(e){return e.start})),f.locations=r&&n?r.map((function(e){return I(n,e)})):null===(d=h)||void 0===d?void 0:d.map((function(e){return I(e.source,e.start)})),f.path=null!==a&&void 0!==a?a:void 0;var b,y=null===s||void 0===s?void 0:s.extensions;return null==c&&("object"==_(b=y)&&null!==b)?f.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y):f.extensions=null!==c&&void 0!==c?c:{},Object.defineProperties(U(f),{message:{enumerable:!0},locations:{enumerable:null!=f.locations},path:{enumerable:null!=f.path},extensions:{enumerable:null!=f.extensions&&Object.keys(f.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==s&&void 0!==s&&s.stack?(Object.defineProperty(U(f),"stack",{value:s.stack,writable:!0,configurable:!0}),F(f)):(Error.captureStackTrace?Error.captureStackTrace(U(f),o):Object.defineProperty(U(f),"stack",{value:Error().stack,writable:!0,configurable:!0}),f)}return t=o,(n=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+A(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+M(e.source,s)}return t}(this)}},{key:T,get:function(){return"Object"}}])&&L(t.prototype,n),r&&L(t,r),o}(B(Error));function K(e){return void 0===e||0===e.length?void 0:e}function G(e,t,n){return new q("Syntax Error: ".concat(n),void 0,e,[t])}var J=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var $="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Y(e){var t=e.prototype.toJSON;"function"===typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,$&&(e.prototype[$]=t)}var Q=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Y(Q);var Z=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function X(e){return null!=e&&"string"===typeof e.kind}Y(Z);var ee=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function te(e){return te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e){return re(e,[])}function re(e,t){switch(te(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String($)];if("function"===typeof t)return t;if("function"===typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"===typeof i?i:re(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(re(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var n=e.constructor.name;if("string"===typeof n&&""!==n)return n}return t}(e)+"]";var r=n.map((function(n){return n+": "+re(e[n],t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function ie(e,t){if(!Boolean(e))throw new Error(t)}var oe=function(e,t){return e instanceof t};function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var se=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"===typeof e||ie(0,"Body must be a string. Received: ".concat(ne(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||ie(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ie(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:T,get:function(){return"Source"}}])&&ae(t.prototype,n),r&&ae(t,r),e}();var ce=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function ue(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&le(t[i]);)++i;for(var o=t.length;o>i&&le(t[o-1]);)--o;return t.slice(i,o).join("\n")}function le(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var de=function(){function e(e){var t=new Z(ee.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==ee.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=he(this,e)}while(e.kind===ee.COMMENT);return e},e}();function fe(e){return isNaN(e)?ee.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function he(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,c=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Z(ee.BANG,o,o+1,s,c,t);case 35:return ve(n,o,s,c,t);case 36:return new Z(ee.DOLLAR,o,o+1,s,c,t);case 38:return new Z(ee.AMP,o,o+1,s,c,t);case 40:return new Z(ee.PAREN_L,o,o+1,s,c,t);case 41:return new Z(ee.PAREN_R,o,o+1,s,c,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new Z(ee.SPREAD,o,o+3,s,c,t);break;case 58:return new Z(ee.COLON,o,o+1,s,c,t);case 61:return new Z(ee.EQUALS,o,o+1,s,c,t);case 64:return new Z(ee.AT,o,o+1,s,c,t);case 91:return new Z(ee.BRACKET_L,o,o+1,s,c,t);case 93:return new Z(ee.BRACKET_R,o,o+1,s,c,t);case 123:return new Z(ee.BRACE_L,o,o+1,s,c,t);case 124:return new Z(ee.PIPE,o,o+1,s,c,t);case 125:return new Z(ee.BRACE_R,o,o+1,s,c,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?ye(n,o,s,c,t,e):be(n,o,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return me(n,o,a,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Se(n,o,s,c,t)}throw G(n,o,pe(a))}var u=e.line,l=1+o-e.lineStart;return new Z(ee.EOF,i,i,u,l,t)}function pe(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(fe(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(fe(e),".")}function ve(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new Z(ee.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function me(e,t,n,r,i,o){var a=e.body,s=n,c=t,u=!1;if(45===s&&(s=a.charCodeAt(++c)),48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw G(e,c,"Invalid number, unexpected digit after 0: ".concat(fe(s),"."))}else c=ge(e,c,s),s=a.charCodeAt(c);if(46===s&&(u=!0,s=a.charCodeAt(++c),c=ge(e,c,s),s=a.charCodeAt(c)),69!==s&&101!==s||(u=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=ge(e,c,s),s=a.charCodeAt(c)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw G(e,c,"Invalid number, expected digit but got: ".concat(fe(s),"."));return new Z(u?ee.FLOAT:ee.INT,t,c,r,i,o,a.slice(t,c))}function ge(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw G(e,i,"Invalid number, expected digit but got: ".concat(fe(o),"."))}function be(e,t,n,r,i){for(var o,a,s,c,u=e.body,l=t+1,d=l,f=0,h="";l<u.length&&!isNaN(f=u.charCodeAt(l))&&10!==f&&13!==f;){if(34===f)return h+=u.slice(d,l),new Z(ee.STRING,t,l+1,n,r,i,h);if(f<32&&9!==f)throw G(e,l,"Invalid character within String: ".concat(fe(f),"."));if(++l,92===f){switch(h+=u.slice(d,l-1),f=u.charCodeAt(l)){case 34:h+='"';break;case 47:h+="/";break;case 92:h+="\\";break;case 98:h+="\b";break;case 102:h+="\f";break;case 110:h+="\n";break;case 114:h+="\r";break;case 116:h+="\t";break;case 117:var p=(o=u.charCodeAt(l+1),a=u.charCodeAt(l+2),s=u.charCodeAt(l+3),c=u.charCodeAt(l+4),we(o)<<12|we(a)<<8|we(s)<<4|we(c));if(p<0){var v=u.slice(l+1,l+5);throw G(e,l,"Invalid character escape sequence: \\u".concat(v,"."))}h+=String.fromCharCode(p),l+=4;break;default:throw G(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(f),"."))}d=++l}}throw G(e,l,"Unterminated string.")}function ye(e,t,n,r,i,o){for(var a=e.body,s=t+3,c=s,u=0,l="";s<a.length&&!isNaN(u=a.charCodeAt(s));){if(34===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(c,s),new Z(ee.BLOCK_STRING,t,s+3,n,r,i,ue(l));if(u<32&&9!==u&&10!==u&&13!==u)throw G(e,s,"Invalid character within String: ".concat(fe(u),"."));10===u?(++s,++o.line,o.lineStart=s):13===u?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(c,s)+'"""',c=s+=4):++s}throw G(e,s,"Unterminated string.")}function we(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Se(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,c=0;s!==a&&!isNaN(c=o.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new Z(ee.NAME,t,s,n,r,i,o.slice(t,s))}function ke(e,t){return new Ce(e,t).parseDocument()}var Ce=function(){function e(e,t){var n=function(e){return oe(e,se)}(e)?e:new se(e);this._lexer=new de(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(ee.NAME);return{kind:J.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:J.DOCUMENT,definitions:this.many(ee.SOF,this.parseDefinition,ee.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(ee.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(ee.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(ee.BRACE_L))return{kind:J.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(ee.NAME)&&(t=this.parseName()),{kind:J.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(ee.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(ee.PAREN_L,this.parseVariableDefinition,ee.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:J.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ee.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ee.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(ee.DOLLAR),{kind:J.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:J.SELECTION_SET,selections:this.many(ee.BRACE_L,this.parseSelection,ee.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(ee.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(ee.COLON)?(e=r,t=this.parseName()):t=r,{kind:J.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ee.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(ee.PAREN_L,t,ee.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(ee.COLON),{kind:J.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:J.ARGUMENT,name:this.parseName(),value:(this.expectToken(ee.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(ee.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(ee.NAME)?{kind:J.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:J.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:J.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:J.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case ee.BRACKET_L:return this.parseList(e);case ee.BRACE_L:return this.parseObject(e);case ee.INT:return this._lexer.advance(),{kind:J.INT,value:t.value,loc:this.loc(t)};case ee.FLOAT:return this._lexer.advance(),{kind:J.FLOAT,value:t.value,loc:this.loc(t)};case ee.STRING:case ee.BLOCK_STRING:return this.parseStringLiteral();case ee.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:J.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:J.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:J.NULL,loc:this.loc(t)};default:return{kind:J.ENUM,value:t.value,loc:this.loc(t)}}case ee.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:J.STRING,value:e.value,block:e.kind===ee.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:J.LIST,values:this.any(ee.BRACKET_L,(function(){return t.parseValueLiteral(e)}),ee.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:J.OBJECT,fields:this.any(ee.BRACE_L,(function(){return t.parseObjectField(e)}),ee.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(ee.COLON),{kind:J.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(ee.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(ee.AT),{kind:J.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(ee.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(ee.BRACKET_R),e={kind:J.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(ee.BANG)?{kind:J.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:J.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===ee.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(ee.STRING)||this.peek(ee.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(ee.BRACE_L,this.parseOperationTypeDefinition,ee.BRACE_R);return{kind:J.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(ee.COLON);var n=this.parseNamedType();return{kind:J.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:J.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:J.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(ee.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(ee.AMP)||this.peek(ee.NAME));return t}return this.delimitedMany(ee.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(ee.BRACE_L)&&this._lexer.lookahead().kind===ee.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(ee.BRACE_L,this.parseFieldDefinition,ee.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(ee.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:J.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(ee.PAREN_L,this.parseInputValueDef,ee.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(ee.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(ee.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:J.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:J.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:J.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(ee.EQUALS)?this.delimitedMany(ee.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:J.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(ee.BRACE_L,this.parseEnumValueDefinition,ee.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:J.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:J.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(ee.BRACE_L,this.parseInputValueDef,ee.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===ee.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(ee.BRACE_L,this.parseOperationTypeDefinition,ee.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:J.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:J.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:J.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:J.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:J.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:J.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:J.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ee.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:J.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(ee.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==ce[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Q(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw G(this._lexer.source,t.start,"Expected ".concat(xe(e),", found ").concat(Oe(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==ee.NAME||t.value!==e)throw G(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Oe(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===ee.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!==e&&void 0!==e?e:this._lexer.token;return G(this._lexer.source,t.start,"Unexpected ".concat(Oe(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function Oe(e){var t=e.value;return xe(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function xe(e){return function(e){return e===ee.BANG||e===ee.DOLLAR||e===ee.AMP||e===ee.PAREN_L||e===ee.PAREN_R||e===ee.SPREAD||e===ee.COLON||e===ee.EQUALS||e===ee.AT||e===ee.BRACKET_L||e===ee.BRACKET_R||e===ee.BRACE_L||e===ee.PIPE||e===ee.BRACE_R}(e)?'"'.concat(e,'"'):e}var Ee={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},_e=Object.freeze({});function Te(e,t,n){var r=e[t];if(r){if(!n&&"function"===typeof r)return r;var i=n?r.leave:r.enter;if("function"===typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"===typeof o)return o;var a=o[t];if("function"===typeof a)return a}}}function Ie(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],c=void 0,u=void 0,l=void 0,d=[],f=[],h=e;do{var p=++a===o.length,v=p&&0!==s.length;if(p){if(u=0===f.length?void 0:d[d.length-1],c=l,l=f.pop(),v){if(i)c=c.slice();else{for(var m={},g=0,b=Object.keys(c);g<b.length;g++){var y=b[g];m[y]=c[y]}c=m}for(var w=0,S=0;S<s.length;S++){var k=s[S][0],C=s[S][1];i&&(k-=w),i&&null===C?(c.splice(k,1),w++):c[k]=C}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(u=l?i?a:o[a]:void 0,null===(c=l?l[u]:h)||void 0===c)continue;l&&d.push(u)}var O,x=void 0;if(!Array.isArray(c)){if(!X(c))throw new Error("Invalid AST Node: ".concat(ne(c),"."));var E=Te(t,c.kind,p);if(E){if((x=E.call(t,c,u,l,d,f))===_e)break;if(!1===x){if(!p){d.pop();continue}}else if(void 0!==x&&(s.push([u,x]),!p)){if(!X(x)){d.pop();continue}c=x}}}void 0===x&&v&&s.push([u,c]),p?d.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(c))?c:null!==(O=n[c.kind])&&void 0!==O?O:[],a=-1,s=[],l&&f.push(l),l=c)}while(void 0!==r);return 0!==s.length&&(h=s[s.length-1][1]),h}(e,{leave:Ae})}var Ae={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Pe(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=Re("(",Pe(e.variableDefinitions,", "),")"),i=Pe(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?Pe([t,Pe([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+Re(" = ",r)+Re(" ",Pe(i," "))},SelectionSet:function(e){return je(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=Re("",t,": ")+n,s=a+Re("(",Pe(r,", "),")");return s.length>80&&(s=a+Re("(\n",De(Pe(r,"\n")),"\n)")),Pe([s,Pe(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+Re(" ",Pe(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return Pe(["...",Re("on ",t),Pe(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(Re("(",Pe(r,", "),")")," ")+"on ".concat(n," ").concat(Re("",Pe(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,c="";return!s||r&&i||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Pe(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Pe(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+Re("(",Pe(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:Me((function(e){var t=e.directives,n=e.operationTypes;return Pe(["schema",Pe(t," "),je(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:Me((function(e){return Pe(["scalar",e.name,Pe(e.directives," ")]," ")})),ObjectTypeDefinition:Me((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Pe(["type",t,Re("implements ",Pe(n," & ")),Pe(r," "),je(i)]," ")})),FieldDefinition:Me((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(Le(n)?Re("(\n",De(Pe(n,"\n")),"\n)"):Re("(",Pe(n,", "),")"))+": "+r+Re(" ",Pe(i," "))})),InputValueDefinition:Me((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return Pe([t+": "+n,Re("= ",r),Pe(i," ")]," ")})),InterfaceTypeDefinition:Me((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Pe(["interface",t,Re("implements ",Pe(n," & ")),Pe(r," "),je(i)]," ")})),UnionTypeDefinition:Me((function(e){var t=e.name,n=e.directives,r=e.types;return Pe(["union",t,Pe(n," "),r&&0!==r.length?"= "+Pe(r," | "):""]," ")})),EnumTypeDefinition:Me((function(e){var t=e.name,n=e.directives,r=e.values;return Pe(["enum",t,Pe(n," "),je(r)]," ")})),EnumValueDefinition:Me((function(e){return Pe([e.name,Pe(e.directives," ")]," ")})),InputObjectTypeDefinition:Me((function(e){var t=e.name,n=e.directives,r=e.fields;return Pe(["input",t,Pe(n," "),je(r)]," ")})),DirectiveDefinition:Me((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(Le(n)?Re("(\n",De(Pe(n,"\n")),"\n)"):Re("(",Pe(n,", "),")"))+(r?" repeatable":"")+" on "+Pe(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return Pe(["extend schema",Pe(t," "),je(n)]," ")},ScalarTypeExtension:function(e){return Pe(["extend scalar",e.name,Pe(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Pe(["extend type",t,Re("implements ",Pe(n," & ")),Pe(r," "),je(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Pe(["extend interface",t,Re("implements ",Pe(n," & ")),Pe(r," "),je(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return Pe(["extend union",t,Pe(n," "),r&&0!==r.length?"= "+Pe(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return Pe(["extend enum",t,Pe(n," "),je(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return Pe(["extend input",t,Pe(n," "),je(r)]," ")}};function Me(e){return function(t){return Pe([t.description,e(t)],"\n")}}function Pe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null===e||void 0===e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function je(e){return Re("{\n",De(Pe(e,"\n")),"\n}")}function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function De(e){return Re("  ",e.replace(/\n/g,"\n  "))}function Ne(e){return-1!==e.indexOf("\n")}function Le(e){return null!=e&&e.some(Ne)}var Fe,Ue,Be=n(119),Ve=n(33),ze=n(37),He=n(350),We=n(84),qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qe.apply(this,arguments)},Ke=new o.a("AbstractPubSubProvider"),Ge=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=qe(qe({},e),this._config),Ke.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return qe({},this._config)},enumerable:!0,configurable:!0}),e}(),Je=n(313);(Ue=Fe||(Fe={})).Connected="Connected",Ue.ConnectedPendingNetwork="ConnectedPendingNetwork",Ue.ConnectionDisrupted="ConnectionDisrupted",Ue.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",Ue.Connecting="Connecting",Ue.ConnectedPendingDisconnect="ConnectedPendingDisconnect",Ue.Disconnected="Disconnected",Ue.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive";var $e,Ye,Qe,Ze=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=function(){function e(){}return e.prototype.networkMonitor=function(t){if(Object(ze.a)().isNode)return Ve.a.from([{online:!0}]);var n=Object(ze.b)()?self:window;return new Ve.a((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},i=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",i),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",i),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,i=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var o=Ze(e._observers),a=o.next();!a.done;a=o.next()){i(a.value)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e._observers=[],e}(),et=function(){return et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},et.apply(this,arguments)},tt={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},nt=function(){function e(){var e=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._linkedConnectionStateObservable=new Ve.a((function(t){t.next(e._linkedConnectionState),e._linkedConnectionStateObserver=t}))}return e.prototype.enableNetworkMonitoring=function(){var e=this;void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=(new Xe).networkMonitor().subscribe((function(t){var n=t.online;e.record(n?tt.ONLINE:tt.OFFLINE)})))},e.prototype.disableNetworkMonitoring=function(){var e;null===(e=this._networkMonitoringSubscription)||void 0===e||e.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(e.prototype,"connectionStateObservable",{get:function(){var e,t=this;return this._linkedConnectionStateObservable.map((function(e){return t.connectionStatesTranslator(e)})).filter((function(t){var n=t!==e;return e=t,n}))},enumerable:!0,configurable:!0}),e.prototype.record=function(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();var t=et(et({},this._linkedConnectionState),e);this._linkedConnectionState=et({},t),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},e.prototype.connectionStatesTranslator=function(e){var t=e.connectionState,n=e.networkState,r=e.intendedConnectionState,i=e.keepAliveState;return"connected"===t&&"disconnected"===n?Fe.ConnectedPendingNetwork:"connected"===t&&"disconnected"===r?Fe.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===r&&"disconnected"===n?Fe.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===r?Fe.ConnectionDisrupted:"connected"===t&&"unhealthy"===i?Fe.ConnectedPendingKeepAlive:"connecting"===t?Fe.Connecting:"disconnected"===t?Fe.Disconnected:Fe.Connected},e}(),rt=[400,401,403],it="ConnectionStateChange";!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}($e||($e={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(Ye||(Ye={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(Qe||(Qe={}));var ot="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",at={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},st=3e5,ct=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=function(){return ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ut.apply(this,arguments)},lt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},dt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ft=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ht=new o.a("MqttOverWSProvider");var pt,vt=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return lt(this,void 0,void 0,(function(){var n,r;return dt(this,(function(i){return(n=this.promises.get(e))?[2,n]:t?(r=t(e),this.promises.set(e,r),[2,r]):[2,void 0]}))}))},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),mt="undefined"!==typeof Symbol?Symbol("topic"):"@@topic",gt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,ut(ut({},t),{clientId:t.clientId||Object(We.v4)()}))||this;return n._clientsQueue=new vt,n.connectionStateMonitor=new nt,n._topicObservers=new Map,n._clientIdObservers=new Map,n.connectionStateMonitor.connectionStateObservable.subscribe((function(e){var t,r,i;t=it,r={provider:n,connectionState:e},i="Connection state is "+e,Je.a.dispatch("pubsub",{event:t,data:r,message:i},"PubSub",ot)})),n}return ct(t,e),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return"object"===typeof e&&e[mt]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=ft(e,["clientId","errorCode"]);if(0!==r){ht.warn(n,JSON.stringify(ut({errorCode:r},i),null,2));var o=[];if(!n)return;var a=this._clientIdObservers.get(n);if(!a)return;a.forEach((function(e){e.error("Disconnected, error code: "+r),t._topicObservers.forEach((function(t,n){t.delete(e),0===t.size&&o.push(n)}))})),this._clientIdObservers.delete(n),o.forEach((function(e){t._topicObservers.delete(e)}))}},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return lt(this,void 0,void 0,(function(){var e,r=this;return dt(this,(function(i){switch(i.label){case 0:return ht.debug("Creating new MQTT client",n),this.connectionStateMonitor.record(tt.OPENING_CONNECTION),(e=new He.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,i=ft(e,["errorCode"]);r.onDisconnect(ut({clientId:n,errorCode:t},i)),r.connectionStateMonitor.record(tt.CLOSED)},[4,new Promise((function(t,n){e.connect({useSSL:r.isSSLEnabled,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:function(){n(),r.connectionStateMonitor.record(tt.CONNECTION_FAILED)}})}))];case 1:return i.sent(),this.connectionStateMonitor.record(tt.CONNECTION_ESTABLISHED),[2,e]}}))}))},t.prototype.connect=function(e,t){return void 0===t&&(t={}),lt(this,void 0,void 0,(function(){var n=this;return dt(this,(function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,(function(e){return n.newClient(ut(ut({},t),{clientId:e}))}))];case 1:return[2,r.sent()]}}))}))},t.prototype.disconnect=function(e){return lt(this,void 0,void 0,(function(){var t;return dt(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e)];case 1:return(t=n.sent())&&t.isConnected()&&(t.disconnect(),this.connectionStateMonitor.record(tt.CLOSED)),this.clientsQueue.remove(e),[2]}}))}))},t.prototype.publish=function(e,t){return lt(this,void 0,void 0,(function(){var n,r,i,o;return dt(this,(function(a){switch(a.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return i=a.sent(),[4,this.connect(this.clientId,{url:i})];case 2:return o=a.sent(),ht.debug("Publishing to topic(s)",n.join(","),r),n.forEach((function(e){return o.send(e,r)})),[2]}}))}))},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach((function(t,r){(function(e,t){for(var n=e.split("/"),r=n.length,i=t.split("/"),o=0;o<r;++o){var a=n[o],s=i[o];if("#"===a)return i.length>=r;if("+"!==a&&a!==s)return!1}return r===i.length})(r,e)&&n.push(t)}));var r=JSON.parse(t);"object"===typeof r&&(r[mt]=e),n.forEach((function(e){e.forEach((function(e){return e.next(r)}))}))}catch(i){ht.warn("Error handling message",i,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return ht.debug("Subscribing to topic(s)",r.join(",")),new Ve.a((function(e){var i;r.forEach((function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)}));var o=t.clientId,a=void 0===o?n.clientId:o,s=n._clientIdObservers.get(a);return s||(s=new Set),s.add(e),n._clientIdObservers.set(a,s),lt(n,void 0,void 0,(function(){var n,o,s,c;return dt(this,(function(u){switch(u.label){case 0:return void 0!==(n=t.url)?[3,2]:[4,this.endpoint];case 1:return s=u.sent(),[3,3];case 2:s=n,u.label=3;case 3:o=s,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.connect(a,{url:o})];case 5:return i=u.sent(),r.forEach((function(e){i.subscribe(e)})),[3,7];case 6:return c=u.sent(),e.error(c),[3,7];case 7:return[2]}}))})),function(){var t,o;return ht.debug("Unsubscribing from topic(s)",r.join(",")),i&&(null===(t=n._clientIdObservers.get(a))||void 0===t||t.delete(e),0===(null===(o=n._clientIdObservers.get(a))||void 0===o?void 0:o.size)&&(n.connectionStateMonitor.record(tt.CLOSING_CONNECTION),n.disconnect(a),n._clientIdObservers.delete(a)),r.forEach((function(t){var r=n._topicObservers.get(t)||new Set;r.delete(e),0===r.size&&(n._topicObservers.delete(t),i.isConnected()&&i.unsubscribe(t))}))),null}}))},t}(Ge),bt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},wt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},St=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},kt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ct=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kt(arguments[t]));return e},Ot=new o.a("AWSAppSyncProvider"),xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return bt(t,e),Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(e,t,n){return yt(this,void 0,void 0,(function(){return wt(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter((function(t){return kt(t,2)[1].clientId===e})).map((function(e){return kt(e,1)[0]})).forEach((function(e){return t._cleanUpForTopic(e)}))},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=St(e,["clientId","errorCode"]);if(0!==r){var o=Array.from(this._topicClient.entries()).filter((function(e){return kt(e,2)[1].clientId===n})).map((function(e){return kt(e,1)[0]}));o.forEach((function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach((function(e){e.closed||e.error(i)})),t._topicObservers.delete(e))})),this._cleanUp(n)}},t.prototype.disconnect=function(t){return yt(this,void 0,void 0,(function(){return wt(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,(function(){return null}))];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}}))}))},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new Ve.a((function(r){var i=[].concat(e);return Ot.debug("Subscribing to topic(s)",i.join(",")),yt(n,void 0,void 0,(function(){var e,n,o,a,s,c=this;return wt(this,(function(u){switch(u.label){case 0:return i.forEach((function(e){c._topicObservers.has(e)||c._topicObservers.set(e,new Set),c._topicObservers.get(e).add(r)})),e=t.mqttConnections,n=void 0===e?[]:e,o=t.newSubscriptions,a=Object.entries(o).map((function(e){var t=kt(e,2),n=t[0];return[t[1].topic,n]})),this._topicAlias=new Map(Ct(Array.from(this._topicAlias.entries()),a)),s=Object.entries(i.reduce((function(e,t){var r=n.find((function(e){return e.topics.indexOf(t)>-1}));if(r){var i=r.client,o=r.url;e[i]||(e[i]={url:o,topics:new Set}),e[i].topics.add(t)}return e}),{})),[4,Promise.all(s.map((function(e){var t=kt(e,2),n=t[0],i=t[1],o=i.url,a=i.topics;return yt(c,void 0,void 0,(function(){var e,t,i=this;return wt(this,(function(s){switch(s.label){case 0:e=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.connect(n,{clientId:n,url:o})];case 2:return e=s.sent(),[3,4];case 3:return t=s.sent(),r.error({message:"Failed to connect",error:t}),r.complete(),[2,void 0];case 4:return a.forEach((function(t){e.isConnected()&&(e.subscribe(t),i._topicClient.set(t,e))})),[2,e]}}))}))})))];case 1:return u.sent(),[2]}}))})),function(){Ot.debug("Unsubscribing from topic(s)",i.join(",")),i.forEach((function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some((function(e){return e===t}))||n.disconnect(t.clientId)),n._topicObservers.delete(e)}))}}));return Ve.a.from(r).map((function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce((function(e,t){var n=kt(t,2),i=n[0],o=n[1];return e[r||i]=o,e}),{}),e}))},t}(gt),Et=n(15),_t=n(22),Tt=n(572),It=n(59),At=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(){return Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mt.apply(this,arguments)},Pt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},jt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Rt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Dt=new o.a("AWSAppSyncRealTimeProvider"),Nt=function(e,t,n){Je.a.dispatch("api",{event:e,data:t,message:n},"PubSub",ot)},Lt=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,Ft=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.socketStatus=Qe.CLOSED,n.keepAliveTimeout=st,n.subscriptionObserverMap=new Map,n.promiseArray=[],n.connectionStateMonitor=new nt,n.connectionStateMonitor.connectionStateObservable.subscribe((function(e){Nt(it,{provider:n,connectionState:e},"Connection state is "+e)})),n}return At(t,e),t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return Pt(this,void 0,void 0,(function(){return jt(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(Lt)},t.prototype.subscribe=function(e,t){var n=this,r=null===t||void 0===t?void 0:t.appSyncGraphqlEndpoint;return new Ve.a((function(e){if(t&&r){var i=Object(We.v4)();return n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:i}).catch((function(t){e.error({errors:[Mt({},new q(pt.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+t))]}),n.connectionStateMonitor.record(tt.CLOSED),e.complete()})),function(){return Pt(n,void 0,void 0,(function(){var e,t;return jt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(i)];case 1:if(n.sent(),!(e=(this.subscriptionObserverMap.get(i)||{}).subscriptionState))return[2];if(e!==Ye.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(i),[3,4];case 2:return t=n.sent(),Dt.debug("Error while unsubscribing "+t),[3,4];case 3:return this._removeSubscriptionObserver(i),[7];case 4:return[2]}}))}))}}e.error({errors:[Mt({},new q("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n,r=e.options,i=e.observer,o=e.subscriptionId;return Pt(this,void 0,void 0,(function(){var e,a,s,c,u,l,d,f,h,p,v,m,g,b,y,w,S,k,C,O,x,E,_,T,I,A=this;return jt(this,(function(M){switch(M.label){case 0:return e=r.appSyncGraphqlEndpoint,a=r.authenticationType,s=r.query,c=r.variables,u=r.apiKey,l=r.region,d=r.graphql_headers,f=void 0===d?function(){return{}}:d,h=r.additionalHeaders,p=void 0===h?{}:h,v=Ye.PENDING,m={query:s,variables:c},this.subscriptionObserverMap.set(o,{observer:i,query:null!==s&&void 0!==s?s:"",variables:null!==c&&void 0!==c?c:{},subscriptionState:v,startAckTimeoutId:void 0}),g=JSON.stringify(m),y=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:u,appSyncGraphqlEndpoint:e,authenticationType:a,payload:g,canonicalUri:"",region:l,additionalHeaders:p})];case 1:return w=[Mt.apply(void 0,y.concat([M.sent()]))],[4,f()];case 2:b=Mt.apply(void 0,[Mt.apply(void 0,[Mt.apply(void 0,w.concat([M.sent()])),p]),(I={},I[Be.c]=_t.a.userAgent,I)]),S={id:o,payload:{data:g,extensions:{authorization:Mt({},b)}},type:$e.GQL_START},k=JSON.stringify(S),M.label=3;case 3:return M.trys.push([3,5,,6]),this.connectionStateMonitor.record(tt.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:u,appSyncGraphqlEndpoint:e,authenticationType:a,region:l,additionalHeaders:p})];case 4:return M.sent(),[3,6];case 5:return C=M.sent(),Dt.debug({err:C}),O=null!==(t=C.message)&&void 0!==t?t:"",this.connectionStateMonitor.record(tt.CLOSED),i.error({errors:[Mt({},new q(pt.CONNECTION_FAILED+": "+O))]}),i.complete(),"function"===typeof(x=(this.subscriptionObserverMap.get(o)||{}).subscriptionFailedCallback)&&x(),[2];case 6:return E=null!==(n=this.subscriptionObserverMap.get(o))&&void 0!==n?n:{},_=E.subscriptionFailedCallback,T=E.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:i,subscriptionState:v,query:null!==s&&void 0!==s?s:"",variables:null!==c&&void 0!==c?c:{},subscriptionReadyCallback:T,subscriptionFailedCallback:_,startAckTimeoutId:setTimeout((function(){A._timeoutStartSubscriptionAck.call(A,o)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(k),[2]}}))}))},t.prototype._waitForSubscriptionToBeConnected=function(e){return Pt(this,void 0,void 0,(function(){var t,n=this;return jt(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===Ye.PENDING?[2,new Promise((function(r,i){var o=t.observer,a=t.subscriptionState,s=t.variables,c=t.query;n.subscriptionObserverMap.set(e,{observer:o,subscriptionState:a,variables:s,query:c,subscriptionReadyCallback:r,subscriptionFailedCallback:i})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===Qe.READY){var t={id:e,type:$e.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(r){Dt.debug({err:r})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(tt.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Dt.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=Qe.CLOSED,this.connectionStateMonitor.record(tt.CLOSED)}else this.socketStatus=Qe.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){var t=this;Dt.debug("subscription message from AWS AppSync RealTime: "+e.data);var n=JSON.parse(e.data),r=n.id,i=void 0===r?"":r,o=n.payload,a=n.type,s=this.subscriptionObserverMap.get(i)||{},c=s.observer,u=void 0===c?null:c,l=s.query,d=void 0===l?"":l,f=s.variables,h=void 0===f?{}:f,p=s.startAckTimeoutId,v=s.subscriptionReadyCallback,m=s.subscriptionFailedCallback;if(Dt.debug({id:i,observer:u,query:d,variables:h}),a===$e.GQL_DATA&&o&&o.data)u?u.next(o):Dt.debug("observer not found for id: "+i);else{if(a===$e.GQL_START_ACK){Dt.debug("subscription ready for "+JSON.stringify({query:d,variables:h})),"function"===typeof v&&v(),p&&clearTimeout(p),Nt(pt.SUBSCRIPTION_ACK,{query:d,variables:h},"Connection established for subscription");var g=Ye.CONNECTED;return u&&this.subscriptionObserverMap.set(i,{observer:u,query:d,variables:h,startAckTimeoutId:void 0,subscriptionState:g,subscriptionReadyCallback:v,subscriptionFailedCallback:m}),void this.connectionStateMonitor.record(tt.CONNECTION_ESTABLISHED)}if(a===$e.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout((function(){return t._errorDisconnect(pt.TIMEOUT_DISCONNECT)}),this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout((function(){t.connectionStateMonitor.record(tt.KEEP_ALIVE_MISSED)}),65e3),void this.connectionStateMonitor.record(tt.KEEP_ALIVE);if(a===$e.GQL_ERROR){g=Ye.FAILED;u&&(this.subscriptionObserverMap.set(i,{observer:u,query:d,variables:h,startAckTimeoutId:p,subscriptionReadyCallback:v,subscriptionFailedCallback:m,subscriptionState:g}),u.error({errors:[Mt({},new q(pt.CONNECTION_FAILED+": "+JSON.stringify(o)))]}),p&&clearTimeout(p),u.complete(),"function"===typeof m&&m())}}},t.prototype._errorDisconnect=function(e){Dt.debug("Disconnect error: "+e),this.subscriptionObserverMap.forEach((function(t){var n=t.observer;n&&!n.closed&&n.error({errors:[Mt({},new q(e))]})})),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(tt.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=Qe.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,i=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:Ye.FAILED}),n&&!n.closed&&(n.error({errors:[Mt({},new q("Subscription timeout "+JSON.stringify({query:r,variables:i})))]}),n.complete()),Dt.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,i=e.apiKey,o=e.region,a=e.additionalHeaders;if(this.socketStatus!==Qe.READY)return new Promise((function(e,s){return Pt(t,void 0,void 0,(function(){var t,c,u,l,d,f,h,p,v,m;return jt(this,(function(g){switch(g.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==Qe.CLOSED)return[3,5];g.label=1;case 1:return g.trys.push([1,4,,5]),this.socketStatus=Qe.CONNECTING,t="{}",l=(u=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:i,appSyncGraphqlEndpoint:n,region:o,additionalHeaders:a})];case 2:return c=l.apply(u,[g.sent()]),d=Et.Buffer.from(c).toString("base64"),f=Et.Buffer.from(t).toString("base64"),h=null!==n&&void 0!==n?n:"",h=this.isCustomDomain(h)?h.concat("/realtime"):h.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),p=this.isSSLEnabled?"wss://":"ws://",h=h.replace("https://",p).replace("http://",p),v=h+"?header="+d+"&payload="+f,[4,this._initializeRetryableHandshake(v)];case 3:return g.sent(),this.promiseArray.forEach((function(e){var t=e.res;Dt.debug("Notifying connection successful"),t()})),this.socketStatus=Qe.READY,this.promiseArray=[],[3,5];case 4:return m=g.sent(),this.promiseArray.forEach((function(e){return(0,e.rej)(m)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=Qe.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){return Pt(this,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return Dt.debug("Initializaling retryable Handshake"),[4,Object(Tt.b)(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){return Pt(this,void 0,void 0,(function(){var t,n,r,i,o=this;return jt(this,(function(a){switch(a.label){case 0:Dt.debug("Initializing handshake "+e),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,new Promise((function(t,n){var r=o.getNewWebSocket(e,"graphql-ws");r.onerror=function(){Dt.debug("WebSocket connection error")},r.onclose=function(){o.connectionStateMonitor.record(tt.CONNECTION_FAILED),n(new Error("Connection handshake error"))},r.onopen=function(){return o.awsRealTimeSocket=r,t()}}))];case 2:return a.sent(),[4,new Promise((function(e,t){if(o.awsRealTimeSocket){var n=!1;o.awsRealTimeSocket.onerror=function(e){Dt.debug("WebSocket error "+JSON.stringify(e))},o.awsRealTimeSocket.onclose=function(e){Dt.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},o.awsRealTimeSocket.onmessage=function(r){Dt.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var i=JSON.parse(r.data),a=i.type,s=i.payload,c=(void 0===s?{}:s).connectionTimeoutMs,u=void 0===c?st:c;if(a===$e.GQL_CONNECTION_ACK)return n=!0,o.awsRealTimeSocket&&(o.keepAliveTimeout=u,o.awsRealTimeSocket.onmessage=o._handleIncomingSubscriptionMessage.bind(o),o.awsRealTimeSocket.onerror=function(e){Dt.debug(e),o._errorDisconnect(pt.CONNECTION_CLOSED)},o.awsRealTimeSocket.onclose=function(e){Dt.debug("WebSocket closed "+e.reason),o._errorDisconnect(pt.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(a===$e.GQL_CONNECTION_ERROR){var l=i.payload,d=(void 0===l?{}:l).errors,f=Rt(void 0===d?[]:d,1)[0],h=void 0===f?{}:f,p=h.errorType,v=void 0===p?"":p,m=h.errorCode;t({errorType:v,errorCode:void 0===m?0:m})}};var r={type:$e.GQL_CONNECTION_INIT};o.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout((function(){n||(o.connectionStateMonitor.record(tt.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))}),15e3)}}))];case 3:return a.sent(),[3,5];case 4:throw t=a.sent(),r=(n=t).errorType,i=n.errorCode,rt.includes(i)?new Tt.a(r):r?new Error(r):t;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.apiKey,a=e.region,s=e.additionalHeaders;return Pt(this,void 0,void 0,(function(){var e,c,u;return jt(this,(function(l){switch(l.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(Dt.debug("Authentication type "+t+" not supported"),[2,""]);case 1:return c=e[t],u=f.parse(null!==i&&void 0!==i?i:"").host,Dt.debug("Authenticating with "+t),[4,c({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:o,region:a,host:u,additionalHeaders:s})];case 2:return[2,l.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return Pt(this,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return[4,It.a.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return Pt(this,void 0,void 0,(function(){var e,n,r;return jt(this,(function(o){switch(o.label){case 0:return[4,i.a.getItem("federatedInfo")];case 1:return(n=o.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,It.a.currentAuthenticatedUser()];case 3:(r=o.sent())&&(e=r.token),o.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return Pt(this,void 0,void 0,(function(){var e,r;return jt(this,(function(i){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,i=e.region;return Pt(this,void 0,void 0,(function(){var e,o,s;return jt(this,(function(c){switch(c.label){case 0:return e={region:i,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!c.sent())throw new Error("No credentials");return[4,a.a.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return o=c.sent(),s={url:""+r+n,data:t,method:"POST",headers:Mt({},at)},[2,u.a.sign(s,o,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return a.a.get().then((function(e){if(!e)return!1;var t=a.a.shear(e);return Dt.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return Dt.warn("ensure credentials error",e),!1}))},t}(Ge),Ut=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Bt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Vt=Object(ze.a)().isNode,zt=new o.a("PubSub"),Ht=new(function(){function e(e){this._options=null!==e&&void 0!==e?e:{},zt.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new xt(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new Ft(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return zt.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return Ut(this,void 0,void 0,(function(){return Bt(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===Be.a?this.awsAppSyncProvider:e===Be.b?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return Ut(this,void 0,void 0,(function(){return Bt(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(Vt&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");zt.debug("subscribe options",t);var n=this.getProviders(t);return new Ve.a((function(r){var i=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return i.forEach((function(e){return e.unsubscribe()}))}}))},e}());y.a.register(Ht),function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(pt||(pt={}));var Wt,qt=Ht;!function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(Wt||(Wt={}));var Kt=function(){return Kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kt.apply(this,arguments)},Gt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Jt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},$t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Yt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Qt=new o.a("GraphQLAPI"),Zt=function(){function e(e){this._api=null,this.Auth=It.a,this.Cache=i.a,this.Credentials=a.a,this._options=e,Qt.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=$t(t,["API"]),o=Kt(Kt({},i),r);return Qt.debug("configure GraphQL API",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),"undefined"!==typeof o.graphql_headers&&"function"!==typeof o.graphql_headers&&(Qt.warn("graphql_headers should be a function"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return Qt.debug("create Rest instance"),this._options?(this._api=new b(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),Gt(this,void 0,void 0,(function(){var n,r,o,a,s,c,u,l;return Jt(this,(function(d){switch(d.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,o=n.aws_appsync_apiKey,a={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(Wt.NO_API_KEY);return a={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!d.sent())throw new Error(Wt.NO_CREDENTIALS);return[3,17];case 4:return d.trys.push([4,9,,10]),s=void 0,[4,i.a.getItem("federatedInfo")];case 5:return(c=d.sent())?(s=c.token,[3,8]):[3,6];case 6:return[4,It.a.currentAuthenticatedUser()];case 7:(u=d.sent())&&(s=u.token),d.label=8;case 8:if(!s)throw new Error(Wt.NO_FEDERATED_JWT);return a={Authorization:s},[3,10];case 9:throw d.sent(),new Error(Wt.NO_CURRENT_USER);case 10:return[3,17];case 11:return d.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return l=d.sent(),a={Authorization:l.getAccessToken().getJwtToken()},[3,14];case 13:throw d.sent(),new Error(Wt.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(Wt.NO_AUTH_TOKEN);return a={Authorization:t.Authorization},[3,17];case 16:return a={Authorization:null},[3,17];case 17:return[2,a]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=ke(e).definitions;return Yt(t,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,i=void 0===r?{}:r,o=e.authMode,a=e.authToken,s=e.userAgentSuffix,c=ke("string"===typeof n?n:Ie(n)),u=Yt(c.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],l=(void 0===u?{}:u).operation,d=t||{};switch(a&&(d.Authorization=a),l){case"query":case"mutation":var f=this._api.getCancellableToken(),h={cancellableToken:f},p=this._graphql({query:c,variables:i,authMode:o,userAgentSuffix:s},d,h);return this._api.updateRequestToBeCancellable(p,f),p;case"subscription":return this._graphqlSubscribe({query:c,variables:i,authMode:o},d);default:throw new Error("invalid operation type: "+l)}},e.prototype._graphql=function(e,t,n){var r=e.query,i=e.variables,o=e.authMode,a=e.userAgentSuffix;return void 0===t&&(t={}),void 0===n&&(n={}),Gt(this,void 0,void 0,(function(){var e,c,u,l,d,f,h,p,v,m,g,b,y,w,S,k,C,O,x,E,_;return Jt(this,(function(T){switch(T.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:T.sent(),T.label=2;case 2:return e=this._options,c=e.aws_appsync_region,u=e.aws_appsync_graphqlEndpoint,l=e.graphql_headers,d=void 0===l?function(){return{}}:l,f=e.graphql_endpoint,h=e.graphql_endpoint_iam_region,v=[{}],(m=!f)?[4,this._headerBasedAuth(o,t)]:[3,4];case 3:m=T.sent(),T.label=4;case 4:return g=[Kt.apply(void 0,v.concat([m]))],(b=f)?h?[4,this._headerBasedAuth(o,t)]:[3,6]:[3,8];case 5:return y=T.sent(),[3,7];case 6:y={Authorization:null},T.label=7;case 7:b=y,T.label=8;case 8:return w=[Kt.apply(void 0,g.concat([b]))],[4,d({query:r,variables:i})];case 9:if(p=Kt.apply(void 0,[Kt.apply(void 0,[Kt.apply(void 0,w.concat([T.sent()])),t]),!f&&(_={},_["x-amz-user-agent"]=Object(s.b)(a),_)]),S={query:Ie(r),variables:i},k=Object.assign({headers:p,body:S,signerServiceInfo:{service:f?"execute-api":"appsync",region:f?h:c}},n),!(C=f||u))throw{data:{},errors:[new q("No graphql endpoint provided.")]};T.label=10;case 10:return T.trys.push([10,12,,13]),[4,this._api.post(C,k)];case 11:return O=T.sent(),[3,13];case 12:if(x=T.sent(),this._api.isCancel(x))throw x;return O={data:{},errors:[new q(x.message,null,null,null,null,x)]},[3,13];case 13:if((E=O.errors)&&E.length)throw O;return[2,O]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,i=e.authMode,o=e.authToken;void 0===t&&(t={});var a=this._options,s=a.aws_appsync_region,c=a.aws_appsync_graphqlEndpoint,u=a.aws_appsync_authenticationType,l=a.aws_appsync_apiKey,d=a.graphql_headers,f=void 0===d?function(){return{}}:d,h=i||u||"AWS_IAM";if(qt&&"function"===typeof qt.subscribe)return qt.subscribe("",{provider:Be.b,appSyncGraphqlEndpoint:c,authenticationType:h,apiKey:l,query:Ie(n),region:s,variables:r,graphql_headers:f,additionalHeaders:t,authToken:o});throw Qt.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return Qt.debug("set credentials for api",n),!0})).catch((function(e){return Qt.warn("ensure credentials error",e),!1}))},e}(),Xt=new Zt(null);y.a.register(Xt);var en=function(){return en=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},en.apply(this,arguments)},tn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},nn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},rn=new o.a("API"),on=new(function(){function e(e){this.Auth=r.a,this.Cache=i.a,this.Credentials=a.a,this._options=e,this._restApi=new x(e),this._graphqlApi=new Zt(e),rn.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return en(en({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},e.prototype.endpoint=function(e){return tn(this,void 0,void 0,(function(){return nn(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}())(null);y.a.register(on)},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(39),i=n(18),o=n(1),a=n.n(o),s=n(27);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Object(i.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var u={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},l=n(569),d=n(570),f=-1e9;function h(){return f+=1}var p=n(557);function v(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(c){throw c}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=Object(i.a)({},o);return Object.keys(a).forEach((function(e){s[e]=Object(p.a)(s[e],a[e])})),s},options:{}}}var m={};function g(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=c({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function b(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,l=e.name;if(!o.disableGeneration){var d=u.get(o.sheetsManager,a,r);d||(d={refs:0,staticSheet:null,dynamicStyles:null},u.set(o.sheetsManager,a,r,d));var f=Object(i.a)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});f.generateId=f.serverGenerateClassName||f.generateClassName;var h=o.sheetsRegistry;if(0===d.refs){var p;o.sheetsCache&&(p=u.get(o.sheetsCache,a,r));var v=a.create(r,l);p||((p=o.jss.createStyleSheet(v,Object(i.a)({link:!1},f))).attach(),o.sheetsCache&&u.set(o.sheetsCache,a,r,p)),h&&h.add(p),d.staticSheet=p,d.dynamicStyles=Object(s.e)(v)}if(d.dynamicStyles){var m=o.jss.createStyleSheet(d.dynamicStyles,Object(i.a)({link:!0},f));m.update(t),m.attach(),n.dynamicSheet=m,n.classes=c({baseClasses:d.staticSheet.classes,newClasses:m.classes}),h&&h.add(m)}else n.classes=d.staticSheet.classes;d.refs+=1}}function y(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function w(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=u.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(u.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function S(e,t){var n,r=a.a.useRef([]),i=a.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[i])}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,c=t.defaultTheme,u=void 0===c?m:c,f=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),p=v(e),k=n||o||"makeStyles";p.options={index:h(),name:n,meta:k,classNamePrefix:k};var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.a)()||u,r=Object(i.a)({},a.a.useContext(d.a),f),o=a.a.useRef(),c=a.a.useRef();S((function(){var i={name:n,state:{},stylesCreator:p,stylesOptions:r,theme:t};return b(i,e),c.current=!1,o.current=i,function(){w(i)}}),[t,p]),a.a.useEffect((function(){c.current&&y(o.current,e),c.current=!0}));var h=g(o.current,e.classes,s);return h};return C}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(123);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=n(128),a=n(55);var s={m:"margin",p:"padding"},c={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=i(e.split(""),2),n=t[0],r=t[1],o=s[n],a=c[r]||"";return Array.isArray(a)?a.map((function(e){return o+e})):[o+a]})),d=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function h(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function p(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===d.indexOf(n))return null;var r=h(l(n),t),i=e[n];return Object(o.a)(e,i,r)})).reduce(a.a,{})}p.propTypes={},p.filterProps=d;t.b=p}]]);
//# sourceMappingURL=2.82309f4e.chunk.js.map